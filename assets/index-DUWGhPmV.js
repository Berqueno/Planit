function qR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function pS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var mS={exports:{}},kf={},gS={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iu=Symbol.for("react.element"),KR=Symbol.for("react.portal"),GR=Symbol.for("react.fragment"),YR=Symbol.for("react.strict_mode"),QR=Symbol.for("react.profiler"),XR=Symbol.for("react.provider"),JR=Symbol.for("react.context"),ZR=Symbol.for("react.forward_ref"),eN=Symbol.for("react.suspense"),tN=Symbol.for("react.memo"),nN=Symbol.for("react.lazy"),S_=Symbol.iterator;function rN(t){return t===null||typeof t!="object"?null:(t=S_&&t[S_]||t["@@iterator"],typeof t=="function"?t:null)}var yS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vS=Object.assign,wS={};function Ba(t,e,n){this.props=t,this.context=e,this.refs=wS,this.updater=n||yS}Ba.prototype.isReactComponent={};Ba.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ba.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function _S(){}_S.prototype=Ba.prototype;function s0(t,e,n){this.props=t,this.context=e,this.refs=wS,this.updater=n||yS}var o0=s0.prototype=new _S;o0.constructor=s0;vS(o0,Ba.prototype);o0.isPureReactComponent=!0;var b_=Array.isArray,xS=Object.prototype.hasOwnProperty,a0={current:null},ES={key:!0,ref:!0,__self:!0,__source:!0};function TS(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)xS.call(e,r)&&!ES.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:iu,type:t,key:s,ref:o,props:i,_owner:a0.current}}function iN(t,e){return{$$typeof:iu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function l0(t){return typeof t=="object"&&t!==null&&t.$$typeof===iu}function sN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var I_=/\/+/g;function $p(t,e){return typeof t=="object"&&t!==null&&t.key!=null?sN(""+t.key):e.toString(36)}function Ld(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case iu:case KR:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+$p(o,0):r,b_(i)?(n="",t!=null&&(n=t.replace(I_,"$&/")+"/"),Ld(i,e,n,"",function(c){return c})):i!=null&&(l0(i)&&(i=iN(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(I_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",b_(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+$p(s,a);o+=Ld(s,e,n,l,i)}else if(l=rN(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+$p(s,a++),o+=Ld(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ju(t,e,n){if(t==null)return t;var r=[],i=0;return Ld(t,r,"","",function(s){return e.call(n,s,i++)}),r}function oN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var hn={current:null},jd={transition:null},aN={ReactCurrentDispatcher:hn,ReactCurrentBatchConfig:jd,ReactCurrentOwner:a0};function SS(){throw Error("act(...) is not supported in production builds of React.")}Ee.Children={map:Ju,forEach:function(t,e,n){Ju(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ju(t,function(){e++}),e},toArray:function(t){return Ju(t,function(e){return e})||[]},only:function(t){if(!l0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ee.Component=Ba;Ee.Fragment=GR;Ee.Profiler=QR;Ee.PureComponent=s0;Ee.StrictMode=YR;Ee.Suspense=eN;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aN;Ee.act=SS;Ee.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=vS({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=a0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)xS.call(e,l)&&!ES.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:iu,type:t.type,key:i,ref:s,props:r,_owner:o}};Ee.createContext=function(t){return t={$$typeof:JR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:XR,_context:t},t.Consumer=t};Ee.createElement=TS;Ee.createFactory=function(t){var e=TS.bind(null,t);return e.type=t,e};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(t){return{$$typeof:ZR,render:t}};Ee.isValidElement=l0;Ee.lazy=function(t){return{$$typeof:nN,_payload:{_status:-1,_result:t},_init:oN}};Ee.memo=function(t,e){return{$$typeof:tN,type:t,compare:e===void 0?null:e}};Ee.startTransition=function(t){var e=jd.transition;jd.transition={};try{t()}finally{jd.transition=e}};Ee.unstable_act=SS;Ee.useCallback=function(t,e){return hn.current.useCallback(t,e)};Ee.useContext=function(t){return hn.current.useContext(t)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(t){return hn.current.useDeferredValue(t)};Ee.useEffect=function(t,e){return hn.current.useEffect(t,e)};Ee.useId=function(){return hn.current.useId()};Ee.useImperativeHandle=function(t,e,n){return hn.current.useImperativeHandle(t,e,n)};Ee.useInsertionEffect=function(t,e){return hn.current.useInsertionEffect(t,e)};Ee.useLayoutEffect=function(t,e){return hn.current.useLayoutEffect(t,e)};Ee.useMemo=function(t,e){return hn.current.useMemo(t,e)};Ee.useReducer=function(t,e,n){return hn.current.useReducer(t,e,n)};Ee.useRef=function(t){return hn.current.useRef(t)};Ee.useState=function(t){return hn.current.useState(t)};Ee.useSyncExternalStore=function(t,e,n){return hn.current.useSyncExternalStore(t,e,n)};Ee.useTransition=function(){return hn.current.useTransition()};Ee.version="18.3.1";gS.exports=Ee;var _=gS.exports;const W=pS(_),lN=qR({__proto__:null,default:W},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cN=_,uN=Symbol.for("react.element"),dN=Symbol.for("react.fragment"),hN=Object.prototype.hasOwnProperty,fN=cN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pN={key:!0,ref:!0,__self:!0,__source:!0};function bS(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)hN.call(e,r)&&!pN.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:uN,type:t,key:s,ref:o,props:i,_owner:fN.current}}kf.Fragment=dN;kf.jsx=bS;kf.jsxs=bS;mS.exports=kf;var b=mS.exports,IS={exports:{}},Fn={},CS={exports:{}},kS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,V){var j=$.length;$.push(V);e:for(;0<j;){var F=j-1>>>1,B=$[F];if(0<i(B,V))$[F]=V,$[j]=B,j=F;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var V=$[0],j=$.pop();if(j!==V){$[0]=j;e:for(var F=0,B=$.length,G=B>>>1;F<G;){var Y=2*(F+1)-1,Z=$[Y],ne=Y+1,ae=$[ne];if(0>i(Z,j))ne<B&&0>i(ae,Z)?($[F]=ae,$[ne]=j,F=ne):($[F]=Z,$[Y]=j,F=Y);else if(ne<B&&0>i(ae,j))$[F]=ae,$[ne]=j,F=ne;else break e}}return V}function i($,V){var j=$.sortIndex-V.sortIndex;return j!==0?j:$.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,f=3,p=!1,y=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x($){for(var V=n(c);V!==null;){if(V.callback===null)r(c);else if(V.startTime<=$)r(c),V.sortIndex=V.expirationTime,e(l,V);else break;V=n(c)}}function k($){if(v=!1,x($),!y)if(n(l)!==null)y=!0,U(O);else{var V=n(c);V!==null&&q(k,V.startTime-$)}}function O($,V){y=!1,v&&(v=!1,g(T),T=-1),p=!0;var j=f;try{for(x(V),h=n(l);h!==null&&(!(h.expirationTime>V)||$&&!N());){var F=h.callback;if(typeof F=="function"){h.callback=null,f=h.priorityLevel;var B=F(h.expirationTime<=V);V=t.unstable_now(),typeof B=="function"?h.callback=B:h===n(l)&&r(l),x(V)}else r(l);h=n(l)}if(h!==null)var G=!0;else{var Y=n(c);Y!==null&&q(k,Y.startTime-V),G=!1}return G}finally{h=null,f=j,p=!1}}var M=!1,I=null,T=-1,C=5,A=-1;function N(){return!(t.unstable_now()-A<C)}function L(){if(I!==null){var $=t.unstable_now();A=$;var V=!0;try{V=I(!0,$)}finally{V?P():(M=!1,I=null)}}else M=!1}var P;if(typeof w=="function")P=function(){w(L)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,H=D.port2;D.port1.onmessage=L,P=function(){H.postMessage(null)}}else P=function(){S(L,0)};function U($){I=$,M||(M=!0,P())}function q($,V){T=S(function(){$(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,U(O))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(f){case 1:case 2:case 3:var V=3;break;default:V=f}var j=f;f=V;try{return $()}finally{f=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,V){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var j=f;f=$;try{return V()}finally{f=j}},t.unstable_scheduleCallback=function($,V,j){var F=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?F+j:F):j=F,$){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=j+B,$={id:u++,callback:V,priorityLevel:$,startTime:j,expirationTime:B,sortIndex:-1},j>F?($.sortIndex=j,e(c,$),n(l)===null&&$===n(c)&&(v?(g(T),T=-1):v=!0,q(k,j-F))):($.sortIndex=B,e(l,$),y||p||(y=!0,U(O))),$},t.unstable_shouldYield=N,t.unstable_wrapCallback=function($){var V=f;return function(){var j=f;f=V;try{return $.apply(this,arguments)}finally{f=j}}}})(kS);CS.exports=kS;var mN=CS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gN=_,On=mN;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var AS=new Set,mc={};function go(t,e){wa(t,e),wa(t+"Capture",e)}function wa(t,e){for(mc[t]=e,t=0;t<e.length;t++)AS.add(e[t])}var li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),eg=Object.prototype.hasOwnProperty,yN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,C_={},k_={};function vN(t){return eg.call(k_,t)?!0:eg.call(C_,t)?!1:yN.test(t)?k_[t]=!0:(C_[t]=!0,!1)}function wN(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function _N(t,e,n,r){if(e===null||typeof e>"u"||wN(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function fn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Bt[t]=new fn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Bt[e]=new fn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Bt[t]=new fn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Bt[t]=new fn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Bt[t]=new fn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Bt[t]=new fn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Bt[t]=new fn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Bt[t]=new fn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Bt[t]=new fn(t,5,!1,t.toLowerCase(),null,!1,!1)});var c0=/[\-:]([a-z])/g;function u0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(c0,u0);Bt[e]=new fn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(c0,u0);Bt[e]=new fn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(c0,u0);Bt[e]=new fn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Bt[t]=new fn(t,1,!1,t.toLowerCase(),null,!1,!1)});Bt.xlinkHref=new fn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Bt[t]=new fn(t,1,!1,t.toLowerCase(),null,!0,!0)});function d0(t,e,n,r){var i=Bt.hasOwnProperty(e)?Bt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(_N(e,n,i,r)&&(n=null),r||i===null?vN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var xi=gN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zu=Symbol.for("react.element"),$o=Symbol.for("react.portal"),Bo=Symbol.for("react.fragment"),h0=Symbol.for("react.strict_mode"),tg=Symbol.for("react.profiler"),PS=Symbol.for("react.provider"),RS=Symbol.for("react.context"),f0=Symbol.for("react.forward_ref"),ng=Symbol.for("react.suspense"),rg=Symbol.for("react.suspense_list"),p0=Symbol.for("react.memo"),Pi=Symbol.for("react.lazy"),NS=Symbol.for("react.offscreen"),A_=Symbol.iterator;function ml(t){return t===null||typeof t!="object"?null:(t=A_&&t[A_]||t["@@iterator"],typeof t=="function"?t:null)}var nt=Object.assign,Bp;function Rl(t){if(Bp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Bp=e&&e[1]||""}return`
`+Bp+t}var zp=!1;function Hp(t,e){if(!t||zp)return"";zp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{zp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Rl(t):""}function xN(t){switch(t.tag){case 5:return Rl(t.type);case 16:return Rl("Lazy");case 13:return Rl("Suspense");case 19:return Rl("SuspenseList");case 0:case 2:case 15:return t=Hp(t.type,!1),t;case 11:return t=Hp(t.type.render,!1),t;case 1:return t=Hp(t.type,!0),t;default:return""}}function ig(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Bo:return"Fragment";case $o:return"Portal";case tg:return"Profiler";case h0:return"StrictMode";case ng:return"Suspense";case rg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case RS:return(t.displayName||"Context")+".Consumer";case PS:return(t._context.displayName||"Context")+".Provider";case f0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case p0:return e=t.displayName||null,e!==null?e:ig(t.type)||"Memo";case Pi:e=t._payload,t=t._init;try{return ig(t(e))}catch{}}return null}function EN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ig(e);case 8:return e===h0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function us(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function DS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function TN(t){var e=DS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ed(t){t._valueTracker||(t._valueTracker=TN(t))}function MS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=DS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function hh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function sg(t,e){var n=e.checked;return nt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function P_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=us(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function VS(t,e){e=e.checked,e!=null&&d0(t,"checked",e,!1)}function og(t,e){VS(t,e);var n=us(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ag(t,e.type,n):e.hasOwnProperty("defaultValue")&&ag(t,e.type,us(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function R_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ag(t,e,n){(e!=="number"||hh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Nl=Array.isArray;function sa(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+us(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function lg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return nt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function N_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(J(92));if(Nl(n)){if(1<n.length)throw Error(J(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:us(n)}}function OS(t,e){var n=us(e.value),r=us(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function D_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function LS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?LS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var td,jS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(td=td||document.createElement("div"),td.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=td.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function gc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Kl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},SN=["Webkit","ms","Moz","O"];Object.keys(Kl).forEach(function(t){SN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Kl[e]=Kl[t]})});function FS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Kl.hasOwnProperty(t)&&Kl[t]?(""+e).trim():e+"px"}function US(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=FS(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var bN=nt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ug(t,e){if(e){if(bN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function dg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hg=null;function m0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fg=null,oa=null,aa=null;function M_(t){if(t=au(t)){if(typeof fg!="function")throw Error(J(280));var e=t.stateNode;e&&(e=Df(e),fg(t.stateNode,t.type,e))}}function $S(t){oa?aa?aa.push(t):aa=[t]:oa=t}function BS(){if(oa){var t=oa,e=aa;if(aa=oa=null,M_(t),e)for(t=0;t<e.length;t++)M_(e[t])}}function zS(t,e){return t(e)}function HS(){}var Wp=!1;function WS(t,e,n){if(Wp)return t(e,n);Wp=!0;try{return zS(t,e,n)}finally{Wp=!1,(oa!==null||aa!==null)&&(HS(),BS())}}function yc(t,e){var n=t.stateNode;if(n===null)return null;var r=Df(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var pg=!1;if(li)try{var gl={};Object.defineProperty(gl,"passive",{get:function(){pg=!0}}),window.addEventListener("test",gl,gl),window.removeEventListener("test",gl,gl)}catch{pg=!1}function IN(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Gl=!1,fh=null,ph=!1,mg=null,CN={onError:function(t){Gl=!0,fh=t}};function kN(t,e,n,r,i,s,o,a,l){Gl=!1,fh=null,IN.apply(CN,arguments)}function AN(t,e,n,r,i,s,o,a,l){if(kN.apply(this,arguments),Gl){if(Gl){var c=fh;Gl=!1,fh=null}else throw Error(J(198));ph||(ph=!0,mg=c)}}function yo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function qS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function V_(t){if(yo(t)!==t)throw Error(J(188))}function PN(t){var e=t.alternate;if(!e){if(e=yo(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return V_(i),t;if(s===r)return V_(i),e;s=s.sibling}throw Error(J(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function KS(t){return t=PN(t),t!==null?GS(t):null}function GS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=GS(t);if(e!==null)return e;t=t.sibling}return null}var YS=On.unstable_scheduleCallback,O_=On.unstable_cancelCallback,RN=On.unstable_shouldYield,NN=On.unstable_requestPaint,ut=On.unstable_now,DN=On.unstable_getCurrentPriorityLevel,g0=On.unstable_ImmediatePriority,QS=On.unstable_UserBlockingPriority,mh=On.unstable_NormalPriority,MN=On.unstable_LowPriority,XS=On.unstable_IdlePriority,Af=null,kr=null;function VN(t){if(kr&&typeof kr.onCommitFiberRoot=="function")try{kr.onCommitFiberRoot(Af,t,void 0,(t.current.flags&128)===128)}catch{}}var pr=Math.clz32?Math.clz32:jN,ON=Math.log,LN=Math.LN2;function jN(t){return t>>>=0,t===0?32:31-(ON(t)/LN|0)|0}var nd=64,rd=4194304;function Dl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function gh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Dl(a):(s&=o,s!==0&&(r=Dl(s)))}else o=n&~i,o!==0?r=Dl(o):s!==0&&(r=Dl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-pr(e),i=1<<n,r|=t[n],e&=~i;return r}function FN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function UN(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-pr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=FN(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function gg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function JS(){var t=nd;return nd<<=1,!(nd&4194240)&&(nd=64),t}function qp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function su(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-pr(e),t[e]=n}function $N(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-pr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function y0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-pr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ve=0;function ZS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var eb,v0,tb,nb,rb,yg=!1,id=[],Gi=null,Yi=null,Qi=null,vc=new Map,wc=new Map,Oi=[],BN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function L_(t,e){switch(t){case"focusin":case"focusout":Gi=null;break;case"dragenter":case"dragleave":Yi=null;break;case"mouseover":case"mouseout":Qi=null;break;case"pointerover":case"pointerout":vc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":wc.delete(e.pointerId)}}function yl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=au(e),e!==null&&v0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function zN(t,e,n,r,i){switch(e){case"focusin":return Gi=yl(Gi,t,e,n,r,i),!0;case"dragenter":return Yi=yl(Yi,t,e,n,r,i),!0;case"mouseover":return Qi=yl(Qi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return vc.set(s,yl(vc.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,wc.set(s,yl(wc.get(s)||null,t,e,n,r,i)),!0}return!1}function ib(t){var e=Fs(t.target);if(e!==null){var n=yo(e);if(n!==null){if(e=n.tag,e===13){if(e=qS(n),e!==null){t.blockedOn=e,rb(t.priority,function(){tb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=vg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);hg=r,n.target.dispatchEvent(r),hg=null}else return e=au(n),e!==null&&v0(e),t.blockedOn=n,!1;e.shift()}return!0}function j_(t,e,n){Fd(t)&&n.delete(e)}function HN(){yg=!1,Gi!==null&&Fd(Gi)&&(Gi=null),Yi!==null&&Fd(Yi)&&(Yi=null),Qi!==null&&Fd(Qi)&&(Qi=null),vc.forEach(j_),wc.forEach(j_)}function vl(t,e){t.blockedOn===e&&(t.blockedOn=null,yg||(yg=!0,On.unstable_scheduleCallback(On.unstable_NormalPriority,HN)))}function _c(t){function e(i){return vl(i,t)}if(0<id.length){vl(id[0],t);for(var n=1;n<id.length;n++){var r=id[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Gi!==null&&vl(Gi,t),Yi!==null&&vl(Yi,t),Qi!==null&&vl(Qi,t),vc.forEach(e),wc.forEach(e),n=0;n<Oi.length;n++)r=Oi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Oi.length&&(n=Oi[0],n.blockedOn===null);)ib(n),n.blockedOn===null&&Oi.shift()}var la=xi.ReactCurrentBatchConfig,yh=!0;function WN(t,e,n,r){var i=Ve,s=la.transition;la.transition=null;try{Ve=1,w0(t,e,n,r)}finally{Ve=i,la.transition=s}}function qN(t,e,n,r){var i=Ve,s=la.transition;la.transition=null;try{Ve=4,w0(t,e,n,r)}finally{Ve=i,la.transition=s}}function w0(t,e,n,r){if(yh){var i=vg(t,e,n,r);if(i===null)nm(t,e,r,vh,n),L_(t,r);else if(zN(i,t,e,n,r))r.stopPropagation();else if(L_(t,r),e&4&&-1<BN.indexOf(t)){for(;i!==null;){var s=au(i);if(s!==null&&eb(s),s=vg(t,e,n,r),s===null&&nm(t,e,r,vh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else nm(t,e,r,null,n)}}var vh=null;function vg(t,e,n,r){if(vh=null,t=m0(r),t=Fs(t),t!==null)if(e=yo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=qS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return vh=t,null}function sb(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(DN()){case g0:return 1;case QS:return 4;case mh:case MN:return 16;case XS:return 536870912;default:return 16}default:return 16}}var Hi=null,_0=null,Ud=null;function ob(){if(Ud)return Ud;var t,e=_0,n=e.length,r,i="value"in Hi?Hi.value:Hi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Ud=i.slice(t,1<r?1-r:void 0)}function $d(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function sd(){return!0}function F_(){return!1}function Un(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?sd:F_,this.isPropagationStopped=F_,this}return nt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=sd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=sd)},persist:function(){},isPersistent:sd}),e}var za={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},x0=Un(za),ou=nt({},za,{view:0,detail:0}),KN=Un(ou),Kp,Gp,wl,Pf=nt({},ou,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:E0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wl&&(wl&&t.type==="mousemove"?(Kp=t.screenX-wl.screenX,Gp=t.screenY-wl.screenY):Gp=Kp=0,wl=t),Kp)},movementY:function(t){return"movementY"in t?t.movementY:Gp}}),U_=Un(Pf),GN=nt({},Pf,{dataTransfer:0}),YN=Un(GN),QN=nt({},ou,{relatedTarget:0}),Yp=Un(QN),XN=nt({},za,{animationName:0,elapsedTime:0,pseudoElement:0}),JN=Un(XN),ZN=nt({},za,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),eD=Un(ZN),tD=nt({},za,{data:0}),$_=Un(tD),nD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=iD[t])?!!e[t]:!1}function E0(){return sD}var oD=nt({},ou,{key:function(t){if(t.key){var e=nD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=$d(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?rD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:E0,charCode:function(t){return t.type==="keypress"?$d(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$d(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),aD=Un(oD),lD=nt({},Pf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),B_=Un(lD),cD=nt({},ou,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:E0}),uD=Un(cD),dD=nt({},za,{propertyName:0,elapsedTime:0,pseudoElement:0}),hD=Un(dD),fD=nt({},Pf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),pD=Un(fD),mD=[9,13,27,32],T0=li&&"CompositionEvent"in window,Yl=null;li&&"documentMode"in document&&(Yl=document.documentMode);var gD=li&&"TextEvent"in window&&!Yl,ab=li&&(!T0||Yl&&8<Yl&&11>=Yl),z_=" ",H_=!1;function lb(t,e){switch(t){case"keyup":return mD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zo=!1;function yD(t,e){switch(t){case"compositionend":return cb(e);case"keypress":return e.which!==32?null:(H_=!0,z_);case"textInput":return t=e.data,t===z_&&H_?null:t;default:return null}}function vD(t,e){if(zo)return t==="compositionend"||!T0&&lb(t,e)?(t=ob(),Ud=_0=Hi=null,zo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ab&&e.locale!=="ko"?null:e.data;default:return null}}var wD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function W_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!wD[t.type]:e==="textarea"}function ub(t,e,n,r){$S(r),e=wh(e,"onChange"),0<e.length&&(n=new x0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ql=null,xc=null;function _D(t){xb(t,0)}function Rf(t){var e=qo(t);if(MS(e))return t}function xD(t,e){if(t==="change")return e}var db=!1;if(li){var Qp;if(li){var Xp="oninput"in document;if(!Xp){var q_=document.createElement("div");q_.setAttribute("oninput","return;"),Xp=typeof q_.oninput=="function"}Qp=Xp}else Qp=!1;db=Qp&&(!document.documentMode||9<document.documentMode)}function K_(){Ql&&(Ql.detachEvent("onpropertychange",hb),xc=Ql=null)}function hb(t){if(t.propertyName==="value"&&Rf(xc)){var e=[];ub(e,xc,t,m0(t)),WS(_D,e)}}function ED(t,e,n){t==="focusin"?(K_(),Ql=e,xc=n,Ql.attachEvent("onpropertychange",hb)):t==="focusout"&&K_()}function TD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Rf(xc)}function SD(t,e){if(t==="click")return Rf(e)}function bD(t,e){if(t==="input"||t==="change")return Rf(e)}function ID(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yr=typeof Object.is=="function"?Object.is:ID;function Ec(t,e){if(yr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!eg.call(e,i)||!yr(t[i],e[i]))return!1}return!0}function G_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Y_(t,e){var n=G_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=G_(n)}}function fb(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?fb(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function pb(){for(var t=window,e=hh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=hh(t.document)}return e}function S0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function CD(t){var e=pb(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&fb(n.ownerDocument.documentElement,n)){if(r!==null&&S0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Y_(n,s);var o=Y_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var kD=li&&"documentMode"in document&&11>=document.documentMode,Ho=null,wg=null,Xl=null,_g=!1;function Q_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_g||Ho==null||Ho!==hh(r)||(r=Ho,"selectionStart"in r&&S0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xl&&Ec(Xl,r)||(Xl=r,r=wh(wg,"onSelect"),0<r.length&&(e=new x0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ho)))}function od(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Wo={animationend:od("Animation","AnimationEnd"),animationiteration:od("Animation","AnimationIteration"),animationstart:od("Animation","AnimationStart"),transitionend:od("Transition","TransitionEnd")},Jp={},mb={};li&&(mb=document.createElement("div").style,"AnimationEvent"in window||(delete Wo.animationend.animation,delete Wo.animationiteration.animation,delete Wo.animationstart.animation),"TransitionEvent"in window||delete Wo.transitionend.transition);function Nf(t){if(Jp[t])return Jp[t];if(!Wo[t])return t;var e=Wo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in mb)return Jp[t]=e[n];return t}var gb=Nf("animationend"),yb=Nf("animationiteration"),vb=Nf("animationstart"),wb=Nf("transitionend"),_b=new Map,X_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ys(t,e){_b.set(t,e),go(e,[t])}for(var Zp=0;Zp<X_.length;Zp++){var em=X_[Zp],AD=em.toLowerCase(),PD=em[0].toUpperCase()+em.slice(1);ys(AD,"on"+PD)}ys(gb,"onAnimationEnd");ys(yb,"onAnimationIteration");ys(vb,"onAnimationStart");ys("dblclick","onDoubleClick");ys("focusin","onFocus");ys("focusout","onBlur");ys(wb,"onTransitionEnd");wa("onMouseEnter",["mouseout","mouseover"]);wa("onMouseLeave",["mouseout","mouseover"]);wa("onPointerEnter",["pointerout","pointerover"]);wa("onPointerLeave",["pointerout","pointerover"]);go("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));go("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));go("onBeforeInput",["compositionend","keypress","textInput","paste"]);go("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));go("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));go("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RD=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ml));function J_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,AN(r,e,void 0,t),t.currentTarget=null}function xb(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;J_(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;J_(i,a,c),s=l}}}if(ph)throw t=mg,ph=!1,mg=null,t}function qe(t,e){var n=e[bg];n===void 0&&(n=e[bg]=new Set);var r=t+"__bubble";n.has(r)||(Eb(e,t,2,!1),n.add(r))}function tm(t,e,n){var r=0;e&&(r|=4),Eb(n,t,r,e)}var ad="_reactListening"+Math.random().toString(36).slice(2);function Tc(t){if(!t[ad]){t[ad]=!0,AS.forEach(function(n){n!=="selectionchange"&&(RD.has(n)||tm(n,!1,t),tm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ad]||(e[ad]=!0,tm("selectionchange",!1,e))}}function Eb(t,e,n,r){switch(sb(e)){case 1:var i=WN;break;case 4:i=qN;break;default:i=w0}n=i.bind(null,e,n,t),i=void 0,!pg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function nm(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Fs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}WS(function(){var c=s,u=m0(n),h=[];e:{var f=_b.get(t);if(f!==void 0){var p=x0,y=t;switch(t){case"keypress":if($d(n)===0)break e;case"keydown":case"keyup":p=aD;break;case"focusin":y="focus",p=Yp;break;case"focusout":y="blur",p=Yp;break;case"beforeblur":case"afterblur":p=Yp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=U_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=YN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=uD;break;case gb:case yb:case vb:p=JN;break;case wb:p=hD;break;case"scroll":p=KN;break;case"wheel":p=pD;break;case"copy":case"cut":case"paste":p=eD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=B_}var v=(e&4)!==0,S=!v&&t==="scroll",g=v?f!==null?f+"Capture":null:f;v=[];for(var w=c,x;w!==null;){x=w;var k=x.stateNode;if(x.tag===5&&k!==null&&(x=k,g!==null&&(k=yc(w,g),k!=null&&v.push(Sc(w,k,x)))),S)break;w=w.return}0<v.length&&(f=new p(f,y,null,n,u),h.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==hg&&(y=n.relatedTarget||n.fromElement)&&(Fs(y)||y[ci]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=c,y=y?Fs(y):null,y!==null&&(S=yo(y),y!==S||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=c),p!==y)){if(v=U_,k="onMouseLeave",g="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(v=B_,k="onPointerLeave",g="onPointerEnter",w="pointer"),S=p==null?f:qo(p),x=y==null?f:qo(y),f=new v(k,w+"leave",p,n,u),f.target=S,f.relatedTarget=x,k=null,Fs(u)===c&&(v=new v(g,w+"enter",y,n,u),v.target=x,v.relatedTarget=S,k=v),S=k,p&&y)t:{for(v=p,g=y,w=0,x=v;x;x=Do(x))w++;for(x=0,k=g;k;k=Do(k))x++;for(;0<w-x;)v=Do(v),w--;for(;0<x-w;)g=Do(g),x--;for(;w--;){if(v===g||g!==null&&v===g.alternate)break t;v=Do(v),g=Do(g)}v=null}else v=null;p!==null&&Z_(h,f,p,v,!1),y!==null&&S!==null&&Z_(h,S,y,v,!0)}}e:{if(f=c?qo(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var O=xD;else if(W_(f))if(db)O=bD;else{O=TD;var M=ED}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(O=SD);if(O&&(O=O(t,c))){ub(h,O,n,u);break e}M&&M(t,f,c),t==="focusout"&&(M=f._wrapperState)&&M.controlled&&f.type==="number"&&ag(f,"number",f.value)}switch(M=c?qo(c):window,t){case"focusin":(W_(M)||M.contentEditable==="true")&&(Ho=M,wg=c,Xl=null);break;case"focusout":Xl=wg=Ho=null;break;case"mousedown":_g=!0;break;case"contextmenu":case"mouseup":case"dragend":_g=!1,Q_(h,n,u);break;case"selectionchange":if(kD)break;case"keydown":case"keyup":Q_(h,n,u)}var I;if(T0)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else zo?lb(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(ab&&n.locale!=="ko"&&(zo||T!=="onCompositionStart"?T==="onCompositionEnd"&&zo&&(I=ob()):(Hi=u,_0="value"in Hi?Hi.value:Hi.textContent,zo=!0)),M=wh(c,T),0<M.length&&(T=new $_(T,t,null,n,u),h.push({event:T,listeners:M}),I?T.data=I:(I=cb(n),I!==null&&(T.data=I)))),(I=gD?yD(t,n):vD(t,n))&&(c=wh(c,"onBeforeInput"),0<c.length&&(u=new $_("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=I))}xb(h,e)})}function Sc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function wh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=yc(t,n),s!=null&&r.unshift(Sc(t,s,i)),s=yc(t,e),s!=null&&r.push(Sc(t,s,i))),t=t.return}return r}function Do(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Z_(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=yc(n,s),l!=null&&o.unshift(Sc(n,l,a))):i||(l=yc(n,s),l!=null&&o.push(Sc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var ND=/\r\n?/g,DD=/\u0000|\uFFFD/g;function e1(t){return(typeof t=="string"?t:""+t).replace(ND,`
`).replace(DD,"")}function ld(t,e,n){if(e=e1(e),e1(t)!==e&&n)throw Error(J(425))}function _h(){}var xg=null,Eg=null;function Tg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Sg=typeof setTimeout=="function"?setTimeout:void 0,MD=typeof clearTimeout=="function"?clearTimeout:void 0,t1=typeof Promise=="function"?Promise:void 0,VD=typeof queueMicrotask=="function"?queueMicrotask:typeof t1<"u"?function(t){return t1.resolve(null).then(t).catch(OD)}:Sg;function OD(t){setTimeout(function(){throw t})}function rm(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),_c(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);_c(e)}function Xi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function n1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ha=Math.random().toString(36).slice(2),Ir="__reactFiber$"+Ha,bc="__reactProps$"+Ha,ci="__reactContainer$"+Ha,bg="__reactEvents$"+Ha,LD="__reactListeners$"+Ha,jD="__reactHandles$"+Ha;function Fs(t){var e=t[Ir];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ci]||n[Ir]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=n1(t);t!==null;){if(n=t[Ir])return n;t=n1(t)}return e}t=n,n=t.parentNode}return null}function au(t){return t=t[Ir]||t[ci],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function qo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function Df(t){return t[bc]||null}var Ig=[],Ko=-1;function vs(t){return{current:t}}function Ge(t){0>Ko||(t.current=Ig[Ko],Ig[Ko]=null,Ko--)}function $e(t,e){Ko++,Ig[Ko]=t.current,t.current=e}var ds={},tn=vs(ds),_n=vs(!1),no=ds;function _a(t,e){var n=t.type.contextTypes;if(!n)return ds;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function xn(t){return t=t.childContextTypes,t!=null}function xh(){Ge(_n),Ge(tn)}function r1(t,e,n){if(tn.current!==ds)throw Error(J(168));$e(tn,e),$e(_n,n)}function Tb(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(J(108,EN(t)||"Unknown",i));return nt({},n,r)}function Eh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ds,no=tn.current,$e(tn,t),$e(_n,_n.current),!0}function i1(t,e,n){var r=t.stateNode;if(!r)throw Error(J(169));n?(t=Tb(t,e,no),r.__reactInternalMemoizedMergedChildContext=t,Ge(_n),Ge(tn),$e(tn,t)):Ge(_n),$e(_n,n)}var Yr=null,Mf=!1,im=!1;function Sb(t){Yr===null?Yr=[t]:Yr.push(t)}function FD(t){Mf=!0,Sb(t)}function ws(){if(!im&&Yr!==null){im=!0;var t=0,e=Ve;try{var n=Yr;for(Ve=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Yr=null,Mf=!1}catch(i){throw Yr!==null&&(Yr=Yr.slice(t+1)),YS(g0,ws),i}finally{Ve=e,im=!1}}return null}var Go=[],Yo=0,Th=null,Sh=0,Gn=[],Yn=0,ro=null,Qr=1,Xr="";function Ns(t,e){Go[Yo++]=Sh,Go[Yo++]=Th,Th=t,Sh=e}function bb(t,e,n){Gn[Yn++]=Qr,Gn[Yn++]=Xr,Gn[Yn++]=ro,ro=t;var r=Qr;t=Xr;var i=32-pr(r)-1;r&=~(1<<i),n+=1;var s=32-pr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Qr=1<<32-pr(e)+i|n<<i|r,Xr=s+t}else Qr=1<<s|n<<i|r,Xr=t}function b0(t){t.return!==null&&(Ns(t,1),bb(t,1,0))}function I0(t){for(;t===Th;)Th=Go[--Yo],Go[Yo]=null,Sh=Go[--Yo],Go[Yo]=null;for(;t===ro;)ro=Gn[--Yn],Gn[Yn]=null,Xr=Gn[--Yn],Gn[Yn]=null,Qr=Gn[--Yn],Gn[Yn]=null}var Vn=null,Dn=null,Ye=!1,hr=null;function Ib(t,e){var n=Xn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function s1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Vn=t,Dn=Xi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Vn=t,Dn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ro!==null?{id:Qr,overflow:Xr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Xn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Vn=t,Dn=null,!0):!1;default:return!1}}function Cg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function kg(t){if(Ye){var e=Dn;if(e){var n=e;if(!s1(t,e)){if(Cg(t))throw Error(J(418));e=Xi(n.nextSibling);var r=Vn;e&&s1(t,e)?Ib(r,n):(t.flags=t.flags&-4097|2,Ye=!1,Vn=t)}}else{if(Cg(t))throw Error(J(418));t.flags=t.flags&-4097|2,Ye=!1,Vn=t}}}function o1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Vn=t}function cd(t){if(t!==Vn)return!1;if(!Ye)return o1(t),Ye=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Tg(t.type,t.memoizedProps)),e&&(e=Dn)){if(Cg(t))throw Cb(),Error(J(418));for(;e;)Ib(t,e),e=Xi(e.nextSibling)}if(o1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Dn=Xi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Dn=null}}else Dn=Vn?Xi(t.stateNode.nextSibling):null;return!0}function Cb(){for(var t=Dn;t;)t=Xi(t.nextSibling)}function xa(){Dn=Vn=null,Ye=!1}function C0(t){hr===null?hr=[t]:hr.push(t)}var UD=xi.ReactCurrentBatchConfig;function _l(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,t))}return t}function ud(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function a1(t){var e=t._init;return e(t._payload)}function kb(t){function e(g,w){if(t){var x=g.deletions;x===null?(g.deletions=[w],g.flags|=16):x.push(w)}}function n(g,w){if(!t)return null;for(;w!==null;)e(g,w),w=w.sibling;return null}function r(g,w){for(g=new Map;w!==null;)w.key!==null?g.set(w.key,w):g.set(w.index,w),w=w.sibling;return g}function i(g,w){return g=ts(g,w),g.index=0,g.sibling=null,g}function s(g,w,x){return g.index=x,t?(x=g.alternate,x!==null?(x=x.index,x<w?(g.flags|=2,w):x):(g.flags|=2,w)):(g.flags|=1048576,w)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,w,x,k){return w===null||w.tag!==6?(w=dm(x,g.mode,k),w.return=g,w):(w=i(w,x),w.return=g,w)}function l(g,w,x,k){var O=x.type;return O===Bo?u(g,w,x.props.children,k,x.key):w!==null&&(w.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Pi&&a1(O)===w.type)?(k=i(w,x.props),k.ref=_l(g,w,x),k.return=g,k):(k=Gd(x.type,x.key,x.props,null,g.mode,k),k.ref=_l(g,w,x),k.return=g,k)}function c(g,w,x,k){return w===null||w.tag!==4||w.stateNode.containerInfo!==x.containerInfo||w.stateNode.implementation!==x.implementation?(w=hm(x,g.mode,k),w.return=g,w):(w=i(w,x.children||[]),w.return=g,w)}function u(g,w,x,k,O){return w===null||w.tag!==7?(w=Qs(x,g.mode,k,O),w.return=g,w):(w=i(w,x),w.return=g,w)}function h(g,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return w=dm(""+w,g.mode,x),w.return=g,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Zu:return x=Gd(w.type,w.key,w.props,null,g.mode,x),x.ref=_l(g,null,w),x.return=g,x;case $o:return w=hm(w,g.mode,x),w.return=g,w;case Pi:var k=w._init;return h(g,k(w._payload),x)}if(Nl(w)||ml(w))return w=Qs(w,g.mode,x,null),w.return=g,w;ud(g,w)}return null}function f(g,w,x,k){var O=w!==null?w.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return O!==null?null:a(g,w,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Zu:return x.key===O?l(g,w,x,k):null;case $o:return x.key===O?c(g,w,x,k):null;case Pi:return O=x._init,f(g,w,O(x._payload),k)}if(Nl(x)||ml(x))return O!==null?null:u(g,w,x,k,null);ud(g,x)}return null}function p(g,w,x,k,O){if(typeof k=="string"&&k!==""||typeof k=="number")return g=g.get(x)||null,a(w,g,""+k,O);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Zu:return g=g.get(k.key===null?x:k.key)||null,l(w,g,k,O);case $o:return g=g.get(k.key===null?x:k.key)||null,c(w,g,k,O);case Pi:var M=k._init;return p(g,w,x,M(k._payload),O)}if(Nl(k)||ml(k))return g=g.get(x)||null,u(w,g,k,O,null);ud(w,k)}return null}function y(g,w,x,k){for(var O=null,M=null,I=w,T=w=0,C=null;I!==null&&T<x.length;T++){I.index>T?(C=I,I=null):C=I.sibling;var A=f(g,I,x[T],k);if(A===null){I===null&&(I=C);break}t&&I&&A.alternate===null&&e(g,I),w=s(A,w,T),M===null?O=A:M.sibling=A,M=A,I=C}if(T===x.length)return n(g,I),Ye&&Ns(g,T),O;if(I===null){for(;T<x.length;T++)I=h(g,x[T],k),I!==null&&(w=s(I,w,T),M===null?O=I:M.sibling=I,M=I);return Ye&&Ns(g,T),O}for(I=r(g,I);T<x.length;T++)C=p(I,g,T,x[T],k),C!==null&&(t&&C.alternate!==null&&I.delete(C.key===null?T:C.key),w=s(C,w,T),M===null?O=C:M.sibling=C,M=C);return t&&I.forEach(function(N){return e(g,N)}),Ye&&Ns(g,T),O}function v(g,w,x,k){var O=ml(x);if(typeof O!="function")throw Error(J(150));if(x=O.call(x),x==null)throw Error(J(151));for(var M=O=null,I=w,T=w=0,C=null,A=x.next();I!==null&&!A.done;T++,A=x.next()){I.index>T?(C=I,I=null):C=I.sibling;var N=f(g,I,A.value,k);if(N===null){I===null&&(I=C);break}t&&I&&N.alternate===null&&e(g,I),w=s(N,w,T),M===null?O=N:M.sibling=N,M=N,I=C}if(A.done)return n(g,I),Ye&&Ns(g,T),O;if(I===null){for(;!A.done;T++,A=x.next())A=h(g,A.value,k),A!==null&&(w=s(A,w,T),M===null?O=A:M.sibling=A,M=A);return Ye&&Ns(g,T),O}for(I=r(g,I);!A.done;T++,A=x.next())A=p(I,g,T,A.value,k),A!==null&&(t&&A.alternate!==null&&I.delete(A.key===null?T:A.key),w=s(A,w,T),M===null?O=A:M.sibling=A,M=A);return t&&I.forEach(function(L){return e(g,L)}),Ye&&Ns(g,T),O}function S(g,w,x,k){if(typeof x=="object"&&x!==null&&x.type===Bo&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Zu:e:{for(var O=x.key,M=w;M!==null;){if(M.key===O){if(O=x.type,O===Bo){if(M.tag===7){n(g,M.sibling),w=i(M,x.props.children),w.return=g,g=w;break e}}else if(M.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Pi&&a1(O)===M.type){n(g,M.sibling),w=i(M,x.props),w.ref=_l(g,M,x),w.return=g,g=w;break e}n(g,M);break}else e(g,M);M=M.sibling}x.type===Bo?(w=Qs(x.props.children,g.mode,k,x.key),w.return=g,g=w):(k=Gd(x.type,x.key,x.props,null,g.mode,k),k.ref=_l(g,w,x),k.return=g,g=k)}return o(g);case $o:e:{for(M=x.key;w!==null;){if(w.key===M)if(w.tag===4&&w.stateNode.containerInfo===x.containerInfo&&w.stateNode.implementation===x.implementation){n(g,w.sibling),w=i(w,x.children||[]),w.return=g,g=w;break e}else{n(g,w);break}else e(g,w);w=w.sibling}w=hm(x,g.mode,k),w.return=g,g=w}return o(g);case Pi:return M=x._init,S(g,w,M(x._payload),k)}if(Nl(x))return y(g,w,x,k);if(ml(x))return v(g,w,x,k);ud(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,w!==null&&w.tag===6?(n(g,w.sibling),w=i(w,x),w.return=g,g=w):(n(g,w),w=dm(x,g.mode,k),w.return=g,g=w),o(g)):n(g,w)}return S}var Ea=kb(!0),Ab=kb(!1),bh=vs(null),Ih=null,Qo=null,k0=null;function A0(){k0=Qo=Ih=null}function P0(t){var e=bh.current;Ge(bh),t._currentValue=e}function Ag(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ca(t,e){Ih=t,k0=Qo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(vn=!0),t.firstContext=null)}function tr(t){var e=t._currentValue;if(k0!==t)if(t={context:t,memoizedValue:e,next:null},Qo===null){if(Ih===null)throw Error(J(308));Qo=t,Ih.dependencies={lanes:0,firstContext:t}}else Qo=Qo.next=t;return e}var Us=null;function R0(t){Us===null?Us=[t]:Us.push(t)}function Pb(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,R0(e)):(n.next=i.next,i.next=n),e.interleaved=n,ui(t,r)}function ui(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ri=!1;function N0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ri(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ji(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ke&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ui(t,n)}return i=r.interleaved,i===null?(e.next=e,R0(r)):(e.next=i.next,i.next=e),r.interleaved=e,ui(t,n)}function Bd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,y0(t,n)}}function l1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ch(t,e,n,r){var i=t.updateQueue;Ri=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,u=c=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,v=a;switch(f=e,p=n,v.tag){case 1:if(y=v.payload,typeof y=="function"){h=y.call(p,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,f=typeof y=="function"?y.call(p,h,f):y,f==null)break e;h=nt({},h,f);break e;case 2:Ri=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=h):u=u.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);so|=o,t.lanes=o,t.memoizedState=h}}function c1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(J(191,i));i.call(r)}}}var lu={},Ar=vs(lu),Ic=vs(lu),Cc=vs(lu);function $s(t){if(t===lu)throw Error(J(174));return t}function D0(t,e){switch($e(Cc,e),$e(Ic,t),$e(Ar,lu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:cg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=cg(e,t)}Ge(Ar),$e(Ar,e)}function Ta(){Ge(Ar),Ge(Ic),Ge(Cc)}function Nb(t){$s(Cc.current);var e=$s(Ar.current),n=cg(e,t.type);e!==n&&($e(Ic,t),$e(Ar,n))}function M0(t){Ic.current===t&&(Ge(Ar),Ge(Ic))}var Ze=vs(0);function kh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var sm=[];function V0(){for(var t=0;t<sm.length;t++)sm[t]._workInProgressVersionPrimary=null;sm.length=0}var zd=xi.ReactCurrentDispatcher,om=xi.ReactCurrentBatchConfig,io=0,tt=null,wt=null,Pt=null,Ah=!1,Jl=!1,kc=0,$D=0;function Gt(){throw Error(J(321))}function O0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!yr(t[n],e[n]))return!1;return!0}function L0(t,e,n,r,i,s){if(io=s,tt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,zd.current=t===null||t.memoizedState===null?WD:qD,t=n(r,i),Jl){s=0;do{if(Jl=!1,kc=0,25<=s)throw Error(J(301));s+=1,Pt=wt=null,e.updateQueue=null,zd.current=KD,t=n(r,i)}while(Jl)}if(zd.current=Ph,e=wt!==null&&wt.next!==null,io=0,Pt=wt=tt=null,Ah=!1,e)throw Error(J(300));return t}function j0(){var t=kc!==0;return kc=0,t}function br(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?tt.memoizedState=Pt=t:Pt=Pt.next=t,Pt}function nr(){if(wt===null){var t=tt.alternate;t=t!==null?t.memoizedState:null}else t=wt.next;var e=Pt===null?tt.memoizedState:Pt.next;if(e!==null)Pt=e,wt=t;else{if(t===null)throw Error(J(310));wt=t,t={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},Pt===null?tt.memoizedState=Pt=t:Pt=Pt.next=t}return Pt}function Ac(t,e){return typeof e=="function"?e(t):e}function am(t){var e=nr(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=wt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((io&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,tt.lanes|=u,so|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,yr(r,e.memoizedState)||(vn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,tt.lanes|=s,so|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function lm(t){var e=nr(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);yr(s,e.memoizedState)||(vn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Db(){}function Mb(t,e){var n=tt,r=nr(),i=e(),s=!yr(r.memoizedState,i);if(s&&(r.memoizedState=i,vn=!0),r=r.queue,F0(Lb.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Pt!==null&&Pt.memoizedState.tag&1){if(n.flags|=2048,Pc(9,Ob.bind(null,n,r,i,e),void 0,null),Nt===null)throw Error(J(349));io&30||Vb(n,e,i)}return i}function Vb(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=tt.updateQueue,e===null?(e={lastEffect:null,stores:null},tt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Ob(t,e,n,r){e.value=n,e.getSnapshot=r,jb(e)&&Fb(t)}function Lb(t,e,n){return n(function(){jb(e)&&Fb(t)})}function jb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!yr(t,n)}catch{return!0}}function Fb(t){var e=ui(t,1);e!==null&&mr(e,t,1,-1)}function u1(t){var e=br();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ac,lastRenderedState:t},e.queue=t,t=t.dispatch=HD.bind(null,tt,t),[e.memoizedState,t]}function Pc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=tt.updateQueue,e===null?(e={lastEffect:null,stores:null},tt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Ub(){return nr().memoizedState}function Hd(t,e,n,r){var i=br();tt.flags|=t,i.memoizedState=Pc(1|e,n,void 0,r===void 0?null:r)}function Vf(t,e,n,r){var i=nr();r=r===void 0?null:r;var s=void 0;if(wt!==null){var o=wt.memoizedState;if(s=o.destroy,r!==null&&O0(r,o.deps)){i.memoizedState=Pc(e,n,s,r);return}}tt.flags|=t,i.memoizedState=Pc(1|e,n,s,r)}function d1(t,e){return Hd(8390656,8,t,e)}function F0(t,e){return Vf(2048,8,t,e)}function $b(t,e){return Vf(4,2,t,e)}function Bb(t,e){return Vf(4,4,t,e)}function zb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Hb(t,e,n){return n=n!=null?n.concat([t]):null,Vf(4,4,zb.bind(null,e,t),n)}function U0(){}function Wb(t,e){var n=nr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&O0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function qb(t,e){var n=nr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&O0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Kb(t,e,n){return io&21?(yr(n,e)||(n=JS(),tt.lanes|=n,so|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,vn=!0),t.memoizedState=n)}function BD(t,e){var n=Ve;Ve=n!==0&&4>n?n:4,t(!0);var r=om.transition;om.transition={};try{t(!1),e()}finally{Ve=n,om.transition=r}}function Gb(){return nr().memoizedState}function zD(t,e,n){var r=es(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Yb(t))Qb(e,n);else if(n=Pb(t,e,n,r),n!==null){var i=dn();mr(n,t,r,i),Xb(n,e,r)}}function HD(t,e,n){var r=es(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yb(t))Qb(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,yr(a,o)){var l=e.interleaved;l===null?(i.next=i,R0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Pb(t,e,i,r),n!==null&&(i=dn(),mr(n,t,r,i),Xb(n,e,r))}}function Yb(t){var e=t.alternate;return t===tt||e!==null&&e===tt}function Qb(t,e){Jl=Ah=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Xb(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,y0(t,n)}}var Ph={readContext:tr,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useInsertionEffect:Gt,useLayoutEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useMutableSource:Gt,useSyncExternalStore:Gt,useId:Gt,unstable_isNewReconciler:!1},WD={readContext:tr,useCallback:function(t,e){return br().memoizedState=[t,e===void 0?null:e],t},useContext:tr,useEffect:d1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Hd(4194308,4,zb.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Hd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Hd(4,2,t,e)},useMemo:function(t,e){var n=br();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=br();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=zD.bind(null,tt,t),[r.memoizedState,t]},useRef:function(t){var e=br();return t={current:t},e.memoizedState=t},useState:u1,useDebugValue:U0,useDeferredValue:function(t){return br().memoizedState=t},useTransition:function(){var t=u1(!1),e=t[0];return t=BD.bind(null,t[1]),br().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=tt,i=br();if(Ye){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),Nt===null)throw Error(J(349));io&30||Vb(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,d1(Lb.bind(null,r,s,t),[t]),r.flags|=2048,Pc(9,Ob.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=br(),e=Nt.identifierPrefix;if(Ye){var n=Xr,r=Qr;n=(r&~(1<<32-pr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=kc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=$D++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},qD={readContext:tr,useCallback:Wb,useContext:tr,useEffect:F0,useImperativeHandle:Hb,useInsertionEffect:$b,useLayoutEffect:Bb,useMemo:qb,useReducer:am,useRef:Ub,useState:function(){return am(Ac)},useDebugValue:U0,useDeferredValue:function(t){var e=nr();return Kb(e,wt.memoizedState,t)},useTransition:function(){var t=am(Ac)[0],e=nr().memoizedState;return[t,e]},useMutableSource:Db,useSyncExternalStore:Mb,useId:Gb,unstable_isNewReconciler:!1},KD={readContext:tr,useCallback:Wb,useContext:tr,useEffect:F0,useImperativeHandle:Hb,useInsertionEffect:$b,useLayoutEffect:Bb,useMemo:qb,useReducer:lm,useRef:Ub,useState:function(){return lm(Ac)},useDebugValue:U0,useDeferredValue:function(t){var e=nr();return wt===null?e.memoizedState=t:Kb(e,wt.memoizedState,t)},useTransition:function(){var t=lm(Ac)[0],e=nr().memoizedState;return[t,e]},useMutableSource:Db,useSyncExternalStore:Mb,useId:Gb,unstable_isNewReconciler:!1};function cr(t,e){if(t&&t.defaultProps){e=nt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Pg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:nt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Of={isMounted:function(t){return(t=t._reactInternals)?yo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=dn(),i=es(t),s=ri(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ji(t,s,i),e!==null&&(mr(e,t,i,r),Bd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=dn(),i=es(t),s=ri(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ji(t,s,i),e!==null&&(mr(e,t,i,r),Bd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=dn(),r=es(t),i=ri(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ji(t,i,r),e!==null&&(mr(e,t,r,n),Bd(e,t,r))}};function h1(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ec(n,r)||!Ec(i,s):!0}function Jb(t,e,n){var r=!1,i=ds,s=e.contextType;return typeof s=="object"&&s!==null?s=tr(s):(i=xn(e)?no:tn.current,r=e.contextTypes,s=(r=r!=null)?_a(t,i):ds),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Of,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function f1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Of.enqueueReplaceState(e,e.state,null)}function Rg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},N0(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=tr(s):(s=xn(e)?no:tn.current,i.context=_a(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Pg(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Of.enqueueReplaceState(i,i.state,null),Ch(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Sa(t,e){try{var n="",r=e;do n+=xN(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function cm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ng(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var GD=typeof WeakMap=="function"?WeakMap:Map;function Zb(t,e,n){n=ri(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Nh||(Nh=!0,Bg=r),Ng(t,e)},n}function eI(t,e,n){n=ri(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Ng(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Ng(t,e),typeof r!="function"&&(Zi===null?Zi=new Set([this]):Zi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function p1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new GD;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=lM.bind(null,t,e,n),e.then(t,t))}function m1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function g1(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ri(-1,1),e.tag=2,Ji(n,e,1))),n.lanes|=1),t)}var YD=xi.ReactCurrentOwner,vn=!1;function ln(t,e,n,r){e.child=t===null?Ab(e,null,n,r):Ea(e,t.child,n,r)}function y1(t,e,n,r,i){n=n.render;var s=e.ref;return ca(e,i),r=L0(t,e,n,r,s,i),n=j0(),t!==null&&!vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,di(t,e,i)):(Ye&&n&&b0(e),e.flags|=1,ln(t,e,r,i),e.child)}function v1(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!G0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,tI(t,e,s,r,i)):(t=Gd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ec,n(o,r)&&t.ref===e.ref)return di(t,e,i)}return e.flags|=1,t=ts(s,r),t.ref=e.ref,t.return=e,e.child=t}function tI(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ec(s,r)&&t.ref===e.ref)if(vn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(vn=!0);else return e.lanes=t.lanes,di(t,e,i)}return Dg(t,e,n,r,i)}function nI(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(Jo,Nn),Nn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,$e(Jo,Nn),Nn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,$e(Jo,Nn),Nn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,$e(Jo,Nn),Nn|=r;return ln(t,e,i,n),e.child}function rI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Dg(t,e,n,r,i){var s=xn(n)?no:tn.current;return s=_a(e,s),ca(e,i),n=L0(t,e,n,r,s,i),r=j0(),t!==null&&!vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,di(t,e,i)):(Ye&&r&&b0(e),e.flags|=1,ln(t,e,n,i),e.child)}function w1(t,e,n,r,i){if(xn(n)){var s=!0;Eh(e)}else s=!1;if(ca(e,i),e.stateNode===null)Wd(t,e),Jb(e,n,r),Rg(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=tr(c):(c=xn(n)?no:tn.current,c=_a(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&f1(e,o,r,c),Ri=!1;var f=e.memoizedState;o.state=f,Ch(e,r,o,i),l=e.memoizedState,a!==r||f!==l||_n.current||Ri?(typeof u=="function"&&(Pg(e,n,u,r),l=e.memoizedState),(a=Ri||h1(e,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Rb(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:cr(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=tr(l):(l=xn(n)?no:tn.current,l=_a(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&f1(e,o,r,l),Ri=!1,f=e.memoizedState,o.state=f,Ch(e,r,o,i);var y=e.memoizedState;a!==h||f!==y||_n.current||Ri?(typeof p=="function"&&(Pg(e,n,p,r),y=e.memoizedState),(c=Ri||h1(e,n,c,r,f,y,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Mg(t,e,n,r,s,i)}function Mg(t,e,n,r,i,s){rI(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&i1(e,n,!1),di(t,e,s);r=e.stateNode,YD.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ea(e,t.child,null,s),e.child=Ea(e,null,a,s)):ln(t,e,a,s),e.memoizedState=r.state,i&&i1(e,n,!0),e.child}function iI(t){var e=t.stateNode;e.pendingContext?r1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&r1(t,e.context,!1),D0(t,e.containerInfo)}function _1(t,e,n,r,i){return xa(),C0(i),e.flags|=256,ln(t,e,n,r),e.child}var Vg={dehydrated:null,treeContext:null,retryLane:0};function Og(t){return{baseLanes:t,cachePool:null,transitions:null}}function sI(t,e,n){var r=e.pendingProps,i=Ze.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),$e(Ze,i&1),t===null)return kg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ff(o,r,0,null),t=Qs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Og(n),e.memoizedState=Vg,t):$0(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return QD(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ts(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ts(a,s):(s=Qs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Og(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Vg,r}return s=t.child,t=s.sibling,r=ts(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function $0(t,e){return e=Ff({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function dd(t,e,n,r){return r!==null&&C0(r),Ea(e,t.child,null,n),t=$0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function QD(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=cm(Error(J(422))),dd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Ff({mode:"visible",children:r.children},i,0,null),s=Qs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ea(e,t.child,null,o),e.child.memoizedState=Og(o),e.memoizedState=Vg,s);if(!(e.mode&1))return dd(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(J(419)),r=cm(s,r,void 0),dd(t,e,o,r)}if(a=(o&t.childLanes)!==0,vn||a){if(r=Nt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ui(t,i),mr(r,t,i,-1))}return K0(),r=cm(Error(J(421))),dd(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=cM.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Dn=Xi(i.nextSibling),Vn=e,Ye=!0,hr=null,t!==null&&(Gn[Yn++]=Qr,Gn[Yn++]=Xr,Gn[Yn++]=ro,Qr=t.id,Xr=t.overflow,ro=e),e=$0(e,r.children),e.flags|=4096,e)}function x1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ag(t.return,e,n)}function um(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function oI(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(ln(t,e,r.children,n),r=Ze.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&x1(t,n,e);else if(t.tag===19)x1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if($e(Ze,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&kh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),um(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&kh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}um(e,!0,n,null,s);break;case"together":um(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Wd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function di(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),so|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=ts(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ts(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function XD(t,e,n){switch(e.tag){case 3:iI(e),xa();break;case 5:Nb(e);break;case 1:xn(e.type)&&Eh(e);break;case 4:D0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;$e(bh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?($e(Ze,Ze.current&1),e.flags|=128,null):n&e.child.childLanes?sI(t,e,n):($e(Ze,Ze.current&1),t=di(t,e,n),t!==null?t.sibling:null);$e(Ze,Ze.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return oI(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),$e(Ze,Ze.current),r)break;return null;case 22:case 23:return e.lanes=0,nI(t,e,n)}return di(t,e,n)}var aI,Lg,lI,cI;aI=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Lg=function(){};lI=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,$s(Ar.current);var s=null;switch(n){case"input":i=sg(t,i),r=sg(t,r),s=[];break;case"select":i=nt({},i,{value:void 0}),r=nt({},r,{value:void 0}),s=[];break;case"textarea":i=lg(t,i),r=lg(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=_h)}ug(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(mc.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(mc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&qe("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};cI=function(t,e,n,r){n!==r&&(e.flags|=4)};function xl(t,e){if(!Ye)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Yt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function JD(t,e,n){var r=e.pendingProps;switch(I0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(e),null;case 1:return xn(e.type)&&xh(),Yt(e),null;case 3:return r=e.stateNode,Ta(),Ge(_n),Ge(tn),V0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(cd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,hr!==null&&(Wg(hr),hr=null))),Lg(t,e),Yt(e),null;case 5:M0(e);var i=$s(Cc.current);if(n=e.type,t!==null&&e.stateNode!=null)lI(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(J(166));return Yt(e),null}if(t=$s(Ar.current),cd(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Ir]=e,r[bc]=s,t=(e.mode&1)!==0,n){case"dialog":qe("cancel",r),qe("close",r);break;case"iframe":case"object":case"embed":qe("load",r);break;case"video":case"audio":for(i=0;i<Ml.length;i++)qe(Ml[i],r);break;case"source":qe("error",r);break;case"img":case"image":case"link":qe("error",r),qe("load",r);break;case"details":qe("toggle",r);break;case"input":P_(r,s),qe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},qe("invalid",r);break;case"textarea":N_(r,s),qe("invalid",r)}ug(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&ld(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ld(r.textContent,a,t),i=["children",""+a]):mc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&qe("scroll",r)}switch(n){case"input":ed(r),R_(r,s,!0);break;case"textarea":ed(r),D_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=_h)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=LS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ir]=e,t[bc]=r,aI(t,e,!1,!1),e.stateNode=t;e:{switch(o=dg(n,r),n){case"dialog":qe("cancel",t),qe("close",t),i=r;break;case"iframe":case"object":case"embed":qe("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ml.length;i++)qe(Ml[i],t);i=r;break;case"source":qe("error",t),i=r;break;case"img":case"image":case"link":qe("error",t),qe("load",t),i=r;break;case"details":qe("toggle",t),i=r;break;case"input":P_(t,r),i=sg(t,r),qe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=nt({},r,{value:void 0}),qe("invalid",t);break;case"textarea":N_(t,r),i=lg(t,r),qe("invalid",t);break;default:i=r}ug(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?US(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&jS(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&gc(t,l):typeof l=="number"&&gc(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(mc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&qe("scroll",t):l!=null&&d0(t,s,l,o))}switch(n){case"input":ed(t),R_(t,r,!1);break;case"textarea":ed(t),D_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+us(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?sa(t,!!r.multiple,s,!1):r.defaultValue!=null&&sa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=_h)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Yt(e),null;case 6:if(t&&e.stateNode!=null)cI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(n=$s(Cc.current),$s(Ar.current),cd(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ir]=e,(s=r.nodeValue!==n)&&(t=Vn,t!==null))switch(t.tag){case 3:ld(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ld(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ir]=e,e.stateNode=r}return Yt(e),null;case 13:if(Ge(Ze),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ye&&Dn!==null&&e.mode&1&&!(e.flags&128))Cb(),xa(),e.flags|=98560,s=!1;else if(s=cd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(J(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(J(317));s[Ir]=e}else xa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Yt(e),s=!1}else hr!==null&&(Wg(hr),hr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ze.current&1?xt===0&&(xt=3):K0())),e.updateQueue!==null&&(e.flags|=4),Yt(e),null);case 4:return Ta(),Lg(t,e),t===null&&Tc(e.stateNode.containerInfo),Yt(e),null;case 10:return P0(e.type._context),Yt(e),null;case 17:return xn(e.type)&&xh(),Yt(e),null;case 19:if(Ge(Ze),s=e.memoizedState,s===null)return Yt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)xl(s,!1);else{if(xt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=kh(t),o!==null){for(e.flags|=128,xl(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return $e(Ze,Ze.current&1|2),e.child}t=t.sibling}s.tail!==null&&ut()>ba&&(e.flags|=128,r=!0,xl(s,!1),e.lanes=4194304)}else{if(!r)if(t=kh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),xl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ye)return Yt(e),null}else 2*ut()-s.renderingStartTime>ba&&n!==1073741824&&(e.flags|=128,r=!0,xl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ut(),e.sibling=null,n=Ze.current,$e(Ze,r?n&1|2:n&1),e):(Yt(e),null);case 22:case 23:return q0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Nn&1073741824&&(Yt(e),e.subtreeFlags&6&&(e.flags|=8192)):Yt(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function ZD(t,e){switch(I0(e),e.tag){case 1:return xn(e.type)&&xh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ta(),Ge(_n),Ge(tn),V0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return M0(e),null;case 13:if(Ge(Ze),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));xa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ge(Ze),null;case 4:return Ta(),null;case 10:return P0(e.type._context),null;case 22:case 23:return q0(),null;case 24:return null;default:return null}}var hd=!1,Zt=!1,eM=typeof WeakSet=="function"?WeakSet:Set,ie=null;function Xo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){at(t,e,r)}else n.current=null}function jg(t,e,n){try{n()}catch(r){at(t,e,r)}}var E1=!1;function tM(t,e){if(xg=yh,t=pb(),S0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=t,f=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++u===r&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Eg={focusedElem:t,selectionRange:n},yh=!1,ie=e;ie!==null;)if(e=ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ie=t;else for(;ie!==null;){e=ie;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,S=y.memoizedState,g=e.stateNode,w=g.getSnapshotBeforeUpdate(e.elementType===e.type?v:cr(e.type,v),S);g.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(k){at(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,ie=t;break}ie=e.return}return y=E1,E1=!1,y}function Zl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&jg(e,n,s)}i=i.next}while(i!==r)}}function Lf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Fg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function uI(t){var e=t.alternate;e!==null&&(t.alternate=null,uI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ir],delete e[bc],delete e[bg],delete e[LD],delete e[jD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function dI(t){return t.tag===5||t.tag===3||t.tag===4}function T1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||dI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ug(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=_h));else if(r!==4&&(t=t.child,t!==null))for(Ug(t,e,n),t=t.sibling;t!==null;)Ug(t,e,n),t=t.sibling}function $g(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for($g(t,e,n),t=t.sibling;t!==null;)$g(t,e,n),t=t.sibling}var Lt=null,ur=!1;function Ii(t,e,n){for(n=n.child;n!==null;)hI(t,e,n),n=n.sibling}function hI(t,e,n){if(kr&&typeof kr.onCommitFiberUnmount=="function")try{kr.onCommitFiberUnmount(Af,n)}catch{}switch(n.tag){case 5:Zt||Xo(n,e);case 6:var r=Lt,i=ur;Lt=null,Ii(t,e,n),Lt=r,ur=i,Lt!==null&&(ur?(t=Lt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Lt.removeChild(n.stateNode));break;case 18:Lt!==null&&(ur?(t=Lt,n=n.stateNode,t.nodeType===8?rm(t.parentNode,n):t.nodeType===1&&rm(t,n),_c(t)):rm(Lt,n.stateNode));break;case 4:r=Lt,i=ur,Lt=n.stateNode.containerInfo,ur=!0,Ii(t,e,n),Lt=r,ur=i;break;case 0:case 11:case 14:case 15:if(!Zt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&jg(n,e,o),i=i.next}while(i!==r)}Ii(t,e,n);break;case 1:if(!Zt&&(Xo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){at(n,e,a)}Ii(t,e,n);break;case 21:Ii(t,e,n);break;case 22:n.mode&1?(Zt=(r=Zt)||n.memoizedState!==null,Ii(t,e,n),Zt=r):Ii(t,e,n);break;default:Ii(t,e,n)}}function S1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new eM),e.forEach(function(r){var i=uM.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function lr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Lt=a.stateNode,ur=!1;break e;case 3:Lt=a.stateNode.containerInfo,ur=!0;break e;case 4:Lt=a.stateNode.containerInfo,ur=!0;break e}a=a.return}if(Lt===null)throw Error(J(160));hI(s,o,i),Lt=null,ur=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){at(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)fI(e,t),e=e.sibling}function fI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(lr(e,t),Sr(t),r&4){try{Zl(3,t,t.return),Lf(3,t)}catch(v){at(t,t.return,v)}try{Zl(5,t,t.return)}catch(v){at(t,t.return,v)}}break;case 1:lr(e,t),Sr(t),r&512&&n!==null&&Xo(n,n.return);break;case 5:if(lr(e,t),Sr(t),r&512&&n!==null&&Xo(n,n.return),t.flags&32){var i=t.stateNode;try{gc(i,"")}catch(v){at(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&VS(i,s),dg(a,o);var c=dg(a,s);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?US(i,h):u==="dangerouslySetInnerHTML"?jS(i,h):u==="children"?gc(i,h):d0(i,u,h,c)}switch(a){case"input":og(i,s);break;case"textarea":OS(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?sa(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?sa(i,!!s.multiple,s.defaultValue,!0):sa(i,!!s.multiple,s.multiple?[]:"",!1))}i[bc]=s}catch(v){at(t,t.return,v)}}break;case 6:if(lr(e,t),Sr(t),r&4){if(t.stateNode===null)throw Error(J(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){at(t,t.return,v)}}break;case 3:if(lr(e,t),Sr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{_c(e.containerInfo)}catch(v){at(t,t.return,v)}break;case 4:lr(e,t),Sr(t);break;case 13:lr(e,t),Sr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(H0=ut())),r&4&&S1(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Zt=(c=Zt)||u,lr(e,t),Zt=c):lr(e,t),Sr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(ie=t,u=t.child;u!==null;){for(h=ie=u;ie!==null;){switch(f=ie,p=f.child,f.tag){case 0:case 11:case 14:case 15:Zl(4,f,f.return);break;case 1:Xo(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(v){at(r,n,v)}}break;case 5:Xo(f,f.return);break;case 22:if(f.memoizedState!==null){I1(h);continue}}p!==null?(p.return=f,ie=p):I1(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=FS("display",o))}catch(v){at(t,t.return,v)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(v){at(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:lr(e,t),Sr(t),r&4&&S1(t);break;case 21:break;default:lr(e,t),Sr(t)}}function Sr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(dI(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(gc(i,""),r.flags&=-33);var s=T1(t);$g(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=T1(t);Ug(t,a,o);break;default:throw Error(J(161))}}catch(l){at(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function nM(t,e,n){ie=t,pI(t)}function pI(t,e,n){for(var r=(t.mode&1)!==0;ie!==null;){var i=ie,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||hd;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Zt;a=hd;var c=Zt;if(hd=o,(Zt=l)&&!c)for(ie=i;ie!==null;)o=ie,l=o.child,o.tag===22&&o.memoizedState!==null?C1(i):l!==null?(l.return=o,ie=l):C1(i);for(;s!==null;)ie=s,pI(s),s=s.sibling;ie=i,hd=a,Zt=c}b1(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ie=s):b1(t)}}function b1(t){for(;ie!==null;){var e=ie;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Zt||Lf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Zt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:cr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&c1(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}c1(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&_c(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}Zt||e.flags&512&&Fg(e)}catch(f){at(e,e.return,f)}}if(e===t){ie=null;break}if(n=e.sibling,n!==null){n.return=e.return,ie=n;break}ie=e.return}}function I1(t){for(;ie!==null;){var e=ie;if(e===t){ie=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ie=n;break}ie=e.return}}function C1(t){for(;ie!==null;){var e=ie;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Lf(4,e)}catch(l){at(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){at(e,i,l)}}var s=e.return;try{Fg(e)}catch(l){at(e,s,l)}break;case 5:var o=e.return;try{Fg(e)}catch(l){at(e,o,l)}}}catch(l){at(e,e.return,l)}if(e===t){ie=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ie=a;break}ie=e.return}}var rM=Math.ceil,Rh=xi.ReactCurrentDispatcher,B0=xi.ReactCurrentOwner,Zn=xi.ReactCurrentBatchConfig,ke=0,Nt=null,gt=null,Ut=0,Nn=0,Jo=vs(0),xt=0,Rc=null,so=0,jf=0,z0=0,ec=null,gn=null,H0=0,ba=1/0,Kr=null,Nh=!1,Bg=null,Zi=null,fd=!1,Wi=null,Dh=0,tc=0,zg=null,qd=-1,Kd=0;function dn(){return ke&6?ut():qd!==-1?qd:qd=ut()}function es(t){return t.mode&1?ke&2&&Ut!==0?Ut&-Ut:UD.transition!==null?(Kd===0&&(Kd=JS()),Kd):(t=Ve,t!==0||(t=window.event,t=t===void 0?16:sb(t.type)),t):1}function mr(t,e,n,r){if(50<tc)throw tc=0,zg=null,Error(J(185));su(t,n,r),(!(ke&2)||t!==Nt)&&(t===Nt&&(!(ke&2)&&(jf|=n),xt===4&&Li(t,Ut)),En(t,r),n===1&&ke===0&&!(e.mode&1)&&(ba=ut()+500,Mf&&ws()))}function En(t,e){var n=t.callbackNode;UN(t,e);var r=gh(t,t===Nt?Ut:0);if(r===0)n!==null&&O_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&O_(n),e===1)t.tag===0?FD(k1.bind(null,t)):Sb(k1.bind(null,t)),VD(function(){!(ke&6)&&ws()}),n=null;else{switch(ZS(r)){case 1:n=g0;break;case 4:n=QS;break;case 16:n=mh;break;case 536870912:n=XS;break;default:n=mh}n=EI(n,mI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function mI(t,e){if(qd=-1,Kd=0,ke&6)throw Error(J(327));var n=t.callbackNode;if(ua()&&t.callbackNode!==n)return null;var r=gh(t,t===Nt?Ut:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Mh(t,r);else{e=r;var i=ke;ke|=2;var s=yI();(Nt!==t||Ut!==e)&&(Kr=null,ba=ut()+500,Ys(t,e));do try{oM();break}catch(a){gI(t,a)}while(!0);A0(),Rh.current=s,ke=i,gt!==null?e=0:(Nt=null,Ut=0,e=xt)}if(e!==0){if(e===2&&(i=gg(t),i!==0&&(r=i,e=Hg(t,i))),e===1)throw n=Rc,Ys(t,0),Li(t,r),En(t,ut()),n;if(e===6)Li(t,r);else{if(i=t.current.alternate,!(r&30)&&!iM(i)&&(e=Mh(t,r),e===2&&(s=gg(t),s!==0&&(r=s,e=Hg(t,s))),e===1))throw n=Rc,Ys(t,0),Li(t,r),En(t,ut()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(J(345));case 2:Ds(t,gn,Kr);break;case 3:if(Li(t,r),(r&130023424)===r&&(e=H0+500-ut(),10<e)){if(gh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){dn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Sg(Ds.bind(null,t,gn,Kr),e);break}Ds(t,gn,Kr);break;case 4:if(Li(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-pr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ut()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*rM(r/1960))-r,10<r){t.timeoutHandle=Sg(Ds.bind(null,t,gn,Kr),r);break}Ds(t,gn,Kr);break;case 5:Ds(t,gn,Kr);break;default:throw Error(J(329))}}}return En(t,ut()),t.callbackNode===n?mI.bind(null,t):null}function Hg(t,e){var n=ec;return t.current.memoizedState.isDehydrated&&(Ys(t,e).flags|=256),t=Mh(t,e),t!==2&&(e=gn,gn=n,e!==null&&Wg(e)),t}function Wg(t){gn===null?gn=t:gn.push.apply(gn,t)}function iM(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!yr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Li(t,e){for(e&=~z0,e&=~jf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-pr(e),r=1<<n;t[n]=-1,e&=~r}}function k1(t){if(ke&6)throw Error(J(327));ua();var e=gh(t,0);if(!(e&1))return En(t,ut()),null;var n=Mh(t,e);if(t.tag!==0&&n===2){var r=gg(t);r!==0&&(e=r,n=Hg(t,r))}if(n===1)throw n=Rc,Ys(t,0),Li(t,e),En(t,ut()),n;if(n===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ds(t,gn,Kr),En(t,ut()),null}function W0(t,e){var n=ke;ke|=1;try{return t(e)}finally{ke=n,ke===0&&(ba=ut()+500,Mf&&ws())}}function oo(t){Wi!==null&&Wi.tag===0&&!(ke&6)&&ua();var e=ke;ke|=1;var n=Zn.transition,r=Ve;try{if(Zn.transition=null,Ve=1,t)return t()}finally{Ve=r,Zn.transition=n,ke=e,!(ke&6)&&ws()}}function q0(){Nn=Jo.current,Ge(Jo)}function Ys(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,MD(n)),gt!==null)for(n=gt.return;n!==null;){var r=n;switch(I0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&xh();break;case 3:Ta(),Ge(_n),Ge(tn),V0();break;case 5:M0(r);break;case 4:Ta();break;case 13:Ge(Ze);break;case 19:Ge(Ze);break;case 10:P0(r.type._context);break;case 22:case 23:q0()}n=n.return}if(Nt=t,gt=t=ts(t.current,null),Ut=Nn=e,xt=0,Rc=null,z0=jf=so=0,gn=ec=null,Us!==null){for(e=0;e<Us.length;e++)if(n=Us[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Us=null}return t}function gI(t,e){do{var n=gt;try{if(A0(),zd.current=Ph,Ah){for(var r=tt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ah=!1}if(io=0,Pt=wt=tt=null,Jl=!1,kc=0,B0.current=null,n===null||n.return===null){xt=1,Rc=e,gt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Ut,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=m1(o);if(p!==null){p.flags&=-257,g1(p,o,a,s,e),p.mode&1&&p1(s,c,e),e=p,l=c;var y=e.updateQueue;if(y===null){var v=new Set;v.add(l),e.updateQueue=v}else y.add(l);break e}else{if(!(e&1)){p1(s,c,e),K0();break e}l=Error(J(426))}}else if(Ye&&a.mode&1){var S=m1(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),g1(S,o,a,s,e),C0(Sa(l,a));break e}}s=l=Sa(l,a),xt!==4&&(xt=2),ec===null?ec=[s]:ec.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=Zb(s,l,e);l1(s,g);break e;case 1:a=l;var w=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Zi===null||!Zi.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var k=eI(s,a,e);l1(s,k);break e}}s=s.return}while(s!==null)}wI(n)}catch(O){e=O,gt===n&&n!==null&&(gt=n=n.return);continue}break}while(!0)}function yI(){var t=Rh.current;return Rh.current=Ph,t===null?Ph:t}function K0(){(xt===0||xt===3||xt===2)&&(xt=4),Nt===null||!(so&268435455)&&!(jf&268435455)||Li(Nt,Ut)}function Mh(t,e){var n=ke;ke|=2;var r=yI();(Nt!==t||Ut!==e)&&(Kr=null,Ys(t,e));do try{sM();break}catch(i){gI(t,i)}while(!0);if(A0(),ke=n,Rh.current=r,gt!==null)throw Error(J(261));return Nt=null,Ut=0,xt}function sM(){for(;gt!==null;)vI(gt)}function oM(){for(;gt!==null&&!RN();)vI(gt)}function vI(t){var e=xI(t.alternate,t,Nn);t.memoizedProps=t.pendingProps,e===null?wI(t):gt=e,B0.current=null}function wI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=ZD(n,e),n!==null){n.flags&=32767,gt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{xt=6,gt=null;return}}else if(n=JD(n,e,Nn),n!==null){gt=n;return}if(e=e.sibling,e!==null){gt=e;return}gt=e=t}while(e!==null);xt===0&&(xt=5)}function Ds(t,e,n){var r=Ve,i=Zn.transition;try{Zn.transition=null,Ve=1,aM(t,e,n,r)}finally{Zn.transition=i,Ve=r}return null}function aM(t,e,n,r){do ua();while(Wi!==null);if(ke&6)throw Error(J(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if($N(t,s),t===Nt&&(gt=Nt=null,Ut=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||fd||(fd=!0,EI(mh,function(){return ua(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Zn.transition,Zn.transition=null;var o=Ve;Ve=1;var a=ke;ke|=4,B0.current=null,tM(t,n),fI(n,t),CD(Eg),yh=!!xg,Eg=xg=null,t.current=n,nM(n),NN(),ke=a,Ve=o,Zn.transition=s}else t.current=n;if(fd&&(fd=!1,Wi=t,Dh=i),s=t.pendingLanes,s===0&&(Zi=null),VN(n.stateNode),En(t,ut()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Nh)throw Nh=!1,t=Bg,Bg=null,t;return Dh&1&&t.tag!==0&&ua(),s=t.pendingLanes,s&1?t===zg?tc++:(tc=0,zg=t):tc=0,ws(),null}function ua(){if(Wi!==null){var t=ZS(Dh),e=Zn.transition,n=Ve;try{if(Zn.transition=null,Ve=16>t?16:t,Wi===null)var r=!1;else{if(t=Wi,Wi=null,Dh=0,ke&6)throw Error(J(331));var i=ke;for(ke|=4,ie=t.current;ie!==null;){var s=ie,o=s.child;if(ie.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ie=c;ie!==null;){var u=ie;switch(u.tag){case 0:case 11:case 15:Zl(8,u,s)}var h=u.child;if(h!==null)h.return=u,ie=h;else for(;ie!==null;){u=ie;var f=u.sibling,p=u.return;if(uI(u),u===c){ie=null;break}if(f!==null){f.return=p,ie=f;break}ie=p}}}var y=s.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var S=v.sibling;v.sibling=null,v=S}while(v!==null)}}ie=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ie=o;else e:for(;ie!==null;){if(s=ie,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Zl(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,ie=g;break e}ie=s.return}}var w=t.current;for(ie=w;ie!==null;){o=ie;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,ie=x;else e:for(o=w;ie!==null;){if(a=ie,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Lf(9,a)}}catch(O){at(a,a.return,O)}if(a===o){ie=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,ie=k;break e}ie=a.return}}if(ke=i,ws(),kr&&typeof kr.onPostCommitFiberRoot=="function")try{kr.onPostCommitFiberRoot(Af,t)}catch{}r=!0}return r}finally{Ve=n,Zn.transition=e}}return!1}function A1(t,e,n){e=Sa(n,e),e=Zb(t,e,1),t=Ji(t,e,1),e=dn(),t!==null&&(su(t,1,e),En(t,e))}function at(t,e,n){if(t.tag===3)A1(t,t,n);else for(;e!==null;){if(e.tag===3){A1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Zi===null||!Zi.has(r))){t=Sa(n,t),t=eI(e,t,1),e=Ji(e,t,1),t=dn(),e!==null&&(su(e,1,t),En(e,t));break}}e=e.return}}function lM(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=dn(),t.pingedLanes|=t.suspendedLanes&n,Nt===t&&(Ut&n)===n&&(xt===4||xt===3&&(Ut&130023424)===Ut&&500>ut()-H0?Ys(t,0):z0|=n),En(t,e)}function _I(t,e){e===0&&(t.mode&1?(e=rd,rd<<=1,!(rd&130023424)&&(rd=4194304)):e=1);var n=dn();t=ui(t,e),t!==null&&(su(t,e,n),En(t,n))}function cM(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),_I(t,n)}function uM(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(e),_I(t,n)}var xI;xI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||_n.current)vn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return vn=!1,XD(t,e,n);vn=!!(t.flags&131072)}else vn=!1,Ye&&e.flags&1048576&&bb(e,Sh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Wd(t,e),t=e.pendingProps;var i=_a(e,tn.current);ca(e,n),i=L0(null,e,r,t,i,n);var s=j0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,xn(r)?(s=!0,Eh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,N0(e),i.updater=Of,e.stateNode=i,i._reactInternals=e,Rg(e,r,t,n),e=Mg(null,e,r,!0,s,n)):(e.tag=0,Ye&&s&&b0(e),ln(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Wd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=hM(r),t=cr(r,t),i){case 0:e=Dg(null,e,r,t,n);break e;case 1:e=w1(null,e,r,t,n);break e;case 11:e=y1(null,e,r,t,n);break e;case 14:e=v1(null,e,r,cr(r.type,t),n);break e}throw Error(J(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:cr(r,i),Dg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:cr(r,i),w1(t,e,r,i,n);case 3:e:{if(iI(e),t===null)throw Error(J(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Rb(t,e),Ch(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Sa(Error(J(423)),e),e=_1(t,e,r,n,i);break e}else if(r!==i){i=Sa(Error(J(424)),e),e=_1(t,e,r,n,i);break e}else for(Dn=Xi(e.stateNode.containerInfo.firstChild),Vn=e,Ye=!0,hr=null,n=Ab(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xa(),r===i){e=di(t,e,n);break e}ln(t,e,r,n)}e=e.child}return e;case 5:return Nb(e),t===null&&kg(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Tg(r,i)?o=null:s!==null&&Tg(r,s)&&(e.flags|=32),rI(t,e),ln(t,e,o,n),e.child;case 6:return t===null&&kg(e),null;case 13:return sI(t,e,n);case 4:return D0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ea(e,null,r,n):ln(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:cr(r,i),y1(t,e,r,i,n);case 7:return ln(t,e,e.pendingProps,n),e.child;case 8:return ln(t,e,e.pendingProps.children,n),e.child;case 12:return ln(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,$e(bh,r._currentValue),r._currentValue=o,s!==null)if(yr(s.value,o)){if(s.children===i.children&&!_n.current){e=di(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ri(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Ag(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(J(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ag(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ln(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ca(e,n),i=tr(i),r=r(i),e.flags|=1,ln(t,e,r,n),e.child;case 14:return r=e.type,i=cr(r,e.pendingProps),i=cr(r.type,i),v1(t,e,r,i,n);case 15:return tI(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:cr(r,i),Wd(t,e),e.tag=1,xn(r)?(t=!0,Eh(e)):t=!1,ca(e,n),Jb(e,r,i),Rg(e,r,i,n),Mg(null,e,r,!0,t,n);case 19:return oI(t,e,n);case 22:return nI(t,e,n)}throw Error(J(156,e.tag))};function EI(t,e){return YS(t,e)}function dM(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(t,e,n,r){return new dM(t,e,n,r)}function G0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hM(t){if(typeof t=="function")return G0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===f0)return 11;if(t===p0)return 14}return 2}function ts(t,e){var n=t.alternate;return n===null?(n=Xn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Gd(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")G0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Bo:return Qs(n.children,i,s,e);case h0:o=8,i|=8;break;case tg:return t=Xn(12,n,e,i|2),t.elementType=tg,t.lanes=s,t;case ng:return t=Xn(13,n,e,i),t.elementType=ng,t.lanes=s,t;case rg:return t=Xn(19,n,e,i),t.elementType=rg,t.lanes=s,t;case NS:return Ff(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case PS:o=10;break e;case RS:o=9;break e;case f0:o=11;break e;case p0:o=14;break e;case Pi:o=16,r=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=Xn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Qs(t,e,n,r){return t=Xn(7,t,r,e),t.lanes=n,t}function Ff(t,e,n,r){return t=Xn(22,t,r,e),t.elementType=NS,t.lanes=n,t.stateNode={isHidden:!1},t}function dm(t,e,n){return t=Xn(6,t,null,e),t.lanes=n,t}function hm(t,e,n){return e=Xn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function fM(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qp(0),this.expirationTimes=qp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Y0(t,e,n,r,i,s,o,a,l){return t=new fM(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Xn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},N0(s),t}function pM(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$o,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function TI(t){if(!t)return ds;t=t._reactInternals;e:{if(yo(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(xn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var n=t.type;if(xn(n))return Tb(t,n,e)}return e}function SI(t,e,n,r,i,s,o,a,l){return t=Y0(n,r,!0,t,i,s,o,a,l),t.context=TI(null),n=t.current,r=dn(),i=es(n),s=ri(r,i),s.callback=e??null,Ji(n,s,i),t.current.lanes=i,su(t,i,r),En(t,r),t}function Uf(t,e,n,r){var i=e.current,s=dn(),o=es(i);return n=TI(n),e.context===null?e.context=n:e.pendingContext=n,e=ri(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ji(i,e,o),t!==null&&(mr(t,i,o,s),Bd(t,i,o)),o}function Vh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function P1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Q0(t,e){P1(t,e),(t=t.alternate)&&P1(t,e)}function mM(){return null}var bI=typeof reportError=="function"?reportError:function(t){console.error(t)};function X0(t){this._internalRoot=t}$f.prototype.render=X0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));Uf(t,e,null,null)};$f.prototype.unmount=X0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;oo(function(){Uf(null,t,null,null)}),e[ci]=null}};function $f(t){this._internalRoot=t}$f.prototype.unstable_scheduleHydration=function(t){if(t){var e=nb();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Oi.length&&e!==0&&e<Oi[n].priority;n++);Oi.splice(n,0,t),n===0&&ib(t)}};function J0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Bf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function R1(){}function gM(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Vh(o);s.call(c)}}var o=SI(e,r,t,0,null,!1,!1,"",R1);return t._reactRootContainer=o,t[ci]=o.current,Tc(t.nodeType===8?t.parentNode:t),oo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Vh(l);a.call(c)}}var l=Y0(t,0,!1,null,null,!1,!1,"",R1);return t._reactRootContainer=l,t[ci]=l.current,Tc(t.nodeType===8?t.parentNode:t),oo(function(){Uf(e,l,n,r)}),l}function zf(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Vh(o);a.call(l)}}Uf(e,o,t,i)}else o=gM(n,e,t,i,r);return Vh(o)}eb=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Dl(e.pendingLanes);n!==0&&(y0(e,n|1),En(e,ut()),!(ke&6)&&(ba=ut()+500,ws()))}break;case 13:oo(function(){var r=ui(t,1);if(r!==null){var i=dn();mr(r,t,1,i)}}),Q0(t,1)}};v0=function(t){if(t.tag===13){var e=ui(t,134217728);if(e!==null){var n=dn();mr(e,t,134217728,n)}Q0(t,134217728)}};tb=function(t){if(t.tag===13){var e=es(t),n=ui(t,e);if(n!==null){var r=dn();mr(n,t,e,r)}Q0(t,e)}};nb=function(){return Ve};rb=function(t,e){var n=Ve;try{return Ve=t,e()}finally{Ve=n}};fg=function(t,e,n){switch(e){case"input":if(og(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Df(r);if(!i)throw Error(J(90));MS(r),og(r,i)}}}break;case"textarea":OS(t,n);break;case"select":e=n.value,e!=null&&sa(t,!!n.multiple,e,!1)}};zS=W0;HS=oo;var yM={usingClientEntryPoint:!1,Events:[au,qo,Df,$S,BS,W0]},El={findFiberByHostInstance:Fs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vM={bundleType:El.bundleType,version:El.version,rendererPackageName:El.rendererPackageName,rendererConfig:El.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=KS(t),t===null?null:t.stateNode},findFiberByHostInstance:El.findFiberByHostInstance||mM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pd.isDisabled&&pd.supportsFiber)try{Af=pd.inject(vM),kr=pd}catch{}}Fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yM;Fn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!J0(e))throw Error(J(200));return pM(t,e,null,n)};Fn.createRoot=function(t,e){if(!J0(t))throw Error(J(299));var n=!1,r="",i=bI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Y0(t,1,!1,null,null,n,!1,r,i),t[ci]=e.current,Tc(t.nodeType===8?t.parentNode:t),new X0(e)};Fn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=KS(e),t=t===null?null:t.stateNode,t};Fn.flushSync=function(t){return oo(t)};Fn.hydrate=function(t,e,n){if(!Bf(e))throw Error(J(200));return zf(null,t,e,!0,n)};Fn.hydrateRoot=function(t,e,n){if(!J0(t))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=bI;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=SI(e,null,t,1,n??null,i,!1,s,o),t[ci]=e.current,Tc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new $f(e)};Fn.render=function(t,e,n){if(!Bf(e))throw Error(J(200));return zf(null,t,e,!1,n)};Fn.unmountComponentAtNode=function(t){if(!Bf(t))throw Error(J(40));return t._reactRootContainer?(oo(function(){zf(null,null,t,!1,function(){t._reactRootContainer=null,t[ci]=null})}),!0):!1};Fn.unstable_batchedUpdates=W0;Fn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Bf(n))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return zf(t,e,n,!1,r)};Fn.version="18.3.1-next-f1338f8080-20240426";function II(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(II)}catch(t){console.error(t)}}II(),IS.exports=Fn;var Bs=IS.exports,CI,N1=Bs;CI=N1.createRoot,N1.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nc(){return Nc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nc.apply(this,arguments)}var qi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(qi||(qi={}));const D1="popstate";function wM(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return qg("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Oh(i)}return xM(e,n,null,t)}function ht(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function kI(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _M(){return Math.random().toString(36).substr(2,8)}function M1(t,e){return{usr:t.state,key:t.key,idx:e}}function qg(t,e,n,r){return n===void 0&&(n=null),Nc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Wa(e):e,{state:n,key:e&&e.key||r||_M()})}function Oh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Wa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function xM(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=qi.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Nc({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=qi.Pop;let S=u(),g=S==null?null:S-c;c=S,l&&l({action:a,location:v.location,delta:g})}function f(S,g){a=qi.Push;let w=qg(v.location,S,g);c=u()+1;let x=M1(w,c),k=v.createHref(w);try{o.pushState(x,"",k)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(k)}s&&l&&l({action:a,location:v.location,delta:1})}function p(S,g){a=qi.Replace;let w=qg(v.location,S,g);c=u();let x=M1(w,c),k=v.createHref(w);o.replaceState(x,"",k),s&&l&&l({action:a,location:v.location,delta:0})}function y(S){let g=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof S=="string"?S:Oh(S);return w=w.replace(/ $/,"%20"),ht(g,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,g)}let v={get action(){return a},get location(){return t(i,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(D1,h),l=S,()=>{i.removeEventListener(D1,h),l=null}},createHref(S){return e(i,S)},createURL:y,encodeLocation(S){let g=y(S);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(S){return o.go(S)}};return v}var V1;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(V1||(V1={}));function EM(t,e,n){return n===void 0&&(n="/"),TM(t,e,n,!1)}function TM(t,e,n,r){let i=typeof e=="string"?Wa(e):e,s=Z0(i.pathname||"/",n);if(s==null)return null;let o=AI(t);SM(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=VM(s);a=DM(o[l],c,r)}return a}function AI(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ht(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ns([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(ht(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),AI(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:RM(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of PI(s.path))i(s,o,l)}),e}function PI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=PI(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function SM(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:NM(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const bM=/^:[\w-]+$/,IM=3,CM=2,kM=1,AM=10,PM=-2,O1=t=>t==="*";function RM(t,e){let n=t.split("/"),r=n.length;return n.some(O1)&&(r+=PM),e&&(r+=CM),n.filter(i=>!O1(i)).reduce((i,s)=>i+(bM.test(s)?IM:s===""?kM:AM),r)}function NM(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function DM(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",h=L1({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=L1({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:ns([s,h.pathname]),pathnameBase:FM(ns([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=ns([s,h.pathnameBase]))}return o}function L1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=MM(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,h)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let v=a[h]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const y=a[h];return p&&!y?c[f]=void 0:c[f]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function MM(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),kI(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function VM(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return kI(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Z0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function OM(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Wa(t):t;return{pathname:n?n.startsWith("/")?n:LM(n,e):e,search:UM(r),hash:$M(i)}}function LM(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function fm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function jM(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ev(t,e){let n=jM(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function tv(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Wa(t):(i=Nc({},t),ht(!i.pathname||!i.pathname.includes("?"),fm("?","pathname","search",i)),ht(!i.pathname||!i.pathname.includes("#"),fm("#","pathname","hash",i)),ht(!i.search||!i.search.includes("#"),fm("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=OM(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const ns=t=>t.join("/").replace(/\/\/+/g,"/"),FM=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),UM=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,$M=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function BM(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const RI=["post","put","patch","delete"];new Set(RI);const zM=["get",...RI];new Set(zM);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dc(){return Dc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dc.apply(this,arguments)}const nv=_.createContext(null),HM=_.createContext(null),_s=_.createContext(null),Hf=_.createContext(null),xs=_.createContext({outlet:null,matches:[],isDataRoute:!1}),NI=_.createContext(null);function WM(t,e){let{relative:n}=e===void 0?{}:e;qa()||ht(!1);let{basename:r,navigator:i}=_.useContext(_s),{hash:s,pathname:o,search:a}=MI(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ns([r,o])),i.createHref({pathname:l,search:a,hash:s})}function qa(){return _.useContext(Hf)!=null}function cu(){return qa()||ht(!1),_.useContext(Hf).location}function DI(t){_.useContext(_s).static||_.useLayoutEffect(t)}function Wf(){let{isDataRoute:t}=_.useContext(xs);return t?iV():qM()}function qM(){qa()||ht(!1);let t=_.useContext(nv),{basename:e,future:n,navigator:r}=_.useContext(_s),{matches:i}=_.useContext(xs),{pathname:s}=cu(),o=JSON.stringify(ev(i,n.v7_relativeSplatPath)),a=_.useRef(!1);return DI(()=>{a.current=!0}),_.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=tv(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ns([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,o,s,t])}function MI(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=_.useContext(_s),{matches:i}=_.useContext(xs),{pathname:s}=cu(),o=JSON.stringify(ev(i,r.v7_relativeSplatPath));return _.useMemo(()=>tv(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function KM(t,e){return GM(t,e)}function GM(t,e,n,r){qa()||ht(!1);let{navigator:i}=_.useContext(_s),{matches:s}=_.useContext(xs),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=cu(),u;if(e){var h;let S=typeof e=="string"?Wa(e):e;l==="/"||(h=S.pathname)!=null&&h.startsWith(l)||ht(!1),u=S}else u=c;let f=u.pathname||"/",p=f;if(l!=="/"){let S=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(S.length).join("/")}let y=EM(t,{pathname:p}),v=ZM(y&&y.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:ns([l,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?l:ns([l,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),s,n,r);return e&&v?_.createElement(Hf.Provider,{value:{location:Dc({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:qi.Pop}},v):v}function YM(){let t=rV(),e=BM(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),n?_.createElement("pre",{style:i},n):null,null)}const QM=_.createElement(YM,null);class XM extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?_.createElement(xs.Provider,{value:this.props.routeContext},_.createElement(NI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function JM(t){let{routeContext:e,match:n,children:r}=t,i=_.useContext(nv);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement(xs.Provider,{value:e},r)}function ZM(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);u>=0||ht(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:f,errors:p}=n,y=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||y){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,h,f)=>{let p,y=!1,v=null,S=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,v=h.route.errorElement||QM,l&&(c<0&&f===0?(y=!0,S=null):c===f&&(y=!0,S=h.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,f+1)),w=()=>{let x;return p?x=v:y?x=S:h.route.Component?x=_.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=u,_.createElement(JM,{match:h,routeContext:{outlet:u,matches:g,isDataRoute:n!=null},children:x})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?_.createElement(XM,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:w(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):w()},null)}var VI=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(VI||{}),Lh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Lh||{});function eV(t){let e=_.useContext(nv);return e||ht(!1),e}function tV(t){let e=_.useContext(HM);return e||ht(!1),e}function nV(t){let e=_.useContext(xs);return e||ht(!1),e}function OI(t){let e=nV(),n=e.matches[e.matches.length-1];return n.route.id||ht(!1),n.route.id}function rV(){var t;let e=_.useContext(NI),n=tV(Lh.UseRouteError),r=OI(Lh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function iV(){let{router:t}=eV(VI.UseNavigateStable),e=OI(Lh.UseNavigateStable),n=_.useRef(!1);return DI(()=>{n.current=!0}),_.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Dc({fromRouteId:e},s)))},[t,e])}function sV(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function LI(t){let{to:e,replace:n,state:r,relative:i}=t;qa()||ht(!1);let{future:s,static:o}=_.useContext(_s),{matches:a}=_.useContext(xs),{pathname:l}=cu(),c=Wf(),u=tv(e,ev(a,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(u);return _.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:i}),[c,h,i,n,r]),null}function Vl(t){ht(!1)}function oV(t){let{basename:e="/",children:n=null,location:r,navigationType:i=qi.Pop,navigator:s,static:o=!1,future:a}=t;qa()&&ht(!1);let l=e.replace(/^\/*/,"/"),c=_.useMemo(()=>({basename:l,navigator:s,static:o,future:Dc({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Wa(r));let{pathname:u="/",search:h="",hash:f="",state:p=null,key:y="default"}=r,v=_.useMemo(()=>{let S=Z0(u,l);return S==null?null:{location:{pathname:S,search:h,hash:f,state:p,key:y},navigationType:i}},[l,u,h,f,p,y,i]);return v==null?null:_.createElement(_s.Provider,{value:c},_.createElement(Hf.Provider,{children:n,value:v}))}function aV(t){let{children:e,location:n}=t;return KM(Kg(e),n)}new Promise(()=>{});function Kg(t,e){e===void 0&&(e=[]);let n=[];return _.Children.forEach(t,(r,i)=>{if(!_.isValidElement(r))return;let s=[...e,i];if(r.type===_.Fragment){n.push.apply(n,Kg(r.props.children,s));return}r.type!==Vl&&ht(!1),!r.props.index||!r.props.children||ht(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Kg(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gg(){return Gg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gg.apply(this,arguments)}function lV(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function cV(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function uV(t,e){return t.button===0&&(!e||e==="_self")&&!cV(t)}const dV=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],hV="6";try{window.__reactRouterVersion=hV}catch{}const fV="startTransition",j1=lN[fV];function pV(t){let{basename:e,children:n,future:r,window:i}=t,s=_.useRef();s.current==null&&(s.current=wM({window:i,v5Compat:!0}));let o=s.current,[a,l]=_.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=_.useCallback(h=>{c&&j1?j1(()=>l(h)):l(h)},[l,c]);return _.useLayoutEffect(()=>o.listen(u),[o,u]),_.useEffect(()=>sV(r),[r]),_.createElement(oV,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const mV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jI=_.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:h}=e,f=lV(e,dV),{basename:p}=_.useContext(_s),y,v=!1;if(typeof c=="string"&&gV.test(c)&&(y=c,mV))try{let x=new URL(window.location.href),k=c.startsWith("//")?new URL(x.protocol+c):new URL(c),O=Z0(k.pathname,p);k.origin===x.origin&&O!=null?c=O+k.search+k.hash:v=!0}catch{}let S=WM(c,{relative:i}),g=yV(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:h});function w(x){r&&r(x),x.defaultPrevented||g(x)}return _.createElement("a",Gg({},f,{href:y||S,onClick:v||s?r:w,ref:n,target:l}))});var F1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(F1||(F1={}));var U1;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(U1||(U1={}));function yV(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=Wf(),c=cu(),u=MI(t,{relative:o});return _.useCallback(h=>{if(uV(h,n)){h.preventDefault();let f=r!==void 0?r:Oh(c)===Oh(u);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,u,r,i,n,t,s,o,a])}let vV={data:""},wV=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||vV,_V=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,xV=/\/\*[^]*?\*\/|  +/g,$1=/\n+/g,ji=(t,e)=>{let n="",r="",i="";for(let s in t){let o=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+o+";":r+=s[1]=="f"?ji(o,s):s+"{"+ji(o,s[1]=="k"?"":e)+"}":typeof o=="object"?r+=ji(o,e?e.replace(/([^,])+/g,a=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=ji.p?ji.p(s,o):s+":"+o+";")}return n+(e&&i?e+"{"+i+"}":i)+r},Wr={},FI=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+FI(t[n]);return e}return t},EV=(t,e,n,r,i)=>{let s=FI(t),o=Wr[s]||(Wr[s]=(l=>{let c=0,u=11;for(;c<l.length;)u=101*u+l.charCodeAt(c++)>>>0;return"go"+u})(s));if(!Wr[o]){let l=s!==t?t:(c=>{let u,h,f=[{}];for(;u=_V.exec(c.replace(xV,""));)u[4]?f.shift():u[3]?(h=u[3].replace($1," ").trim(),f.unshift(f[0][h]=f[0][h]||{})):f[0][u[1]]=u[2].replace($1," ").trim();return f[0]})(t);Wr[o]=ji(i?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&Wr.g?Wr.g:null;return n&&(Wr.g=Wr[o]),((l,c,u,h)=>{h?c.data=c.data.replace(h,l):c.data.indexOf(l)===-1&&(c.data=u?l+c.data:c.data+l)})(Wr[o],e,r,a),o},TV=(t,e,n)=>t.reduce((r,i,s)=>{let o=e[s];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":ji(a,""):a===!1?"":a}return r+i+(o??"")},"");function qf(t){let e=this||{},n=t.call?t(e.p):t;return EV(n.unshift?n.raw?TV(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,wV(e.target),e.g,e.o,e.k)}let UI,Yg,Qg;qf.bind({g:1});let hi=qf.bind({k:1});function SV(t,e,n,r){ji.p=e,UI=t,Yg=n,Qg=r}function Es(t,e){let n=this||{};return function(){let r=arguments;function i(s,o){let a=Object.assign({},s),l=a.className||i.className;n.p=Object.assign({theme:Yg&&Yg()},a),n.o=/ *go\d+/.test(l),a.className=qf.apply(n,r)+(l?" "+l:"");let c=t;return t[0]&&(c=a.as||t,delete a.as),Qg&&c[0]&&Qg(a),UI(c,a)}return i}}var bV=t=>typeof t=="function",jh=(t,e)=>bV(t)?t(e):t,IV=(()=>{let t=0;return()=>(++t).toString()})(),$I=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),CV=20,BI=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,CV)};case 1:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:n}=e;return BI(t,{type:t.toasts.find(s=>s.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(s=>s.id===r||r===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},Yd=[],zs={toasts:[],pausedAt:void 0},vo=t=>{zs=BI(zs,t),Yd.forEach(e=>{e(zs)})},kV={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},AV=(t={})=>{let[e,n]=_.useState(zs),r=_.useRef(zs);_.useEffect(()=>(r.current!==zs&&n(zs),Yd.push(n),()=>{let s=Yd.indexOf(n);s>-1&&Yd.splice(s,1)}),[]);let i=e.toasts.map(s=>{var o,a,l;return{...t,...t[s.type],...s,removeDelay:s.removeDelay||((o=t[s.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:s.duration||((a=t[s.type])==null?void 0:a.duration)||(t==null?void 0:t.duration)||kV[s.type],style:{...t.style,...(l=t[s.type])==null?void 0:l.style,...s.style}}});return{...e,toasts:i}},PV=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||IV()}),uu=t=>(e,n)=>{let r=PV(e,t,n);return vo({type:2,toast:r}),r.id},un=(t,e)=>uu("blank")(t,e);un.error=uu("error");un.success=uu("success");un.loading=uu("loading");un.custom=uu("custom");un.dismiss=t=>{vo({type:3,toastId:t})};un.remove=t=>vo({type:4,toastId:t});un.promise=(t,e,n)=>{let r=un.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let s=e.success?jh(e.success,i):void 0;return s?un.success(s,{id:r,...n,...n==null?void 0:n.success}):un.dismiss(r),i}).catch(i=>{let s=e.error?jh(e.error,i):void 0;s?un.error(s,{id:r,...n,...n==null?void 0:n.error}):un.dismiss(r)}),t};var RV=(t,e)=>{vo({type:1,toast:{id:t,height:e}})},NV=()=>{vo({type:5,time:Date.now()})},nc=new Map,DV=1e3,MV=(t,e=DV)=>{if(nc.has(t))return;let n=setTimeout(()=>{nc.delete(t),vo({type:4,toastId:t})},e);nc.set(t,n)},VV=t=>{let{toasts:e,pausedAt:n}=AV(t);_.useEffect(()=>{if(n)return;let s=Date.now(),o=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(s-a.createdAt);if(l<0){a.visible&&un.dismiss(a.id);return}return setTimeout(()=>un.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=_.useCallback(()=>{n&&vo({type:6,time:Date.now()})},[n]),i=_.useCallback((s,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:c}=o||{},u=e.filter(p=>(p.position||c)===(s.position||c)&&p.height),h=u.findIndex(p=>p.id===s.id),f=u.filter((p,y)=>y<h&&p.visible).length;return u.filter(p=>p.visible).slice(...a?[f+1]:[0,f]).reduce((p,y)=>p+(y.height||0)+l,0)},[e]);return _.useEffect(()=>{e.forEach(s=>{if(s.dismissed)MV(s.id,s.removeDelay);else{let o=nc.get(s.id);o&&(clearTimeout(o),nc.delete(s.id))}})},[e]),{toasts:e,handlers:{updateHeight:RV,startPause:NV,endPause:r,calculateOffset:i}}},OV=hi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,LV=hi`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,jV=hi`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,FV=Es("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${OV} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${LV} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${jV} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,UV=hi`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,$V=Es("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${UV} 1s linear infinite;
`,BV=hi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,zV=hi`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,HV=Es("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${BV} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${zV} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,WV=Es("div")`
  position: absolute;
`,qV=Es("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,KV=hi`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,GV=Es("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${KV} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,YV=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?_.createElement(GV,null,e):e:n==="blank"?null:_.createElement(qV,null,_.createElement($V,{...r}),n!=="loading"&&_.createElement(WV,null,n==="error"?_.createElement(FV,{...r}):_.createElement(HV,{...r})))},QV=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,XV=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,JV="0%{opacity:0;} 100%{opacity:1;}",ZV="0%{opacity:1;} 100%{opacity:0;}",eO=Es("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,tO=Es("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,nO=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=$I()?[JV,ZV]:[QV(n),XV(n)];return{animation:e?`${hi(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${hi(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},rO=_.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?nO(t.position||e||"top-center",t.visible):{opacity:0},s=_.createElement(YV,{toast:t}),o=_.createElement(tO,{...t.ariaProps},jh(t.message,t));return _.createElement(eO,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:s,message:o}):_.createElement(_.Fragment,null,s,o))});SV(_.createElement);var iO=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let s=_.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return _.createElement("div",{ref:s,className:e,style:n},i)},sO=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:$I()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},oO=qf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,md=16,aO=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,containerStyle:s,containerClassName:o})=>{let{toasts:a,handlers:l}=VV(n);return _.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:md,left:md,right:md,bottom:md,pointerEvents:"none",...s},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(c=>{let u=c.position||e,h=l.calculateOffset(c,{reverseOrder:t,gutter:r,defaultPosition:e}),f=sO(u,h);return _.createElement(iO,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?oO:"",style:f},c.type==="custom"?jh(c.message,c):i?i(c):_.createElement(rO,{toast:c,position:u}))}))},cn=un,B1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},lO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},HI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(f=64)),r.push(n[u],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(zI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):lO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new cO;const f=s<<2|a>>4;if(r.push(f),c!==64){const p=a<<4&240|c>>2;if(r.push(p),h!==64){const y=c<<6&192|h;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class cO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uO=function(t){const e=zI(t);return HI.encodeByteArray(e,!0)},Fh=function(t){return uO(t).replace(/\./g,"")},WI=function(t){try{return HI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=()=>dO().__FIREBASE_DEFAULTS__,fO=()=>{if(typeof process>"u"||typeof B1>"u")return;const t=B1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},pO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&WI(t[1]);return e&&JSON.parse(e)},Kf=()=>{try{return hO()||fO()||pO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},qI=t=>{var e,n;return(n=(e=Kf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},mO=t=>{const e=qI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},KI=()=>{var t;return(t=Kf())===null||t===void 0?void 0:t.config},GI=t=>{var e;return(e=Kf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Fh(JSON.stringify(n)),Fh(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function wO(){var t;const e=(t=Kf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _O(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function EO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TO(){const t=nn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function SO(){return!wO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bO(){try{return typeof indexedDB=="object"}catch{return!1}}function IO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO="FirebaseError";class Ei extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=CO,Object.setPrototypeOf(this,Ei.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,du.prototype.create)}}class du{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?kO(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ei(i,a,r)}}function kO(t,e){return t.replace(AO,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const AO=/\{\$([^}]+)}/g;function PO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Uh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(z1(s)&&z1(o)){if(!Uh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function z1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ol(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ll(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function RO(t,e){const n=new NO(t,e);return n.subscribe.bind(n)}class NO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");DO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=pm),i.error===void 0&&(i.error=pm),i.complete===void 0&&(i.complete=pm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function pm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(t){return t&&t._delegate?t._delegate:t}class ao{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MO=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new gO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OO(e))try{this.getOrInitializeService({instanceIdentifier:Ms})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ms){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ms){return this.instances.has(e)}getOptions(e=Ms){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:VO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ms){return this.component?this.component.multipleInstances?e:Ms:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function VO(t){return t===Ms?void 0:t}function OO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new MO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(be||(be={}));const jO={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},FO=be.INFO,UO={[be.DEBUG]:"log",[be.VERBOSE]:"log",[be.INFO]:"info",[be.WARN]:"warn",[be.ERROR]:"error"},$O=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=UO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rv{constructor(e){this.name=e,this._logLevel=FO,this._logHandler=$O,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,be.DEBUG,...e),this._logHandler(this,be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,be.VERBOSE,...e),this._logHandler(this,be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,be.INFO,...e),this._logHandler(this,be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,be.WARN,...e),this._logHandler(this,be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,be.ERROR,...e),this._logHandler(this,be.ERROR,...e)}}const BO=(t,e)=>e.some(n=>t instanceof n);let H1,W1;function zO(){return H1||(H1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HO(){return W1||(W1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const YI=new WeakMap,Xg=new WeakMap,QI=new WeakMap,mm=new WeakMap,iv=new WeakMap;function WO(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(rs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&YI.set(n,t)}).catch(()=>{}),iv.set(e,t),e}function qO(t){if(Xg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Xg.set(t,e)}let Jg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Xg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||QI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function KO(t){Jg=t(Jg)}function GO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(gm(this),e,...n);return QI.set(r,e.sort?e.sort():[e]),rs(r)}:HO().includes(t)?function(...e){return t.apply(gm(this),e),rs(YI.get(this))}:function(...e){return rs(t.apply(gm(this),e))}}function YO(t){return typeof t=="function"?GO(t):(t instanceof IDBTransaction&&qO(t),BO(t,zO())?new Proxy(t,Jg):t)}function rs(t){if(t instanceof IDBRequest)return WO(t);if(mm.has(t))return mm.get(t);const e=YO(t);return e!==t&&(mm.set(t,e),iv.set(e,t)),e}const gm=t=>iv.get(t);function QO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=rs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(rs(o.result),l.oldVersion,l.newVersion,rs(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const XO=["get","getKey","getAll","getAllKeys","count"],JO=["put","add","delete","clear"],ym=new Map;function q1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ym.get(e))return ym.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=JO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||XO.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return ym.set(e,s),s}KO(t=>({...t,get:(e,n,r)=>q1(e,n)||t.get(e,n,r),has:(e,n)=>!!q1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(eL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function eL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zg="@firebase/app",K1="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi=new rv("@firebase/app"),tL="@firebase/app-compat",nL="@firebase/analytics-compat",rL="@firebase/analytics",iL="@firebase/app-check-compat",sL="@firebase/app-check",oL="@firebase/auth",aL="@firebase/auth-compat",lL="@firebase/database",cL="@firebase/data-connect",uL="@firebase/database-compat",dL="@firebase/functions",hL="@firebase/functions-compat",fL="@firebase/installations",pL="@firebase/installations-compat",mL="@firebase/messaging",gL="@firebase/messaging-compat",yL="@firebase/performance",vL="@firebase/performance-compat",wL="@firebase/remote-config",_L="@firebase/remote-config-compat",xL="@firebase/storage",EL="@firebase/storage-compat",TL="@firebase/firestore",SL="@firebase/vertexai-preview",bL="@firebase/firestore-compat",IL="firebase",CL="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey="[DEFAULT]",kL={[Zg]:"fire-core",[tL]:"fire-core-compat",[rL]:"fire-analytics",[nL]:"fire-analytics-compat",[sL]:"fire-app-check",[iL]:"fire-app-check-compat",[oL]:"fire-auth",[aL]:"fire-auth-compat",[lL]:"fire-rtdb",[cL]:"fire-data-connect",[uL]:"fire-rtdb-compat",[dL]:"fire-fn",[hL]:"fire-fn-compat",[fL]:"fire-iid",[pL]:"fire-iid-compat",[mL]:"fire-fcm",[gL]:"fire-fcm-compat",[yL]:"fire-perf",[vL]:"fire-perf-compat",[wL]:"fire-rc",[_L]:"fire-rc-compat",[xL]:"fire-gcs",[EL]:"fire-gcs-compat",[TL]:"fire-fst",[bL]:"fire-fst-compat",[SL]:"fire-vertex","fire-js":"fire-js",[IL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h=new Map,AL=new Map,ty=new Map;function G1(t,e){try{t.container.addComponent(e)}catch(n){fi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ia(t){const e=t.name;if(ty.has(e))return fi.debug(`There were multiple attempts to register component ${e}.`),!1;ty.set(e,t);for(const n of $h.values())G1(n,t);for(const n of AL.values())G1(n,t);return!0}function sv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Cr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},is=new du("app","Firebase",PL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ao("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw is.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka=CL;function XI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ey,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw is.create("bad-app-name",{appName:String(i)});if(n||(n=KI()),!n)throw is.create("no-options");const s=$h.get(i);if(s){if(Uh(n,s.options)&&Uh(r,s.config))return s;throw is.create("duplicate-app",{appName:i})}const o=new LO(i);for(const l of ty.values())o.addComponent(l);const a=new RL(n,r,o);return $h.set(i,a),a}function JI(t=ey){const e=$h.get(t);if(!e&&t===ey&&KI())return XI();if(!e)throw is.create("no-app",{appName:t});return e}function ss(t,e,n){var r;let i=(r=kL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fi.warn(a.join(" "));return}Ia(new ao(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL="firebase-heartbeat-database",DL=1,Mc="firebase-heartbeat-store";let vm=null;function ZI(){return vm||(vm=QO(NL,DL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Mc)}catch(n){console.warn(n)}}}}).catch(t=>{throw is.create("idb-open",{originalErrorMessage:t.message})})),vm}async function ML(t){try{const n=(await ZI()).transaction(Mc),r=await n.objectStore(Mc).get(eC(t));return await n.done,r}catch(e){if(e instanceof Ei)fi.warn(e.message);else{const n=is.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fi.warn(n.message)}}}async function Y1(t,e){try{const r=(await ZI()).transaction(Mc,"readwrite");await r.objectStore(Mc).put(e,eC(t)),await r.done}catch(n){if(n instanceof Ei)fi.warn(n.message);else{const r=is.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});fi.warn(r.message)}}}function eC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL=1024,OL=30*24*60*60*1e3;class LL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new FL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Q1();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=OL}),this._storage.overwrite(this._heartbeatsCache))}catch(r){fi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Q1(),{heartbeatsToSend:r,unsentEntries:i}=jL(this._heartbeatsCache.heartbeats),s=Fh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return fi.warn(n),""}}}function Q1(){return new Date().toISOString().substring(0,10)}function jL(t,e=VL){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),X1(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),X1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class FL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bO()?IO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ML(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Y1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Y1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function X1(t){return Fh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UL(t){Ia(new ao("platform-logger",e=>new ZO(e),"PRIVATE")),Ia(new ao("heartbeat",e=>new LL(e),"PRIVATE")),ss(Zg,K1,t),ss(Zg,K1,"esm2017"),ss("fire-js","")}UL("");function ov(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function tC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $L=tC,nC=new du("auth","Firebase",tC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh=new rv("@firebase/auth");function BL(t,...e){Bh.logLevel<=be.WARN&&Bh.warn(`Auth (${Ka}): ${t}`,...e)}function Qd(t,...e){Bh.logLevel<=be.ERROR&&Bh.error(`Auth (${Ka}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(t,...e){throw av(t,...e)}function Pr(t,...e){return av(t,...e)}function rC(t,e,n){const r=Object.assign(Object.assign({},$L()),{[e]:n});return new du("auth","Firebase",r).create(e,{appName:t.name})}function ii(t){return rC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function av(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return nC.create(t,...e)}function fe(t,e,...n){if(!t)throw av(e,...n)}function Jr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Qd(e),new Error(e)}function pi(t,e){t||Jr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function zL(){return J1()==="http:"||J1()==="https:"}function J1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zL()||xO()||"connection"in navigator)?navigator.onLine:!0}function WL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n){this.shortDelay=e,this.longDelay=n,pi(n>e,"Short delay should be less than long delay!"),this.isMobile=vO()||EO()}get(){return HL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(t,e){pi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL=new fu(3e4,6e4);function Ts(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ss(t,e,n,r,i={}){return sC(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=hu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return _O()||(c.referrerPolicy="no-referrer"),iC.fetch()(oC(t,t.config.apiHost,n,a),c)})}async function sC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},qL),e);try{const i=new YL(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw gd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw gd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw gd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw gd(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw rC(t,u,c);vr(t,u)}}catch(i){if(i instanceof Ei)throw i;vr(t,"network-request-failed",{message:String(i)})}}async function pu(t,e,n,r,i={}){const s=await Ss(t,e,n,r,i);return"mfaPendingCredential"in s&&vr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function oC(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?lv(t.config,i):`${t.config.apiScheme}://${i}`}function GL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class YL{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Pr(this.auth,"network-request-failed")),KL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function gd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Pr(t,e,r);return i.customData._tokenResponse=n,i}function Z1(t){return t!==void 0&&t.enterprise!==void 0}class QL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return GL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function XL(t,e){return Ss(t,"GET","/v2/recaptchaConfig",Ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JL(t,e){return Ss(t,"POST","/v1/accounts:delete",e)}async function aC(t,e){return Ss(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ZL(t,e=!1){const n=Tt(t),r=await n.getIdToken(e),i=cv(r);fe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:rc(wm(i.auth_time)),issuedAtTime:rc(wm(i.iat)),expirationTime:rc(wm(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function wm(t){return Number(t)*1e3}function cv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Qd("JWT malformed, contained fewer than 3 sections"),null;try{const i=WI(n);return i?JSON.parse(i):(Qd("Failed to decode base64 JWT payload"),null)}catch(i){return Qd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function ex(t){const e=cv(t);return fe(e,"internal-error"),fe(typeof e.exp<"u","internal-error"),fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ei&&e4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function e4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=rc(this.lastLoginAt),this.creationTime=rc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Vc(t,aC(n,{idToken:r}));fe(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?lC(s.providerUserInfo):[],a=r4(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ry(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function n4(t){const e=Tt(t);await zh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function r4(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function lC(t){return t.map(e=>{var{providerId:n}=e,r=ov(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i4(t,e){const n=await sC(t,{},async()=>{const r=hu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=oC(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",iC.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function s4(t,e){return Ss(t,"POST","/v2/accounts:revokeToken",Ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){fe(e.idToken,"internal-error"),fe(typeof e.idToken<"u","internal-error"),fe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ex(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){fe(e.length!==0,"internal-error");const n=ex(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await i4(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new da;return r&&(fe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(fe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(fe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new da,this.toJSON())}_performRefresh(){return Jr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(t,e){fe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Zr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=ov(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new t4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ry(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Vc(this,this.stsTokenManager.getToken(this.auth,e));return fe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ZL(this,e)}reload(){return n4(this)}_assign(e){this!==e&&(fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Zr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await zh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Cr(this.auth.app))return Promise.reject(ii(this.auth));const e=await this.getIdToken();return await Vc(this,JL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,u;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:x,emailVerified:k,isAnonymous:O,providerData:M,stsTokenManager:I}=n;fe(x&&I,e,"internal-error");const T=da.fromJSON(this.name,I);fe(typeof x=="string",e,"internal-error"),Ci(h,e.name),Ci(f,e.name),fe(typeof k=="boolean",e,"internal-error"),fe(typeof O=="boolean",e,"internal-error"),Ci(p,e.name),Ci(y,e.name),Ci(v,e.name),Ci(S,e.name),Ci(g,e.name),Ci(w,e.name);const C=new Zr({uid:x,auth:e,email:f,emailVerified:k,displayName:h,isAnonymous:O,photoURL:y,phoneNumber:p,tenantId:v,stsTokenManager:T,createdAt:g,lastLoginAt:w});return M&&Array.isArray(M)&&(C.providerData=M.map(A=>Object.assign({},A))),S&&(C._redirectEventId=S),C}static async _fromIdTokenResponse(e,n,r=!1){const i=new da;i.updateFromServerResponse(n);const s=new Zr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await zh(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];fe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?lC(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new da;a.updateFromIdToken(r);const l=new Zr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new ry(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx=new Map;function ei(t){pi(t instanceof Function,"Expected a class definition");let e=tx.get(t);return e?(pi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,tx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}cC.type="NONE";const nx=cC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(t,e,n){return`firebase:${t}:${e}:${n}`}class ha{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Xd(this.userKey,i.apiKey,s),this.fullPersistenceKey=Xd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Zr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ha(ei(nx),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||ei(nx);const o=Xd(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const h=Zr._fromJSON(e,u);c!==s&&(a=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ha(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new ha(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(uC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mC(e))return"Blackberry";if(gC(e))return"Webos";if(dC(e))return"Safari";if((e.includes("chrome/")||hC(e))&&!e.includes("edge/"))return"Chrome";if(pC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function uC(t=nn()){return/firefox\//i.test(t)}function dC(t=nn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hC(t=nn()){return/crios\//i.test(t)}function fC(t=nn()){return/iemobile/i.test(t)}function pC(t=nn()){return/android/i.test(t)}function mC(t=nn()){return/blackberry/i.test(t)}function gC(t=nn()){return/webos/i.test(t)}function uv(t=nn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function o4(t=nn()){var e;return uv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function a4(){return TO()&&document.documentMode===10}function yC(t=nn()){return uv(t)||pC(t)||gC(t)||mC(t)||/windows phone/i.test(t)||fC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(t,e=[]){let n;switch(t){case"Browser":n=rx(nn());break;case"Worker":n=`${rx(nn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ka}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c4(t,e={}){return Ss(t,"GET","/v2/passwordPolicy",Ts(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4=6;class d4{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:u4,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ix(this),this.idTokenSubscription=new ix(this),this.beforeStateQueue=new l4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ei(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ha.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await aC(this,{idToken:e}),r=await Zr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Cr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await zh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Cr(this.app))return Promise.reject(ii(this));const n=e?Tt(e):null;return n&&fe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Cr(this.app)?Promise.reject(ii(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Cr(this.app)?Promise.reject(ii(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ei(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await c4(this),n=new d4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new du("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await s4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ei(e)||this._popupRedirectResolver;fe(n,this,"argument-error"),this.redirectPersistenceManager=await ha.create(this,[ei(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(fe(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&BL(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function wo(t){return Tt(t)}class ix{constructor(e){this.auth=e,this.observer=null,this.addObserver=RO(n=>this.observer=n)}get next(){return fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function f4(t){Gf=t}function wC(t){return Gf.loadJS(t)}function p4(){return Gf.recaptchaEnterpriseScript}function m4(){return Gf.gapiScript}function g4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const y4="recaptcha-enterprise",v4="NO_RECAPTCHA";class w4{constructor(e){this.type=y4,this.auth=wo(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{XL(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new QL(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;Z1(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(v4)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&Z1(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=p4();l.length!==0&&(l+=a),wC(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function sx(t,e,n,r=!1){const i=new w4(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function iy(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await sx(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await sx(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(t,e){const n=sv(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Uh(s,e??{}))return i;vr(i,"already-initialized")}return n.initialize({options:e})}function x4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ei);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function E4(t,e,n){const r=wo(t);fe(r._canInitEmulator,r,"emulator-config-failed"),fe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=_C(e),{host:o,port:a}=T4(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),S4()}function _C(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function T4(t){const e=_C(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:ox(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:ox(o)}}}function ox(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function S4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Jr("not implemented")}_getIdTokenResponse(e){return Jr("not implemented")}_linkToIdToken(e,n){return Jr("not implemented")}_getReauthenticationResolver(e){return Jr("not implemented")}}async function b4(t,e){return Ss(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I4(t,e){return pu(t,"POST","/v1/accounts:signInWithPassword",Ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C4(t,e){return pu(t,"POST","/v1/accounts:signInWithEmailLink",Ts(t,e))}async function k4(t,e){return pu(t,"POST","/v1/accounts:signInWithEmailLink",Ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc extends dv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Oc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Oc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return iy(e,n,"signInWithPassword",I4);case"emailLink":return C4(e,{email:this._email,oobCode:this._password});default:vr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return iy(e,r,"signUpPassword",b4);case"emailLink":return k4(e,{idToken:n,email:this._email,oobCode:this._password});default:vr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fa(t,e){return pu(t,"POST","/v1/accounts:signInWithIdp",Ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4="http://localhost";class lo extends dv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new lo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):vr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=ov(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new lo(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return fa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,fa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,fa(e,n)}buildRequest(){const e={requestUri:A4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function R4(t){const e=Ol(Ll(t)).link,n=e?Ol(Ll(e)).deep_link_id:null,r=Ol(Ll(t)).deep_link_id;return(r?Ol(Ll(r)).link:null)||r||n||e||t}class hv{constructor(e){var n,r,i,s,o,a;const l=Ol(Ll(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,h=P4((i=l.mode)!==null&&i!==void 0?i:null);fe(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=R4(e);try{return new hv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(){this.providerId=Ga.PROVIDER_ID}static credential(e,n){return Oc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=hv.parseLink(n);return fe(r,"argument-error"),Oc._fromEmailAndCode(e,r.code,r.tenantId)}}Ga.PROVIDER_ID="password";Ga.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ga.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu extends xC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends mu{constructor(){super("facebook.com")}static credential(e){return lo._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fi.credential(e.oauthAccessToken)}catch{return null}}}Fi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends mu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return lo._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ui.credential(n,r)}catch{return null}}}Ui.GOOGLE_SIGN_IN_METHOD="google.com";Ui.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends mu{constructor(){super("github.com")}static credential(e){return lo._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $i.credential(e.oauthAccessToken)}catch{return null}}}$i.GITHUB_SIGN_IN_METHOD="github.com";$i.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends mu{constructor(){super("twitter.com")}static credential(e,n){return lo._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Bi.credential(n,r)}catch{return null}}}Bi.TWITTER_SIGN_IN_METHOD="twitter.com";Bi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N4(t,e){return pu(t,"POST","/v1/accounts:signUp",Ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Zr._fromIdTokenResponse(e,r,i),o=ax(r);return new co({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=ax(r);return new co({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function ax(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh extends Ei{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Hh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Hh(e,n,r,i)}}function EC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Hh._fromErrorAndOperation(t,s,e,r):s})}async function D4(t,e,n=!1){const r=await Vc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return co._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M4(t,e,n=!1){const{auth:r}=t;if(Cr(r.app))return Promise.reject(ii(r));const i="reauthenticate";try{const s=await Vc(t,EC(r,i,e,t),n);fe(s.idToken,r,"internal-error");const o=cv(s.idToken);fe(o,r,"internal-error");const{sub:a}=o;return fe(t.uid===a,r,"user-mismatch"),co._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&vr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TC(t,e,n=!1){if(Cr(t.app))return Promise.reject(ii(t));const r="signIn",i=await EC(t,r,e),s=await co._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function V4(t,e){return TC(wo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SC(t){const e=wo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function O4(t,e,n){if(Cr(t.app))return Promise.reject(ii(t));const r=wo(t),o=await iy(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",N4).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&SC(t),l}),a=await co._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function L4(t,e,n){return Cr(t.app)?Promise.reject(ii(t)):V4(Tt(t),Ga.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&SC(t),r})}function j4(t,e,n,r){return Tt(t).onIdTokenChanged(e,n,r)}function F4(t,e,n){return Tt(t).beforeAuthStateChanged(e,n)}function U4(t,e,n,r){return Tt(t).onAuthStateChanged(e,n,r)}function $4(t){return Tt(t).signOut()}const Wh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Wh,"1"),this.storage.removeItem(Wh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4=1e3,z4=10;class IC extends bC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);a4()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,z4):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},B4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}IC.type="LOCAL";const H4=IC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC extends bC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}CC.type="SESSION";const kC=CC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Yf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await W4(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=fv("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(){return window}function K4(t){Rr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(){return typeof Rr().WorkerGlobalScope<"u"&&typeof Rr().importScripts=="function"}async function G4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Y4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Q4(){return AC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC="firebaseLocalStorageDb",X4=1,qh="firebaseLocalStorage",RC="fbase_key";class gu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Qf(t,e){return t.transaction([qh],e?"readwrite":"readonly").objectStore(qh)}function J4(){const t=indexedDB.deleteDatabase(PC);return new gu(t).toPromise()}function sy(){const t=indexedDB.open(PC,X4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(qh,{keyPath:RC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(qh)?e(r):(r.close(),await J4(),e(await sy()))})})}async function lx(t,e,n){const r=Qf(t,!0).put({[RC]:e,value:n});return new gu(r).toPromise()}async function Z4(t,e){const n=Qf(t,!1).get(e),r=await new gu(n).toPromise();return r===void 0?null:r.value}function cx(t,e){const n=Qf(t,!0).delete(e);return new gu(n).toPromise()}const e3=800,t3=3;class NC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>t3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return AC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yf._getInstance(Q4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await G4(),!this.activeServiceWorker)return;this.sender=new q4(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Y4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sy();return await lx(e,Wh,"1"),await cx(e,Wh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>lx(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Z4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>cx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Qf(i,!1).getAll();return new gu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}NC.type="LOCAL";const n3=NC;new fu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(t,e){return e?ei(e):(fe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv extends dv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return fa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return fa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function i3(t){return TC(t.auth,new pv(t),t.bypassAuthState)}function s3(t){const{auth:e,user:n}=t;return fe(n,e,"internal-error"),M4(n,new pv(t),t.bypassAuthState)}async function o3(t){const{auth:e,user:n}=t;return fe(n,e,"internal-error"),D4(n,new pv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return i3;case"linkViaPopup":case"linkViaRedirect":return o3;case"reauthViaPopup":case"reauthViaRedirect":return s3;default:vr(this.auth,"internal-error")}}resolve(e){pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3=new fu(2e3,1e4);class Zo extends DC{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Zo.currentPopupAction&&Zo.currentPopupAction.cancel(),Zo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return fe(e,this.auth,"internal-error"),e}async onExecution(){pi(this.filter.length===1,"Popup operations only handle one event");const e=fv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Pr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,a3.get())};e()}}Zo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3="pendingRedirect",Jd=new Map;class c3 extends DC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Jd.get(this.auth._key());if(!e){try{const r=await u3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Jd.set(this.auth._key(),e)}return this.bypassAuthState||Jd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function u3(t,e){const n=f3(e),r=h3(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function d3(t,e){Jd.set(t._key(),e)}function h3(t){return ei(t._redirectPersistence)}function f3(t){return Xd(l3,t.config.apiKey,t.name)}async function p3(t,e,n=!1){if(Cr(t.app))return Promise.reject(ii(t));const r=wo(t),i=r3(r,e),o=await new c3(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3=10*60*1e3;class g3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!y3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!MC(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Pr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=m3&&this.cachedEventUids.clear(),this.cachedEventUids.has(ux(e))}saveEventToCache(e){this.cachedEventUids.add(ux(e)),this.lastProcessedEventTime=Date.now()}}function ux(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function MC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function y3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v3(t,e={}){return Ss(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_3=/^https?/;async function x3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await v3(t);for(const n of e)try{if(E3(n))return}catch{}vr(t,"unauthorized-domain")}function E3(t){const e=ny(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!_3.test(n))return!1;if(w3.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3=new fu(3e4,6e4);function dx(){const t=Rr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function S3(t){return new Promise((e,n)=>{var r,i,s;function o(){dx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{dx(),n(Pr(t,"network-request-failed"))},timeout:T3.get()})}if(!((i=(r=Rr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Rr().gapi)===null||s===void 0)&&s.load)o();else{const a=g4("iframefcb");return Rr()[a]=()=>{gapi.load?o():n(Pr(t,"network-request-failed"))},wC(`${m4()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Zd=null,e})}let Zd=null;function b3(t){return Zd=Zd||S3(t),Zd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3=new fu(5e3,15e3),C3="__/auth/iframe",k3="emulator/auth/iframe",A3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},P3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function R3(t){const e=t.config;fe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?lv(e,k3):`https://${t.config.authDomain}/${C3}`,r={apiKey:e.apiKey,appName:t.name,v:Ka},i=P3.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${hu(r).slice(1)}`}async function N3(t){const e=await b3(t),n=Rr().gapi;return fe(n,t,"internal-error"),e.open({where:document.body,url:R3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:A3,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Pr(t,"network-request-failed"),a=Rr().setTimeout(()=>{s(o)},I3.get());function l(){Rr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},M3=500,V3=600,O3="_blank",L3="http://localhost";class hx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function j3(t,e,n,r=M3,i=V3){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},D3),{width:r.toString(),height:i.toString(),top:s,left:o}),c=nn().toLowerCase();n&&(a=hC(c)?O3:n),uC(c)&&(e=e||L3,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[p,y])=>`${f}${p}=${y},`,"");if(o4(c)&&a!=="_self")return F3(e||"",a),new hx(null);const h=window.open(e||"",a,u);fe(h,t,"popup-blocked");try{h.focus()}catch{}return new hx(h)}function F3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3="__/auth/handler",$3="emulator/auth/handler",B3=encodeURIComponent("fac");async function fx(t,e,n,r,i,s){fe(t.config.authDomain,t,"auth-domain-config-required"),fe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ka,eventId:i};if(e instanceof xC){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",PO(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries({}))o[u]=h}if(e instanceof mu){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${B3}=${encodeURIComponent(l)}`:"";return`${z3(t)}?${hu(a).slice(1)}${c}`}function z3({config:t}){return t.emulator?lv(t,$3):`https://${t.authDomain}/${U3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="webStorageSupport";class H3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kC,this._completeRedirectFn=p3,this._overrideRedirectResult=d3}async _openPopup(e,n,r,i){var s;pi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await fx(e,n,r,ny(),i);return j3(e,o,fv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await fx(e,n,r,ny(),i);return K4(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(pi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await N3(e),r=new g3(e);return n.register("authEvent",i=>(fe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_m,{type:_m},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[_m];o!==void 0&&n(!!o),vr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=x3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return yC()||dC()||uv()}}const W3=H3;var px="@firebase/auth",mx="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function G3(t){Ia(new ao("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;fe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vC(t)},c=new h4(r,i,s,l);return x4(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ia(new ao("auth-internal",e=>{const n=wo(e.getProvider("auth").getImmediate());return(r=>new q3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ss(px,mx,K3(t)),ss(px,mx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3=5*60,Q3=GI("authIdTokenMaxAge")||Y3;let gx=null;const X3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Q3)return;const i=n==null?void 0:n.token;gx!==i&&(gx=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function J3(t=JI()){const e=sv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=_4(t,{popupRedirectResolver:W3,persistence:[n3,H4,kC]}),r=GI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=X3(s.toString());F4(n,o,()=>o(n.currentUser)),j4(n,a=>o(a))}}const i=qI("auth");return i&&E4(n,`http://${i}`),n}function Z3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}f4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Pr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Z3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});G3("Browser");var ej="firebase",tj="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ss(ej,tj,"app");var yx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xs,VC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,T){function C(){}C.prototype=T.prototype,I.D=T.prototype,I.prototype=new C,I.prototype.constructor=I,I.C=function(A,N,L){for(var P=Array(arguments.length-2),D=2;D<arguments.length;D++)P[D-2]=arguments[D];return T.prototype[N].apply(A,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,T,C){C||(C=0);var A=Array(16);if(typeof T=="string")for(var N=0;16>N;++N)A[N]=T.charCodeAt(C++)|T.charCodeAt(C++)<<8|T.charCodeAt(C++)<<16|T.charCodeAt(C++)<<24;else for(N=0;16>N;++N)A[N]=T[C++]|T[C++]<<8|T[C++]<<16|T[C++]<<24;T=I.g[0],C=I.g[1],N=I.g[2];var L=I.g[3],P=T+(L^C&(N^L))+A[0]+3614090360&4294967295;T=C+(P<<7&4294967295|P>>>25),P=L+(N^T&(C^N))+A[1]+3905402710&4294967295,L=T+(P<<12&4294967295|P>>>20),P=N+(C^L&(T^C))+A[2]+606105819&4294967295,N=L+(P<<17&4294967295|P>>>15),P=C+(T^N&(L^T))+A[3]+3250441966&4294967295,C=N+(P<<22&4294967295|P>>>10),P=T+(L^C&(N^L))+A[4]+4118548399&4294967295,T=C+(P<<7&4294967295|P>>>25),P=L+(N^T&(C^N))+A[5]+1200080426&4294967295,L=T+(P<<12&4294967295|P>>>20),P=N+(C^L&(T^C))+A[6]+2821735955&4294967295,N=L+(P<<17&4294967295|P>>>15),P=C+(T^N&(L^T))+A[7]+4249261313&4294967295,C=N+(P<<22&4294967295|P>>>10),P=T+(L^C&(N^L))+A[8]+1770035416&4294967295,T=C+(P<<7&4294967295|P>>>25),P=L+(N^T&(C^N))+A[9]+2336552879&4294967295,L=T+(P<<12&4294967295|P>>>20),P=N+(C^L&(T^C))+A[10]+4294925233&4294967295,N=L+(P<<17&4294967295|P>>>15),P=C+(T^N&(L^T))+A[11]+2304563134&4294967295,C=N+(P<<22&4294967295|P>>>10),P=T+(L^C&(N^L))+A[12]+1804603682&4294967295,T=C+(P<<7&4294967295|P>>>25),P=L+(N^T&(C^N))+A[13]+4254626195&4294967295,L=T+(P<<12&4294967295|P>>>20),P=N+(C^L&(T^C))+A[14]+2792965006&4294967295,N=L+(P<<17&4294967295|P>>>15),P=C+(T^N&(L^T))+A[15]+1236535329&4294967295,C=N+(P<<22&4294967295|P>>>10),P=T+(N^L&(C^N))+A[1]+4129170786&4294967295,T=C+(P<<5&4294967295|P>>>27),P=L+(C^N&(T^C))+A[6]+3225465664&4294967295,L=T+(P<<9&4294967295|P>>>23),P=N+(T^C&(L^T))+A[11]+643717713&4294967295,N=L+(P<<14&4294967295|P>>>18),P=C+(L^T&(N^L))+A[0]+3921069994&4294967295,C=N+(P<<20&4294967295|P>>>12),P=T+(N^L&(C^N))+A[5]+3593408605&4294967295,T=C+(P<<5&4294967295|P>>>27),P=L+(C^N&(T^C))+A[10]+38016083&4294967295,L=T+(P<<9&4294967295|P>>>23),P=N+(T^C&(L^T))+A[15]+3634488961&4294967295,N=L+(P<<14&4294967295|P>>>18),P=C+(L^T&(N^L))+A[4]+3889429448&4294967295,C=N+(P<<20&4294967295|P>>>12),P=T+(N^L&(C^N))+A[9]+568446438&4294967295,T=C+(P<<5&4294967295|P>>>27),P=L+(C^N&(T^C))+A[14]+3275163606&4294967295,L=T+(P<<9&4294967295|P>>>23),P=N+(T^C&(L^T))+A[3]+4107603335&4294967295,N=L+(P<<14&4294967295|P>>>18),P=C+(L^T&(N^L))+A[8]+1163531501&4294967295,C=N+(P<<20&4294967295|P>>>12),P=T+(N^L&(C^N))+A[13]+2850285829&4294967295,T=C+(P<<5&4294967295|P>>>27),P=L+(C^N&(T^C))+A[2]+4243563512&4294967295,L=T+(P<<9&4294967295|P>>>23),P=N+(T^C&(L^T))+A[7]+1735328473&4294967295,N=L+(P<<14&4294967295|P>>>18),P=C+(L^T&(N^L))+A[12]+2368359562&4294967295,C=N+(P<<20&4294967295|P>>>12),P=T+(C^N^L)+A[5]+4294588738&4294967295,T=C+(P<<4&4294967295|P>>>28),P=L+(T^C^N)+A[8]+2272392833&4294967295,L=T+(P<<11&4294967295|P>>>21),P=N+(L^T^C)+A[11]+1839030562&4294967295,N=L+(P<<16&4294967295|P>>>16),P=C+(N^L^T)+A[14]+4259657740&4294967295,C=N+(P<<23&4294967295|P>>>9),P=T+(C^N^L)+A[1]+2763975236&4294967295,T=C+(P<<4&4294967295|P>>>28),P=L+(T^C^N)+A[4]+1272893353&4294967295,L=T+(P<<11&4294967295|P>>>21),P=N+(L^T^C)+A[7]+4139469664&4294967295,N=L+(P<<16&4294967295|P>>>16),P=C+(N^L^T)+A[10]+3200236656&4294967295,C=N+(P<<23&4294967295|P>>>9),P=T+(C^N^L)+A[13]+681279174&4294967295,T=C+(P<<4&4294967295|P>>>28),P=L+(T^C^N)+A[0]+3936430074&4294967295,L=T+(P<<11&4294967295|P>>>21),P=N+(L^T^C)+A[3]+3572445317&4294967295,N=L+(P<<16&4294967295|P>>>16),P=C+(N^L^T)+A[6]+76029189&4294967295,C=N+(P<<23&4294967295|P>>>9),P=T+(C^N^L)+A[9]+3654602809&4294967295,T=C+(P<<4&4294967295|P>>>28),P=L+(T^C^N)+A[12]+3873151461&4294967295,L=T+(P<<11&4294967295|P>>>21),P=N+(L^T^C)+A[15]+530742520&4294967295,N=L+(P<<16&4294967295|P>>>16),P=C+(N^L^T)+A[2]+3299628645&4294967295,C=N+(P<<23&4294967295|P>>>9),P=T+(N^(C|~L))+A[0]+4096336452&4294967295,T=C+(P<<6&4294967295|P>>>26),P=L+(C^(T|~N))+A[7]+1126891415&4294967295,L=T+(P<<10&4294967295|P>>>22),P=N+(T^(L|~C))+A[14]+2878612391&4294967295,N=L+(P<<15&4294967295|P>>>17),P=C+(L^(N|~T))+A[5]+4237533241&4294967295,C=N+(P<<21&4294967295|P>>>11),P=T+(N^(C|~L))+A[12]+1700485571&4294967295,T=C+(P<<6&4294967295|P>>>26),P=L+(C^(T|~N))+A[3]+2399980690&4294967295,L=T+(P<<10&4294967295|P>>>22),P=N+(T^(L|~C))+A[10]+4293915773&4294967295,N=L+(P<<15&4294967295|P>>>17),P=C+(L^(N|~T))+A[1]+2240044497&4294967295,C=N+(P<<21&4294967295|P>>>11),P=T+(N^(C|~L))+A[8]+1873313359&4294967295,T=C+(P<<6&4294967295|P>>>26),P=L+(C^(T|~N))+A[15]+4264355552&4294967295,L=T+(P<<10&4294967295|P>>>22),P=N+(T^(L|~C))+A[6]+2734768916&4294967295,N=L+(P<<15&4294967295|P>>>17),P=C+(L^(N|~T))+A[13]+1309151649&4294967295,C=N+(P<<21&4294967295|P>>>11),P=T+(N^(C|~L))+A[4]+4149444226&4294967295,T=C+(P<<6&4294967295|P>>>26),P=L+(C^(T|~N))+A[11]+3174756917&4294967295,L=T+(P<<10&4294967295|P>>>22),P=N+(T^(L|~C))+A[2]+718787259&4294967295,N=L+(P<<15&4294967295|P>>>17),P=C+(L^(N|~T))+A[9]+3951481745&4294967295,I.g[0]=I.g[0]+T&4294967295,I.g[1]=I.g[1]+(N+(P<<21&4294967295|P>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+L&4294967295}r.prototype.u=function(I,T){T===void 0&&(T=I.length);for(var C=T-this.blockSize,A=this.B,N=this.h,L=0;L<T;){if(N==0)for(;L<=C;)i(this,I,L),L+=this.blockSize;if(typeof I=="string"){for(;L<T;)if(A[N++]=I.charCodeAt(L++),N==this.blockSize){i(this,A),N=0;break}}else for(;L<T;)if(A[N++]=I[L++],N==this.blockSize){i(this,A),N=0;break}}this.h=N,this.o+=T},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var T=1;T<I.length-8;++T)I[T]=0;var C=8*this.o;for(T=I.length-8;T<I.length;++T)I[T]=C&255,C/=256;for(this.u(I),I=Array(16),T=C=0;4>T;++T)for(var A=0;32>A;A+=8)I[C++]=this.g[T]>>>A&255;return I};function s(I,T){var C=a;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=T(I)}function o(I,T){this.h=T;for(var C=[],A=!0,N=I.length-1;0<=N;N--){var L=I[N]|0;A&&L==T||(C[N]=L,A=!1)}this.g=C}var a={};function l(I){return-128<=I&&128>I?s(I,function(T){return new o([T|0],0>T?-1:0)}):new o([I|0],0>I?-1:0)}function c(I){if(isNaN(I)||!isFinite(I))return h;if(0>I)return S(c(-I));for(var T=[],C=1,A=0;I>=C;A++)T[A]=I/C|0,C*=4294967296;return new o(T,0)}function u(I,T){if(I.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(I.charAt(0)=="-")return S(u(I.substring(1),T));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=c(Math.pow(T,8)),A=h,N=0;N<I.length;N+=8){var L=Math.min(8,I.length-N),P=parseInt(I.substring(N,N+L),T);8>L?(L=c(Math.pow(T,L)),A=A.j(L).add(c(P))):(A=A.j(C),A=A.add(c(P)))}return A}var h=l(0),f=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(v(this))return-S(this).m();for(var I=0,T=1,C=0;C<this.g.length;C++){var A=this.i(C);I+=(0<=A?A:4294967296+A)*T,T*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(y(this))return"0";if(v(this))return"-"+S(this).toString(I);for(var T=c(Math.pow(I,6)),C=this,A="";;){var N=k(C,T).g;C=g(C,N.j(T));var L=((0<C.g.length?C.g[0]:C.h)>>>0).toString(I);if(C=N,y(C))return L+A;for(;6>L.length;)L="0"+L;A=L+A}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function y(I){if(I.h!=0)return!1;for(var T=0;T<I.g.length;T++)if(I.g[T]!=0)return!1;return!0}function v(I){return I.h==-1}t.l=function(I){return I=g(this,I),v(I)?-1:y(I)?0:1};function S(I){for(var T=I.g.length,C=[],A=0;A<T;A++)C[A]=~I.g[A];return new o(C,~I.h).add(f)}t.abs=function(){return v(this)?S(this):this},t.add=function(I){for(var T=Math.max(this.g.length,I.g.length),C=[],A=0,N=0;N<=T;N++){var L=A+(this.i(N)&65535)+(I.i(N)&65535),P=(L>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);A=P>>>16,L&=65535,P&=65535,C[N]=P<<16|L}return new o(C,C[C.length-1]&-2147483648?-1:0)};function g(I,T){return I.add(S(T))}t.j=function(I){if(y(this)||y(I))return h;if(v(this))return v(I)?S(this).j(S(I)):S(S(this).j(I));if(v(I))return S(this.j(S(I)));if(0>this.l(p)&&0>I.l(p))return c(this.m()*I.m());for(var T=this.g.length+I.g.length,C=[],A=0;A<2*T;A++)C[A]=0;for(A=0;A<this.g.length;A++)for(var N=0;N<I.g.length;N++){var L=this.i(A)>>>16,P=this.i(A)&65535,D=I.i(N)>>>16,H=I.i(N)&65535;C[2*A+2*N]+=P*H,w(C,2*A+2*N),C[2*A+2*N+1]+=L*H,w(C,2*A+2*N+1),C[2*A+2*N+1]+=P*D,w(C,2*A+2*N+1),C[2*A+2*N+2]+=L*D,w(C,2*A+2*N+2)}for(A=0;A<T;A++)C[A]=C[2*A+1]<<16|C[2*A];for(A=T;A<2*T;A++)C[A]=0;return new o(C,0)};function w(I,T){for(;(I[T]&65535)!=I[T];)I[T+1]+=I[T]>>>16,I[T]&=65535,T++}function x(I,T){this.g=I,this.h=T}function k(I,T){if(y(T))throw Error("division by zero");if(y(I))return new x(h,h);if(v(I))return T=k(S(I),T),new x(S(T.g),S(T.h));if(v(T))return T=k(I,S(T)),new x(S(T.g),T.h);if(30<I.g.length){if(v(I)||v(T))throw Error("slowDivide_ only works with positive integers.");for(var C=f,A=T;0>=A.l(I);)C=O(C),A=O(A);var N=M(C,1),L=M(A,1);for(A=M(A,2),C=M(C,2);!y(A);){var P=L.add(A);0>=P.l(I)&&(N=N.add(C),L=P),A=M(A,1),C=M(C,1)}return T=g(I,N.j(T)),new x(N,T)}for(N=h;0<=I.l(T);){for(C=Math.max(1,Math.floor(I.m()/T.m())),A=Math.ceil(Math.log(C)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),L=c(C),P=L.j(T);v(P)||0<P.l(I);)C-=A,L=c(C),P=L.j(T);y(L)&&(L=f),N=N.add(L),I=g(I,P)}return new x(N,I)}t.A=function(I){return k(this,I).h},t.and=function(I){for(var T=Math.max(this.g.length,I.g.length),C=[],A=0;A<T;A++)C[A]=this.i(A)&I.i(A);return new o(C,this.h&I.h)},t.or=function(I){for(var T=Math.max(this.g.length,I.g.length),C=[],A=0;A<T;A++)C[A]=this.i(A)|I.i(A);return new o(C,this.h|I.h)},t.xor=function(I){for(var T=Math.max(this.g.length,I.g.length),C=[],A=0;A<T;A++)C[A]=this.i(A)^I.i(A);return new o(C,this.h^I.h)};function O(I){for(var T=I.g.length+1,C=[],A=0;A<T;A++)C[A]=I.i(A)<<1|I.i(A-1)>>>31;return new o(C,I.h)}function M(I,T){var C=T>>5;T%=32;for(var A=I.g.length-C,N=[],L=0;L<A;L++)N[L]=0<T?I.i(L+C)>>>T|I.i(L+C+1)<<32-T:I.i(L+C);return new o(N,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,VC=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,Xs=o}).apply(typeof yx<"u"?yx:typeof self<"u"?self:typeof window<"u"?window:{});var yd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var OC,jl,LC,eh,oy,jC,FC,UC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,m,E){return d==Array.prototype||d==Object.prototype||(d[m]=E.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof yd=="object"&&yd];for(var m=0;m<d.length;++m){var E=d[m];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function i(d,m){if(m)e:{var E=r;d=d.split(".");for(var R=0;R<d.length-1;R++){var z=d[R];if(!(z in E))break e;E=E[z]}d=d[d.length-1],R=E[d],m=m(R),m!=R&&m!=null&&e(E,d,{configurable:!0,writable:!0,value:m})}}function s(d,m){d instanceof String&&(d+="");var E=0,R=!1,z={next:function(){if(!R&&E<d.length){var K=E++;return{value:m(K,d[K]),done:!1}}return R=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}i("Array.prototype.values",function(d){return d||function(){return s(this,function(m,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(d){var m=typeof d;return m=m!="object"?m:d?Array.isArray(d)?"array":m:"null",m=="array"||m=="object"&&typeof d.length=="number"}function c(d){var m=typeof d;return m=="object"&&d!=null||m=="function"}function u(d,m,E){return d.call.apply(d.bind,arguments)}function h(d,m,E){if(!d)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,R),d.apply(m,z)}}return function(){return d.apply(m,arguments)}}function f(d,m,E){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:h,f.apply(null,arguments)}function p(d,m){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),d.apply(this,R)}}function y(d,m){function E(){}E.prototype=m.prototype,d.aa=m.prototype,d.prototype=new E,d.prototype.constructor=d,d.Qb=function(R,z,K){for(var ee=Array(arguments.length-2),je=2;je<arguments.length;je++)ee[je-2]=arguments[je];return m.prototype[z].apply(R,ee)}}function v(d){const m=d.length;if(0<m){const E=Array(m);for(let R=0;R<m;R++)E[R]=d[R];return E}return[]}function S(d,m){for(let E=1;E<arguments.length;E++){const R=arguments[E];if(l(R)){const z=d.length||0,K=R.length||0;d.length=z+K;for(let ee=0;ee<K;ee++)d[z+ee]=R[ee]}else d.push(R)}}class g{constructor(m,E){this.i=m,this.j=E,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function w(d){return/^[\s\xa0]*$/.test(d)}function x(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function k(d){return k[" "](d),d}k[" "]=function(){};var O=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function M(d,m,E){for(const R in d)m.call(E,d[R],R,d)}function I(d,m){for(const E in d)m.call(void 0,d[E],E,d)}function T(d){const m={};for(const E in d)m[E]=d[E];return m}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(d,m){let E,R;for(let z=1;z<arguments.length;z++){R=arguments[z];for(E in R)d[E]=R[E];for(let K=0;K<C.length;K++)E=C[K],Object.prototype.hasOwnProperty.call(R,E)&&(d[E]=R[E])}}function N(d){var m=1;d=d.split(":");const E=[];for(;0<m&&d.length;)E.push(d.shift()),m--;return d.length&&E.push(d.join(":")),E}function L(d){a.setTimeout(()=>{throw d},0)}function P(){var d=V;let m=null;return d.g&&(m=d.g,d.g=d.g.next,d.g||(d.h=null),m.next=null),m}class D{constructor(){this.h=this.g=null}add(m,E){const R=H.get();R.set(m,E),this.h?this.h.next=R:this.g=R,this.h=R}}var H=new g(()=>new U,d=>d.reset());class U{constructor(){this.next=this.g=this.h=null}set(m,E){this.h=m,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let q,$=!1,V=new D,j=()=>{const d=a.Promise.resolve(void 0);q=()=>{d.then(F)}};var F=()=>{for(var d;d=P();){try{d.h.call(d.g)}catch(E){L(E)}var m=H;m.j(d),100>m.h&&(m.h++,d.next=m.g,m.g=d)}$=!1};function B(){this.s=this.s,this.C=this.C}B.prototype.s=!1,B.prototype.ma=function(){this.s||(this.s=!0,this.N())},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function G(d,m){this.type=d,this.g=this.target=m,this.defaultPrevented=!1}G.prototype.h=function(){this.defaultPrevented=!0};var Y=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,m=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};a.addEventListener("test",E,m),a.removeEventListener("test",E,m)}catch{}return d}();function Z(d,m){if(G.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var E=this.type=d.type,R=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=m,m=d.relatedTarget){if(O){e:{try{k(m.nodeName);var z=!0;break e}catch{}z=!1}z||(m=null)}}else E=="mouseover"?m=d.fromElement:E=="mouseout"&&(m=d.toElement);this.relatedTarget=m,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:ne[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Z.aa.h.call(this)}}y(Z,G);var ne={2:"touch",3:"pen",4:"mouse"};Z.prototype.h=function(){Z.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ae="closure_listenable_"+(1e6*Math.random()|0),pe=0;function ue(d,m,E,R,z){this.listener=d,this.proxy=null,this.src=m,this.type=E,this.capture=!!R,this.ha=z,this.key=++pe,this.da=this.fa=!1}function te(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function we(d){this.src=d,this.g={},this.h=0}we.prototype.add=function(d,m,E,R,z){var K=d.toString();d=this.g[K],d||(d=this.g[K]=[],this.h++);var ee=Fe(d,m,R,z);return-1<ee?(m=d[ee],E||(m.fa=!1)):(m=new ue(m,this.src,K,!!R,z),m.fa=E,d.push(m)),m};function _e(d,m){var E=m.type;if(E in d.g){var R=d.g[E],z=Array.prototype.indexOf.call(R,m,void 0),K;(K=0<=z)&&Array.prototype.splice.call(R,z,1),K&&(te(m),d.g[E].length==0&&(delete d.g[E],d.h--))}}function Fe(d,m,E,R){for(var z=0;z<d.length;++z){var K=d[z];if(!K.da&&K.listener==m&&K.capture==!!E&&K.ha==R)return z}return-1}var De="closure_lm_"+(1e6*Math.random()|0),Ae={};function Qe(d,m,E,R,z){if(Array.isArray(m)){for(var K=0;K<m.length;K++)Qe(d,m[K],E,R,z);return null}return E=rr(E),d&&d[ae]?d.K(m,E,c(R)?!!R.capture:!!R,z):Ce(d,m,E,!1,R,z)}function Ce(d,m,E,R,z,K){if(!m)throw Error("Invalid event type");var ee=c(z)?!!z.capture:!!z,je=kn(d);if(je||(d[De]=je=new we(d)),E=je.add(m,E,R,ee,K),E.proxy)return E;if(R=le(),E.proxy=R,R.src=d,R.listener=E,d.addEventListener)Y||(z=ee),z===void 0&&(z=!1),d.addEventListener(m.toString(),R,z);else if(d.attachEvent)d.attachEvent(In(m.toString()),R);else if(d.addListener&&d.removeListener)d.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function le(){function d(E){return m.call(d.src,d.listener,E)}const m=Cn;return d}function it(d,m,E,R,z){if(Array.isArray(m))for(var K=0;K<m.length;K++)it(d,m[K],E,R,z);else R=c(R)?!!R.capture:!!R,E=rr(E),d&&d[ae]?(d=d.i,m=String(m).toString(),m in d.g&&(K=d.g[m],E=Fe(K,E,R,z),-1<E&&(te(K[E]),Array.prototype.splice.call(K,E,1),K.length==0&&(delete d.g[m],d.h--)))):d&&(d=kn(d))&&(m=d.g[m.toString()],d=-1,m&&(d=Fe(m,E,R,z)),(E=-1<d?m[d]:null)&&st(E))}function st(d){if(typeof d!="number"&&d&&!d.da){var m=d.src;if(m&&m[ae])_e(m.i,d);else{var E=d.type,R=d.proxy;m.removeEventListener?m.removeEventListener(E,R,d.capture):m.detachEvent?m.detachEvent(In(E),R):m.addListener&&m.removeListener&&m.removeListener(R),(E=kn(m))?(_e(E,d),E.h==0&&(E.src=null,m[De]=null)):te(d)}}}function In(d){return d in Ae?Ae[d]:Ae[d]="on"+d}function Cn(d,m){if(d.da)d=!0;else{m=new Z(m,this);var E=d.listener,R=d.ha||d.src;d.fa&&st(d),d=E.call(R,m)}return d}function kn(d){return d=d[De],d instanceof we?d:null}var Wt="__closure_events_fn_"+(1e9*Math.random()>>>0);function rr(d){return typeof d=="function"?d:(d[Wt]||(d[Wt]=function(m){return d.handleEvent(m)}),d[Wt])}function Ue(){B.call(this),this.i=new we(this),this.M=this,this.F=null}y(Ue,B),Ue.prototype[ae]=!0,Ue.prototype.removeEventListener=function(d,m,E,R){it(this,d,m,E,R)};function Me(d,m){var E,R=d.F;if(R)for(E=[];R;R=R.F)E.push(R);if(d=d.M,R=m.type||m,typeof m=="string")m=new G(m,d);else if(m instanceof G)m.target=m.target||d;else{var z=m;m=new G(R,d),A(m,z)}if(z=!0,E)for(var K=E.length-1;0<=K;K--){var ee=m.g=E[K];z=bt(ee,R,!0,m)&&z}if(ee=m.g=d,z=bt(ee,R,!0,m)&&z,z=bt(ee,R,!1,m)&&z,E)for(K=0;K<E.length;K++)ee=m.g=E[K],z=bt(ee,R,!1,m)&&z}Ue.prototype.N=function(){if(Ue.aa.N.call(this),this.i){var d=this.i,m;for(m in d.g){for(var E=d.g[m],R=0;R<E.length;R++)te(E[R]);delete d.g[m],d.h--}}this.F=null},Ue.prototype.K=function(d,m,E,R){return this.i.add(String(d),m,!1,E,R)},Ue.prototype.L=function(d,m,E,R){return this.i.add(String(d),m,!0,E,R)};function bt(d,m,E,R){if(m=d.i.g[String(m)],!m)return!0;m=m.concat();for(var z=!0,K=0;K<m.length;++K){var ee=m[K];if(ee&&!ee.da&&ee.capture==E){var je=ee.listener,Ot=ee.ha||ee.src;ee.fa&&_e(d.i,ee),z=je.call(Ot,R)!==!1&&z}}return z&&!R.defaultPrevented}function rn(d,m,E){if(typeof d=="function")E&&(d=f(d,E));else if(d&&typeof d.handleEvent=="function")d=f(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(d,m||0)}function ir(d){d.g=rn(()=>{d.g=null,d.i&&(d.i=!1,ir(d))},d.l);const m=d.h;d.h=null,d.m.apply(null,m)}class Le extends B{constructor(m,E){super(),this.m=m,this.l=E,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ir(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ft(d){B.call(this),this.h=d,this.g={}}y(ft,B);var $n=[];function Bn(d){M(d.g,function(m,E){this.g.hasOwnProperty(E)&&st(m)},d),d.g={}}ft.prototype.N=function(){ft.aa.N.call(this),Bn(this)},ft.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var sn=a.JSON.stringify,pn=a.JSON.parse,mn=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function zn(){}zn.prototype.h=null;function Ti(d){return d.h||(d.h=d.i())}function Er(){}var sr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xe(){G.call(this,"d")}y(Xe,G);function He(){G.call(this,"c")}y(He,G);var Je={},An=null;function vt(){return An=An||new Ue}Je.La="serverreachability";function It(d){G.call(this,Je.La,d)}y(It,G);function Ct(d){const m=vt();Me(m,new It(m))}Je.STAT_EVENT="statevent";function or(d,m){G.call(this,Je.STAT_EVENT,d),this.stat=m}y(or,G);function Se(d){const m=vt();Me(m,new or(m,d))}Je.Ma="timingevent";function Pn(d,m){G.call(this,Je.Ma,d),this.size=m}y(Pn,G);function kt(d,m){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},m)}function Mt(){this.g=!0}Mt.prototype.xa=function(){this.g=!1};function Fr(d,m,E,R,z,K){d.info(function(){if(d.g)if(K)for(var ee="",je=K.split("&"),Ot=0;Ot<je.length;Ot++){var Pe=je[Ot].split("=");if(1<Pe.length){var qt=Pe[0];Pe=Pe[1];var Kt=qt.split("_");ee=2<=Kt.length&&Kt[1]=="type"?ee+(qt+"="+Pe+"&"):ee+(qt+"=redacted&")}}else ee=null;else ee=K;return"XMLHTTP REQ ("+R+") [attempt "+z+"]: "+m+`
`+E+`
`+ee})}function Ur(d,m,E,R,z,K,ee){d.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+z+"]: "+m+`
`+E+`
`+K+" "+ee})}function Vt(d,m,E,R){d.info(function(){return"XMLHTTP TEXT ("+m+"): "+Cs(d,E)+(R?" "+R:"")})}function $r(d,m){d.info(function(){return"TIMEOUT: "+m})}Mt.prototype.info=function(){};function Cs(d,m){if(!d.g)return m;if(!m)return null;try{var E=JSON.parse(m);if(E){for(d=0;d<E.length;d++)if(Array.isArray(E[d])){var R=E[d];if(!(2>R.length)){var z=R[1];if(Array.isArray(z)&&!(1>z.length)){var K=z[0];if(K!="noop"&&K!="stop"&&K!="close")for(var ee=1;ee<z.length;ee++)z[ee]=""}}}}return sn(E)}catch{return m}}var bo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},nl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},rl;function Io(){}y(Io,zn),Io.prototype.g=function(){return new XMLHttpRequest},Io.prototype.i=function(){return{}},rl=new Io;function Tr(d,m,E,R){this.j=d,this.i=m,this.l=E,this.R=R||1,this.U=new ft(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Vu}function Vu(){this.i=null,this.g="",this.h=!1}var Ou={},il={};function sl(d,m,E){d.L=1,d.v=zu(zr(m)),d.m=E,d.P=!0,Lu(d,null)}function Lu(d,m){d.F=Date.now(),Co(d),d.A=zr(d.v);var E=d.A,R=d.R;Array.isArray(R)||(R=[String(R)]),n_(E.i,"t",R),d.C=0,E=d.j.J,d.h=new Vu,d.g=__(d.j,E?m:null,!d.m),0<d.O&&(d.M=new Le(f(d.Y,d,d.g),d.O)),m=d.U,E=d.g,R=d.ca;var z="readystatechange";Array.isArray(z)||(z&&($n[0]=z.toString()),z=$n);for(var K=0;K<z.length;K++){var ee=Qe(E,z[K],R||m.handleEvent,!1,m.h||m);if(!ee)break;m.g[ee.key]=ee}m=d.H?T(d.H):{},d.m?(d.u||(d.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,m)):(d.u="GET",d.g.ea(d.A,d.u,null,m)),Ct(),Fr(d.i,d.u,d.A,d.l,d.R,d.m)}Tr.prototype.ca=function(d){d=d.target;const m=this.M;m&&Hr(d)==3?m.j():this.Y(d)},Tr.prototype.Y=function(d){try{if(d==this.g)e:{const Kt=Hr(this.g);var m=this.g.Ba();const No=this.g.Z();if(!(3>Kt)&&(Kt!=3||this.g&&(this.h.h||this.g.oa()||c_(this.g)))){this.J||Kt!=4||m==7||(m==8||0>=No?Ct(3):Ct(2)),al(this);var E=this.g.Z();this.X=E;t:if(ol(this)){var R=c_(this.g);d="";var z=R.length,K=Hr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Br(this),ks(this);var ee="";break t}this.h.i=new a.TextDecoder}for(m=0;m<z;m++)this.h.h=!0,d+=this.h.i.decode(R[m],{stream:!(K&&m==z-1)});R.length=0,this.h.g+=d,this.C=0,ee=this.h.g}else ee=this.g.oa();if(this.o=E==200,Ur(this.i,this.u,this.A,this.l,this.R,Kt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var je,Ot=this.g;if((je=Ot.g?Ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(je)){var Pe=je;break t}}Pe=null}if(E=Pe)Vt(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ko(this,E);else{this.o=!1,this.s=3,Se(12),Br(this),ks(this);break e}}if(this.P){E=!0;let ar;for(;!this.J&&this.C<ee.length;)if(ar=Np(this,ee),ar==il){Kt==4&&(this.s=4,Se(14),E=!1),Vt(this.i,this.l,null,"[Incomplete Response]");break}else if(ar==Ou){this.s=4,Se(15),Vt(this.i,this.l,ee,"[Invalid Chunk]"),E=!1;break}else Vt(this.i,this.l,ar,null),ko(this,ar);if(ol(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kt!=4||ee.length!=0||this.h.h||(this.s=1,Se(16),E=!1),this.o=this.o&&E,!E)Vt(this.i,this.l,ee,"[Invalid Chunked Response]"),Br(this),ks(this);else if(0<ee.length&&!this.W){this.W=!0;var qt=this.j;qt.g==this&&qt.ba&&!qt.M&&(qt.j.info("Great, no buffering proxy detected. Bytes received: "+ee.length),Fp(qt),qt.M=!0,Se(11))}}else Vt(this.i,this.l,ee,null),ko(this,ee);Kt==4&&Br(this),this.o&&!this.J&&(Kt==4?g_(this.j,this):(this.o=!1,Co(this)))}else HR(this.g),E==400&&0<ee.indexOf("Unknown SID")?(this.s=3,Se(12)):(this.s=0,Se(13)),Br(this),ks(this)}}}catch{}finally{}};function ol(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Np(d,m){var E=d.C,R=m.indexOf(`
`,E);return R==-1?il:(E=Number(m.substring(E,R)),isNaN(E)?Ou:(R+=1,R+E>m.length?il:(m=m.slice(R,R+E),d.C=R+E,m)))}Tr.prototype.cancel=function(){this.J=!0,Br(this)};function Co(d){d.S=Date.now()+d.I,ju(d,d.I)}function ju(d,m){if(d.B!=null)throw Error("WatchDog timer not null");d.B=kt(f(d.ba,d),m)}function al(d){d.B&&(a.clearTimeout(d.B),d.B=null)}Tr.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?($r(this.i,this.A),this.L!=2&&(Ct(),Se(17)),Br(this),this.s=2,ks(this)):ju(this,this.S-d)};function ks(d){d.j.G==0||d.J||g_(d.j,d)}function Br(d){al(d);var m=d.M;m&&typeof m.ma=="function"&&m.ma(),d.M=null,Bn(d.U),d.g&&(m=d.g,d.g=null,m.abort(),m.ma())}function ko(d,m){try{var E=d.j;if(E.G!=0&&(E.g==d||Mp(E.h,d))){if(!d.K&&Mp(E.h,d)&&E.G==3){try{var R=E.Da.g.parse(m)}catch{R=null}if(Array.isArray(R)&&R.length==3){var z=R;if(z[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<d.F)Yu(E),Ku(E);else break e;jp(E),Se(18)}}else E.za=z[1],0<E.za-E.T&&37500>z[2]&&E.F&&E.v==0&&!E.C&&(E.C=kt(f(E.Za,E),6e3));if(1>=Ao(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Ps(E,11)}else if((d.K||E.g==d)&&Yu(E),!w(m))for(z=E.Da.g.parse(m),m=0;m<z.length;m++){let Pe=z[m];if(E.T=Pe[0],Pe=Pe[1],E.G==2)if(Pe[0]=="c"){E.K=Pe[1],E.ia=Pe[2];const qt=Pe[3];qt!=null&&(E.la=qt,E.j.info("VER="+E.la));const Kt=Pe[4];Kt!=null&&(E.Aa=Kt,E.j.info("SVER="+E.Aa));const No=Pe[5];No!=null&&typeof No=="number"&&0<No&&(R=1.5*No,E.L=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const ar=d.g;if(ar){const Xu=ar.g?ar.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xu){var K=R.h;K.g||Xu.indexOf("spdy")==-1&&Xu.indexOf("quic")==-1&&Xu.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Vp(K,K.h),K.h=null))}if(R.D){const Up=ar.g?ar.g.getResponseHeader("X-HTTP-Session-Id"):null;Up&&(R.ya=Up,We(R.I,R.D,Up))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-d.F,E.j.info("Handshake RTT: "+E.R+"ms")),R=E;var ee=d;if(R.qa=w_(R,R.J?R.ia:null,R.W),ee.K){Gw(R.h,ee);var je=ee,Ot=R.L;Ot&&(je.I=Ot),je.B&&(al(je),Co(je)),R.g=ee}else p_(R);0<E.i.length&&Gu(E)}else Pe[0]!="stop"&&Pe[0]!="close"||Ps(E,7);else E.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?Ps(E,7):Lp(E):Pe[0]!="noop"&&E.l&&E.l.ta(Pe),E.v=0)}}Ct(4)}catch{}}var Dp=class{constructor(d,m){this.g=d,this.map=m}};function Fu(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Uu(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Ao(d){return d.h?1:d.g?d.g.size:0}function Mp(d,m){return d.h?d.h==m:d.g?d.g.has(m):!1}function Vp(d,m){d.g?d.g.add(m):d.h=m}function Gw(d,m){d.h&&d.h==m?d.h=null:d.g&&d.g.has(m)&&d.g.delete(m)}Fu.prototype.cancel=function(){if(this.i=Yw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Yw(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let m=d.i;for(const E of d.g.values())m=m.concat(E.D);return m}return v(d.i)}function AR(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var m=[],E=d.length,R=0;R<E;R++)m.push(d[R]);return m}m=[],E=0;for(R in d)m[E++]=d[R];return m}function PR(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var m=[];d=d.length;for(var E=0;E<d;E++)m.push(E);return m}m=[],E=0;for(const R in d)m[E++]=R;return m}}}function Qw(d,m){if(d.forEach&&typeof d.forEach=="function")d.forEach(m,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,m,void 0);else for(var E=PR(d),R=AR(d),z=R.length,K=0;K<z;K++)m.call(void 0,R[K],E&&E[K],d)}var Xw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function RR(d,m){if(d){d=d.split("&");for(var E=0;E<d.length;E++){var R=d[E].indexOf("="),z=null;if(0<=R){var K=d[E].substring(0,R);z=d[E].substring(R+1)}else K=d[E];m(K,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function As(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof As){this.h=d.h,$u(this,d.j),this.o=d.o,this.g=d.g,Bu(this,d.s),this.l=d.l;var m=d.i,E=new ul;E.i=m.i,m.g&&(E.g=new Map(m.g),E.h=m.h),Jw(this,E),this.m=d.m}else d&&(m=String(d).match(Xw))?(this.h=!1,$u(this,m[1]||"",!0),this.o=ll(m[2]||""),this.g=ll(m[3]||"",!0),Bu(this,m[4]),this.l=ll(m[5]||"",!0),Jw(this,m[6]||"",!0),this.m=ll(m[7]||"")):(this.h=!1,this.i=new ul(null,this.h))}As.prototype.toString=function(){var d=[],m=this.j;m&&d.push(cl(m,Zw,!0),":");var E=this.g;return(E||m=="file")&&(d.push("//"),(m=this.o)&&d.push(cl(m,Zw,!0),"@"),d.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&d.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(cl(E,E.charAt(0)=="/"?MR:DR,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",cl(E,OR)),d.join("")};function zr(d){return new As(d)}function $u(d,m,E){d.j=E?ll(m,!0):m,d.j&&(d.j=d.j.replace(/:$/,""))}function Bu(d,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);d.s=m}else d.s=null}function Jw(d,m,E){m instanceof ul?(d.i=m,LR(d.i,d.h)):(E||(m=cl(m,VR)),d.i=new ul(m,d.h))}function We(d,m,E){d.i.set(m,E)}function zu(d){return We(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function ll(d,m){return d?m?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function cl(d,m,E){return typeof d=="string"?(d=encodeURI(d).replace(m,NR),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function NR(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Zw=/[#\/\?@]/g,DR=/[#\?:]/g,MR=/[#\?]/g,VR=/[#\?@]/g,OR=/#/g;function ul(d,m){this.h=this.g=null,this.i=d||null,this.j=!!m}function Si(d){d.g||(d.g=new Map,d.h=0,d.i&&RR(d.i,function(m,E){d.add(decodeURIComponent(m.replace(/\+/g," ")),E)}))}t=ul.prototype,t.add=function(d,m){Si(this),this.i=null,d=Po(this,d);var E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(m),this.h+=1,this};function e_(d,m){Si(d),m=Po(d,m),d.g.has(m)&&(d.i=null,d.h-=d.g.get(m).length,d.g.delete(m))}function t_(d,m){return Si(d),m=Po(d,m),d.g.has(m)}t.forEach=function(d,m){Si(this),this.g.forEach(function(E,R){E.forEach(function(z){d.call(m,z,R,this)},this)},this)},t.na=function(){Si(this);const d=Array.from(this.g.values()),m=Array.from(this.g.keys()),E=[];for(let R=0;R<m.length;R++){const z=d[R];for(let K=0;K<z.length;K++)E.push(m[R])}return E},t.V=function(d){Si(this);let m=[];if(typeof d=="string")t_(this,d)&&(m=m.concat(this.g.get(Po(this,d))));else{d=Array.from(this.g.values());for(let E=0;E<d.length;E++)m=m.concat(d[E])}return m},t.set=function(d,m){return Si(this),this.i=null,d=Po(this,d),t_(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[m]),this.h+=1,this},t.get=function(d,m){return d?(d=this.V(d),0<d.length?String(d[0]):m):m};function n_(d,m,E){e_(d,m),0<E.length&&(d.i=null,d.g.set(Po(d,m),v(E)),d.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],m=Array.from(this.g.keys());for(var E=0;E<m.length;E++){var R=m[E];const K=encodeURIComponent(String(R)),ee=this.V(R);for(R=0;R<ee.length;R++){var z=K;ee[R]!==""&&(z+="="+encodeURIComponent(String(ee[R]))),d.push(z)}}return this.i=d.join("&")};function Po(d,m){return m=String(m),d.j&&(m=m.toLowerCase()),m}function LR(d,m){m&&!d.j&&(Si(d),d.i=null,d.g.forEach(function(E,R){var z=R.toLowerCase();R!=z&&(e_(this,R),n_(this,z,E))},d)),d.j=m}function jR(d,m){const E=new Mt;if(a.Image){const R=new Image;R.onload=p(bi,E,"TestLoadImage: loaded",!0,m,R),R.onerror=p(bi,E,"TestLoadImage: error",!1,m,R),R.onabort=p(bi,E,"TestLoadImage: abort",!1,m,R),R.ontimeout=p(bi,E,"TestLoadImage: timeout",!1,m,R),a.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=d}else m(!1)}function FR(d,m){const E=new Mt,R=new AbortController,z=setTimeout(()=>{R.abort(),bi(E,"TestPingServer: timeout",!1,m)},1e4);fetch(d,{signal:R.signal}).then(K=>{clearTimeout(z),K.ok?bi(E,"TestPingServer: ok",!0,m):bi(E,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),bi(E,"TestPingServer: error",!1,m)})}function bi(d,m,E,R,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),R(E)}catch{}}function UR(){this.g=new mn}function $R(d,m,E){const R=E||"";try{Qw(d,function(z,K){let ee=z;c(z)&&(ee=sn(z)),m.push(R+K+"="+encodeURIComponent(ee))})}catch(z){throw m.push(R+"type="+encodeURIComponent("_badmap")),z}}function Hu(d){this.l=d.Ub||null,this.j=d.eb||!1}y(Hu,zn),Hu.prototype.g=function(){return new Wu(this.l,this.j)},Hu.prototype.i=function(d){return function(){return d}}({});function Wu(d,m){Ue.call(this),this.D=d,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(Wu,Ue),t=Wu.prototype,t.open=function(d,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=m,this.readyState=1,hl(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(m.body=d),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,dl(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,hl(this)),this.g&&(this.readyState=3,hl(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;r_(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function r_(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var m=d.value?d.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!d.done}))&&(this.response=this.responseText+=m)}d.done?dl(this):hl(this),this.readyState==3&&r_(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,dl(this))},t.Qa=function(d){this.g&&(this.response=d,dl(this))},t.ga=function(){this.g&&dl(this)};function dl(d){d.readyState=4,d.l=null,d.j=null,d.v=null,hl(d)}t.setRequestHeader=function(d,m){this.u.append(d,m)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],m=this.h.entries();for(var E=m.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=m.next();return d.join(`\r
`)};function hl(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Wu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function i_(d){let m="";return M(d,function(E,R){m+=R,m+=":",m+=E,m+=`\r
`}),m}function Op(d,m,E){e:{for(R in E){var R=!1;break e}R=!0}R||(E=i_(E),typeof d=="string"?E!=null&&encodeURIComponent(String(E)):We(d,m,E))}function ot(d){Ue.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(ot,Ue);var BR=/^https?$/i,zR=["POST","PUT"];t=ot.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,m,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);m=m?m.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():rl.g(),this.v=this.o?Ti(this.o):Ti(rl),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(m,String(d),!0),this.B=!1}catch(K){s_(this,K);return}if(d=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var z in R)E.set(z,R[z]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const K of R.keys())E.set(K,R.get(K));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(K=>K.toLowerCase()=="content-type"),z=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(zR,m,void 0))||R||z||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ee]of E)this.g.setRequestHeader(K,ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{l_(this),this.u=!0,this.g.send(d),this.u=!1}catch(K){s_(this,K)}};function s_(d,m){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=m,d.m=5,o_(d),qu(d)}function o_(d){d.A||(d.A=!0,Me(d,"complete"),Me(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Me(this,"complete"),Me(this,"abort"),qu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qu(this,!0)),ot.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?a_(this):this.bb())},t.bb=function(){a_(this)};function a_(d){if(d.h&&typeof o<"u"&&(!d.v[1]||Hr(d)!=4||d.Z()!=2)){if(d.u&&Hr(d)==4)rn(d.Ea,0,d);else if(Me(d,"readystatechange"),Hr(d)==4){d.h=!1;try{const ee=d.Z();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var E;if(!(E=m)){var R;if(R=ee===0){var z=String(d.D).match(Xw)[1]||null;!z&&a.self&&a.self.location&&(z=a.self.location.protocol.slice(0,-1)),R=!BR.test(z?z.toLowerCase():"")}E=R}if(E)Me(d,"complete"),Me(d,"success");else{d.m=6;try{var K=2<Hr(d)?d.g.statusText:""}catch{K=""}d.l=K+" ["+d.Z()+"]",o_(d)}}finally{qu(d)}}}}function qu(d,m){if(d.g){l_(d);const E=d.g,R=d.v[0]?()=>{}:null;d.g=null,d.v=null,m||Me(d,"ready");try{E.onreadystatechange=R}catch{}}}function l_(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Hr(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Hr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var m=this.g.responseText;return d&&m.indexOf(d)==0&&(m=m.substring(d.length)),pn(m)}};function c_(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function HR(d){const m={};d=(d.g&&2<=Hr(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<d.length;R++){if(w(d[R]))continue;var E=N(d[R]);const z=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const K=m[z]||[];m[z]=K,K.push(E)}I(m,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fl(d,m,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||m}function u_(d){this.Aa=0,this.i=[],this.j=new Mt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fl("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fl("baseRetryDelayMs",5e3,d),this.cb=fl("retryDelaySeedMs",1e4,d),this.Wa=fl("forwardChannelMaxRetries",2,d),this.wa=fl("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Fu(d&&d.concurrentRequestLimit),this.Da=new UR,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=u_.prototype,t.la=8,t.G=1,t.connect=function(d,m,E,R){Se(0),this.W=d,this.H=m||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.I=w_(this,null,this.W),Gu(this)};function Lp(d){if(d_(d),d.G==3){var m=d.U++,E=zr(d.I);if(We(E,"SID",d.K),We(E,"RID",m),We(E,"TYPE","terminate"),pl(d,E),m=new Tr(d,d.j,m),m.L=2,m.v=zu(zr(E)),E=!1,a.navigator&&a.navigator.sendBeacon)try{E=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!E&&a.Image&&(new Image().src=m.v,E=!0),E||(m.g=__(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Co(m)}v_(d)}function Ku(d){d.g&&(Fp(d),d.g.cancel(),d.g=null)}function d_(d){Ku(d),d.u&&(a.clearTimeout(d.u),d.u=null),Yu(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function Gu(d){if(!Uu(d.h)&&!d.s){d.s=!0;var m=d.Ga;q||j(),$||(q(),$=!0),V.add(m,d),d.B=0}}function WR(d,m){return Ao(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=m.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=kt(f(d.Ga,d,m),y_(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const z=new Tr(this,this.j,d);let K=this.o;if(this.S&&(K?(K=T(K),A(K,this.S)):K=this.S),this.m!==null||this.O||(z.H=K,K=null),this.P)e:{for(var m=0,E=0;E<this.i.length;E++){t:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(m+=R,4096<m){m=E;break e}if(m===4096||E===this.i.length-1){m=E+1;break e}}m=1e3}else m=1e3;m=f_(this,z,m),E=zr(this.I),We(E,"RID",d),We(E,"CVER",22),this.D&&We(E,"X-HTTP-Session-Id",this.D),pl(this,E),K&&(this.O?m="headers="+encodeURIComponent(String(i_(K)))+"&"+m:this.m&&Op(E,this.m,K)),Vp(this.h,z),this.Ua&&We(E,"TYPE","init"),this.P?(We(E,"$req",m),We(E,"SID","null"),z.T=!0,sl(z,E,null)):sl(z,E,m),this.G=2}}else this.G==3&&(d?h_(this,d):this.i.length==0||Uu(this.h)||h_(this))};function h_(d,m){var E;m?E=m.l:E=d.U++;const R=zr(d.I);We(R,"SID",d.K),We(R,"RID",E),We(R,"AID",d.T),pl(d,R),d.m&&d.o&&Op(R,d.m,d.o),E=new Tr(d,d.j,E,d.B+1),d.m===null&&(E.H=d.o),m&&(d.i=m.D.concat(d.i)),m=f_(d,E,1e3),E.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Vp(d.h,E),sl(E,R,m)}function pl(d,m){d.H&&M(d.H,function(E,R){We(m,R,E)}),d.l&&Qw({},function(E,R){We(m,R,E)})}function f_(d,m,E){E=Math.min(d.i.length,E);var R=d.l?f(d.l.Na,d.l,d):null;e:{var z=d.i;let K=-1;for(;;){const ee=["count="+E];K==-1?0<E?(K=z[0].g,ee.push("ofs="+K)):K=0:ee.push("ofs="+K);let je=!0;for(let Ot=0;Ot<E;Ot++){let Pe=z[Ot].g;const qt=z[Ot].map;if(Pe-=K,0>Pe)K=Math.max(0,z[Ot].g-100),je=!1;else try{$R(qt,ee,"req"+Pe+"_")}catch{R&&R(qt)}}if(je){R=ee.join("&");break e}}}return d=d.i.splice(0,E),m.D=d,R}function p_(d){if(!d.g&&!d.u){d.Y=1;var m=d.Fa;q||j(),$||(q(),$=!0),V.add(m,d),d.v=0}}function jp(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=kt(f(d.Fa,d),y_(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,m_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=kt(f(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Se(10),Ku(this),m_(this))};function Fp(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function m_(d){d.g=new Tr(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var m=zr(d.qa);We(m,"RID","rpc"),We(m,"SID",d.K),We(m,"AID",d.T),We(m,"CI",d.F?"0":"1"),!d.F&&d.ja&&We(m,"TO",d.ja),We(m,"TYPE","xmlhttp"),pl(d,m),d.m&&d.o&&Op(m,d.m,d.o),d.L&&(d.g.I=d.L);var E=d.g;d=d.ia,E.L=1,E.v=zu(zr(m)),E.m=null,E.P=!0,Lu(E,d)}t.Za=function(){this.C!=null&&(this.C=null,Ku(this),jp(this),Se(19))};function Yu(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function g_(d,m){var E=null;if(d.g==m){Yu(d),Fp(d),d.g=null;var R=2}else if(Mp(d.h,m))E=m.D,Gw(d.h,m),R=1;else return;if(d.G!=0){if(m.o)if(R==1){E=m.m?m.m.length:0,m=Date.now()-m.F;var z=d.B;R=vt(),Me(R,new Pn(R,E)),Gu(d)}else p_(d);else if(z=m.s,z==3||z==0&&0<m.X||!(R==1&&WR(d,m)||R==2&&jp(d)))switch(E&&0<E.length&&(m=d.h,m.i=m.i.concat(E)),z){case 1:Ps(d,5);break;case 4:Ps(d,10);break;case 3:Ps(d,6);break;default:Ps(d,2)}}}function y_(d,m){let E=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(E*=2),E*m}function Ps(d,m){if(d.j.info("Error code "+m),m==2){var E=f(d.fb,d),R=d.Xa;const z=!R;R=new As(R||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||$u(R,"https"),zu(R),z?jR(R.toString(),E):FR(R.toString(),E)}else Se(2);d.G=0,d.l&&d.l.sa(m),v_(d),d_(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Se(2)):(this.j.info("Failed to ping google.com"),Se(1))};function v_(d){if(d.G=0,d.ka=[],d.l){const m=Yw(d.h);(m.length!=0||d.i.length!=0)&&(S(d.ka,m),S(d.ka,d.i),d.h.i.length=0,v(d.i),d.i.length=0),d.l.ra()}}function w_(d,m,E){var R=E instanceof As?zr(E):new As(E);if(R.g!="")m&&(R.g=m+"."+R.g),Bu(R,R.s);else{var z=a.location;R=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;var K=new As(null);R&&$u(K,R),m&&(K.g=m),z&&Bu(K,z),E&&(K.l=E),R=K}return E=d.D,m=d.ya,E&&m&&We(R,E,m),We(R,"VER",d.la),pl(d,R),R}function __(d,m,E){if(m&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=d.Ca&&!d.pa?new ot(new Hu({eb:E})):new ot(d.pa),m.Ha(d.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function x_(){}t=x_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Qu(){}Qu.prototype.g=function(d,m){return new Rn(d,m)};function Rn(d,m){Ue.call(this),this.g=new u_(m),this.l=d,this.h=m&&m.messageUrlParams||null,d=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(d?d["X-WebChannel-Content-Type"]=m.messageContentType:d={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(d?d["X-WebChannel-Client-Profile"]=m.va:d={"X-WebChannel-Client-Profile":m.va}),this.g.S=d,(d=m&&m.Sb)&&!w(d)&&(this.g.m=d),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.D=m,d=this.h,d!==null&&m in d&&(d=this.h,m in d&&delete d[m])),this.j=new Ro(this)}y(Rn,Ue),Rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Rn.prototype.close=function(){Lp(this.g)},Rn.prototype.o=function(d){var m=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.u&&(E={},E.__data__=sn(d),d=E);m.i.push(new Dp(m.Ya++,d)),m.G==3&&Gu(m)},Rn.prototype.N=function(){this.g.l=null,delete this.j,Lp(this.g),delete this.g,Rn.aa.N.call(this)};function E_(d){Xe.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var m=d.__sm__;if(m){e:{for(const E in m){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,m=m!==null&&d in m?m[d]:void 0),this.data=m}else this.data=d}y(E_,Xe);function T_(){He.call(this),this.status=1}y(T_,He);function Ro(d){this.g=d}y(Ro,x_),Ro.prototype.ua=function(){Me(this.g,"a")},Ro.prototype.ta=function(d){Me(this.g,new E_(d))},Ro.prototype.sa=function(d){Me(this.g,new T_)},Ro.prototype.ra=function(){Me(this.g,"b")},Qu.prototype.createWebChannel=Qu.prototype.g,Rn.prototype.send=Rn.prototype.o,Rn.prototype.open=Rn.prototype.m,Rn.prototype.close=Rn.prototype.close,UC=function(){return new Qu},FC=function(){return vt()},jC=Je,oy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},bo.NO_ERROR=0,bo.TIMEOUT=8,bo.HTTP_ERROR=6,eh=bo,nl.COMPLETE="complete",LC=nl,Er.EventType=sr,sr.OPEN="a",sr.CLOSE="b",sr.ERROR="c",sr.MESSAGE="d",Ue.prototype.listen=Ue.prototype.K,jl=Er,ot.prototype.listenOnce=ot.prototype.L,ot.prototype.getLastError=ot.prototype.Ka,ot.prototype.getLastErrorCode=ot.prototype.Ba,ot.prototype.getStatus=ot.prototype.Z,ot.prototype.getResponseJson=ot.prototype.Oa,ot.prototype.getResponseText=ot.prototype.oa,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Ha,OC=ot}).apply(typeof yd<"u"?yd:typeof self<"u"?self:typeof window<"u"?window:{});const vx="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ya="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo=new rv("@firebase/firestore");function Tl(){return uo.logLevel}function oe(t,...e){if(uo.logLevel<=be.DEBUG){const n=e.map(mv);uo.debug(`Firestore (${Ya}): ${t}`,...n)}}function mi(t,...e){if(uo.logLevel<=be.ERROR){const n=e.map(mv);uo.error(`Firestore (${Ya}): ${t}`,...n)}}function Ca(t,...e){if(uo.logLevel<=be.WARN){const n=e.map(mv);uo.warn(`Firestore (${Ya}): ${t}`,...n)}}function mv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function me(t="Unexpected state"){const e=`FIRESTORE (${Ya}) INTERNAL ASSERTION FAILED: `+t;throw mi(e),new Error(e)}function Oe(t,e){t||me()}function ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends Ei{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Jt.UNAUTHENTICATED))}shutdown(){}}class rj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class ij{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Oe(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Js;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Js,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Js)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Oe(typeof r.accessToken=="string"),new $C(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Oe(e===null||typeof e=="string"),new Jt(e)}}class sj{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class oj{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new sj(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class aj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lj{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Oe(this.o===void 0);const r=s=>{s.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,oe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Oe(typeof n.token=="string"),this.R=n.token,new aj(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=cj(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Re(t,e){return t<e?-1:t>e?1:0}function ka(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new se(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Et.fromMillis(Date.now())}static fromDate(e){return Et.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Et(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ge(e)}static min(){return new ge(new Et(0,0))}static max(){return new ge(new Et(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,n,r){n===void 0?n=0:n>e.length&&me(),r===void 0?r=e.length-n:r>e.length-n&&me(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Lc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Lc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ke extends Lc{construct(e,n,r){return new Ke(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new se(Q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ke(n)}static emptyPath(){return new Ke([])}}const uj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends Lc{construct(e,n,r){return new Ft(e,n,r)}static isValidIdentifier(e){return uj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ft(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new se(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new se(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new se(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new se(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(n)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.path=e}static fromPath(e){return new de(Ke.fromString(e))}static fromName(e){return new de(Ke.fromString(e).popFirst(5))}static empty(){return new de(Ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new Ke(e.slice()))}}function dj(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ge.fromTimestamp(r===1e9?new Et(n+1,0):new Et(n,r));return new hs(i,de.empty(),e)}function hj(t){return new hs(t.readTime,t.key,-1)}class hs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new hs(ge.min(),de.empty(),-1)}static max(){return new hs(ge.max(),de.empty(),-1)}}function fj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(t.documentKey,e.documentKey),n!==0?n:Re(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yu(t){if(t.code!==Q.FAILED_PRECONDITION||t.message!==pj)throw t;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&me(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new X((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof X?n:X.resolve(n)}catch(n){return X.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):X.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):X.reject(n)}static resolve(e){return new X((n,r)=>{n(e)})}static reject(e){return new X((n,r)=>{r(e)})}static waitFor(e){return new X((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=X.resolve(!1);for(const r of e)n=n.next(i=>i?X.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new X((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new X((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function gj(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function vu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}gv.oe=-1;function Xf(t){return t==null}function Kh(t){return t===0&&1/t==-1/0}function yj(t){return typeof t=="number"&&Number.isInteger(t)&&!Kh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function _o(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function zC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,n){this.comparator=e,this.root=n||jt.EMPTY}insert(e,n){return new rt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,jt.BLACK,null,null))}remove(e){return new rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vd(this.root,e,this.comparator,!1)}getReverseIterator(){return new vd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vd(this.root,e,this.comparator,!0)}}class vd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??jt.RED,this.left=i??jt.EMPTY,this.right=s??jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new jt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return jt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw me();const e=this.left.check();if(e!==this.right.check())throw me();return e+(this.isRed()?0:1)}}jt.EMPTY=null,jt.RED=!0,jt.BLACK=!1;jt.EMPTY=new class{constructor(){this.size=0}get key(){throw me()}get value(){throw me()}get color(){throw me()}get left(){throw me()}get right(){throw me()}copy(e,n,r,i,s){return this}insert(e,n,r){return new jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new _x(this.data.getIterator())}getIteratorFrom(e){return new _x(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new $t(this.comparator);return n.data=e,n}}class _x{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new Mn([])}unionWith(e){let n=new $t(Ft.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Mn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ka(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new HC("Invalid base64 string: "+s):s}}(e);return new zt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zt.EMPTY_BYTE_STRING=new zt("");const vj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fs(t){if(Oe(!!t),typeof t=="string"){let e=0;const n=vj.exec(t);if(Oe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ct(t.seconds),nanos:ct(t.nanos)}}function ct(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ho(t){return typeof t=="string"?zt.fromBase64String(t):zt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function vv(t){const e=t.mapValue.fields.__previous_value__;return yv(e)?vv(e):e}function jc(t){const e=fs(t.mapValue.fields.__local_write_time__.timestampValue);return new Et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Fc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Fc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Fc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function fo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?yv(t)?4:xj(t)?9007199254740991:_j(t)?10:11:me()}function Or(t,e){if(t===e)return!0;const n=fo(t);if(n!==fo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return jc(t).isEqual(jc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=fs(i.timestampValue),a=fs(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ho(i.bytesValue).isEqual(ho(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ct(i.geoPointValue.latitude)===ct(s.geoPointValue.latitude)&&ct(i.geoPointValue.longitude)===ct(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ct(i.integerValue)===ct(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=ct(i.doubleValue),a=ct(s.doubleValue);return o===a?Kh(o)===Kh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ka(t.arrayValue.values||[],e.arrayValue.values||[],Or);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(wx(o)!==wx(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Or(o[l],a[l])))return!1;return!0}(t,e);default:return me()}}function Uc(t,e){return(t.values||[]).find(n=>Or(n,e))!==void 0}function Aa(t,e){if(t===e)return 0;const n=fo(t),r=fo(e);if(n!==r)return Re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Re(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=ct(s.integerValue||s.doubleValue),l=ct(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return xx(t.timestampValue,e.timestampValue);case 4:return xx(jc(t),jc(e));case 5:return Re(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ho(s),l=ho(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Re(a[c],l[c]);if(u!==0)return u}return Re(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Re(ct(s.latitude),ct(o.latitude));return a!==0?a:Re(ct(s.longitude),ct(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Ex(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,u;const h=s.fields||{},f=o.fields||{},p=(a=h.value)===null||a===void 0?void 0:a.arrayValue,y=(l=f.value)===null||l===void 0?void 0:l.arrayValue,v=Re(((c=p==null?void 0:p.values)===null||c===void 0?void 0:c.length)||0,((u=y==null?void 0:y.values)===null||u===void 0?void 0:u.length)||0);return v!==0?v:Ex(p,y)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===wd.mapValue&&o===wd.mapValue)return 0;if(s===wd.mapValue)return 1;if(o===wd.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const f=Re(l[h],u[h]);if(f!==0)return f;const p=Aa(a[l[h]],c[u[h]]);if(p!==0)return p}return Re(l.length,u.length)}(t.mapValue,e.mapValue);default:throw me()}}function xx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Re(t,e);const n=fs(t),r=fs(e),i=Re(n.seconds,r.seconds);return i!==0?i:Re(n.nanos,r.nanos)}function Ex(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Aa(n[i],r[i]);if(s)return s}return Re(n.length,r.length)}function Pa(t){return ay(t)}function ay(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=fs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ho(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return de.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=ay(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${ay(n.fields[o])}`;return i+"}"}(t.mapValue):me()}function Tx(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ly(t){return!!t&&"integerValue"in t}function wv(t){return!!t&&"arrayValue"in t}function Sx(t){return!!t&&"nullValue"in t}function bx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function th(t){return!!t&&"mapValue"in t}function _j(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ic(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return _o(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ic(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ic(t.arrayValue.values[n]);return e}return Object.assign({},t)}function xj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!th(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ic(n)}setAll(e){let n=Ft.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ic(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());th(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Or(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];th(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){_o(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new yn(ic(this.value))}}function WC(t){const e=[];return _o(t.fields,(n,r)=>{const i=new Ft([n]);if(th(r)){const s=WC(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new en(e,0,ge.min(),ge.min(),ge.min(),yn.empty(),0)}static newFoundDocument(e,n,r,i){return new en(e,1,n,ge.min(),r,i,0)}static newNoDocument(e,n){return new en(e,2,n,ge.min(),ge.min(),yn.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,ge.min(),ge.min(),yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n){this.position=e,this.inclusive=n}}function Ix(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=de.comparator(de.fromName(o.referenceValue),n.key):r=Aa(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Cx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Or(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n="asc"){this.field=e,this.dir=n}}function Ej(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{}class yt extends qC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Sj(e,n,r):n==="array-contains"?new Cj(e,r):n==="in"?new kj(e,r):n==="not-in"?new Aj(e,r):n==="array-contains-any"?new Pj(e,r):new yt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new bj(e,r):new Ij(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Aa(n,this.value)):n!==null&&fo(this.value)===fo(n)&&this.matchesComparison(Aa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return me()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wr extends qC{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new wr(e,n)}matches(e){return KC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function KC(t){return t.op==="and"}function GC(t){return Tj(t)&&KC(t)}function Tj(t){for(const e of t.filters)if(e instanceof wr)return!1;return!0}function cy(t){if(t instanceof yt)return t.field.canonicalString()+t.op.toString()+Pa(t.value);if(GC(t))return t.filters.map(e=>cy(e)).join(",");{const e=t.filters.map(n=>cy(n)).join(",");return`${t.op}(${e})`}}function YC(t,e){return t instanceof yt?function(r,i){return i instanceof yt&&r.op===i.op&&r.field.isEqual(i.field)&&Or(r.value,i.value)}(t,e):t instanceof wr?function(r,i){return i instanceof wr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&YC(o,i.filters[a]),!0):!1}(t,e):void me()}function QC(t){return t instanceof yt?function(n){return`${n.field.canonicalString()} ${n.op} ${Pa(n.value)}`}(t):t instanceof wr?function(n){return n.op.toString()+" {"+n.getFilters().map(QC).join(" ,")+"}"}(t):"Filter"}class Sj extends yt{constructor(e,n,r){super(e,n,r),this.key=de.fromName(r.referenceValue)}matches(e){const n=de.comparator(e.key,this.key);return this.matchesComparison(n)}}class bj extends yt{constructor(e,n){super(e,"in",n),this.keys=XC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Ij extends yt{constructor(e,n){super(e,"not-in",n),this.keys=XC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function XC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>de.fromName(r.referenceValue))}class Cj extends yt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return wv(n)&&Uc(n.arrayValue,this.value)}}class kj extends yt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Uc(this.value.arrayValue,n)}}class Aj extends yt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Uc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Uc(this.value.arrayValue,n)}}class Pj extends yt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!wv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Uc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function kx(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Rj(t,e,n,r,i,s,o)}function _v(t){const e=ye(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>cy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Xf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Pa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Pa(r)).join(",")),e.ue=n}return e.ue}function xv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Ej(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!YC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Cx(t.startAt,e.startAt)&&Cx(t.endAt,e.endAt)}function uy(t){return de.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Nj(t,e,n,r,i,s,o,a){return new wu(t,e,n,r,i,s,o,a)}function Ev(t){return new wu(t)}function Ax(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function JC(t){return t.collectionGroup!==null}function sc(t){const e=ye(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new $t(Ft.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Yh(s,r))}),n.has(Ft.keyField().canonicalString())||e.ce.push(new Yh(Ft.keyField(),r))}return e.ce}function Nr(t){const e=ye(t);return e.le||(e.le=Dj(e,sc(t))),e.le}function Dj(t,e){if(t.limitType==="F")return kx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Yh(i.field,s)});const n=t.endAt?new Gh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Gh(t.startAt.position,t.startAt.inclusive):null;return kx(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function dy(t,e){const n=t.filters.concat([e]);return new wu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function hy(t,e,n){return new wu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Jf(t,e){return xv(Nr(t),Nr(e))&&t.limitType===e.limitType}function ZC(t){return`${_v(Nr(t))}|lt:${t.limitType}`}function jo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>QC(i)).join(", ")}]`),Xf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Pa(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Pa(i)).join(",")),`Target(${r})`}(Nr(t))}; limitType=${t.limitType})`}function Zf(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):de.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of sc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=Ix(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,sc(r),i)||r.endAt&&!function(o,a,l){const c=Ix(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,sc(r),i))}(t,e)}function Mj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ek(t){return(e,n)=>{let r=!1;for(const i of sc(t)){const s=Vj(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Vj(t,e,n){const r=t.field.isKeyField()?de.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Aa(l,c):me()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return me()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){_o(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return zC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oj=new rt(de.comparator);function gi(){return Oj}const tk=new rt(de.comparator);function Fl(...t){let e=tk;for(const n of t)e=e.insert(n.key,n);return e}function nk(t){let e=tk;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Hs(){return oc()}function rk(){return oc()}function oc(){return new Qa(t=>t.toString(),(t,e)=>t.isEqual(e))}const Lj=new rt(de.comparator),jj=new $t(de.comparator);function Te(...t){let e=jj;for(const n of t)e=e.add(n);return e}const Fj=new $t(Re);function Uj(){return Fj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kh(e)?"-0":e}}function ik(t){return{integerValue:""+t}}function $j(t,e){return yj(e)?ik(e):Tv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(){this._=void 0}}function Bj(t,e,n){return t instanceof Qh?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&yv(s)&&(s=vv(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof $c?ok(t,e):t instanceof Bc?ak(t,e):function(i,s){const o=sk(i,s),a=Px(o)+Px(i.Pe);return ly(o)&&ly(i.Pe)?ik(a):Tv(i.serializer,a)}(t,e)}function zj(t,e,n){return t instanceof $c?ok(t,e):t instanceof Bc?ak(t,e):n}function sk(t,e){return t instanceof Xh?function(r){return ly(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Qh extends ep{}class $c extends ep{constructor(e){super(),this.elements=e}}function ok(t,e){const n=lk(e);for(const r of t.elements)n.some(i=>Or(i,r))||n.push(r);return{arrayValue:{values:n}}}class Bc extends ep{constructor(e){super(),this.elements=e}}function ak(t,e){let n=lk(e);for(const r of t.elements)n=n.filter(i=>!Or(i,r));return{arrayValue:{values:n}}}class Xh extends ep{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Px(t){return ct(t.integerValue||t.doubleValue)}function lk(t){return wv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Hj(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof $c&&i instanceof $c||r instanceof Bc&&i instanceof Bc?ka(r.elements,i.elements,Or):r instanceof Xh&&i instanceof Xh?Or(r.Pe,i.Pe):r instanceof Qh&&i instanceof Qh}(t.transform,e.transform)}class Wj{constructor(e,n){this.version=e,this.transformResults=n}}class gr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new gr}static exists(e){return new gr(void 0,e)}static updateTime(e){return new gr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class tp{}function ck(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Sv(t.key,gr.none()):new _u(t.key,t.data,gr.none());{const n=t.data,r=yn.empty();let i=new $t(Ft.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new bs(t.key,r,new Mn(i.toArray()),gr.none())}}function qj(t,e,n){t instanceof _u?function(i,s,o){const a=i.value.clone(),l=Nx(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof bs?function(i,s,o){if(!nh(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Nx(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(uk(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ac(t,e,n,r){return t instanceof _u?function(s,o,a,l){if(!nh(s.precondition,o))return a;const c=s.value.clone(),u=Dx(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof bs?function(s,o,a,l){if(!nh(s.precondition,o))return a;const c=Dx(s.fieldTransforms,l,o),u=o.data;return u.setAll(uk(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return nh(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Kj(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=sk(r.transform,i||null);s!=null&&(n===null&&(n=yn.empty()),n.set(r.field,s))}return n||null}function Rx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ka(r,i,(s,o)=>Hj(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class _u extends tp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class bs extends tp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function uk(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Nx(t,e,n){const r=new Map;Oe(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,zj(o,a,n[i]))}return r}function Dx(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Bj(s,o,e))}return r}class Sv extends tp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Gj extends tp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&qj(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ac(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ac(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=rk();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=ck(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ge.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Te())}isEqual(e){return this.batchId===e.batchId&&ka(this.mutations,e.mutations,(n,r)=>Rx(n,r))&&ka(this.baseMutations,e.baseMutations,(n,r)=>Rx(n,r))}}class bv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Oe(e.mutations.length===r.length);let i=function(){return Lj}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new bv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt,Ie;function Jj(t){switch(t){default:return me();case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0}}function dk(t){if(t===void 0)return mi("GRPC error has no .code"),Q.UNKNOWN;switch(t){case pt.OK:return Q.OK;case pt.CANCELLED:return Q.CANCELLED;case pt.UNKNOWN:return Q.UNKNOWN;case pt.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case pt.INTERNAL:return Q.INTERNAL;case pt.UNAVAILABLE:return Q.UNAVAILABLE;case pt.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case pt.NOT_FOUND:return Q.NOT_FOUND;case pt.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case pt.ABORTED:return Q.ABORTED;case pt.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case pt.DATA_LOSS:return Q.DATA_LOSS;default:return me()}}(Ie=pt||(pt={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zj(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e5=new Xs([4294967295,4294967295],0);function Mx(t){const e=Zj().encode(t),n=new VC;return n.update(e),new Uint8Array(n.digest())}function Vx(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Xs([n,r],0),new Xs([i,s],0)]}class Iv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ul(`Invalid padding: ${n}`);if(r<0)throw new Ul(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ul(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ul(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Xs.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Xs.fromNumber(r)));return i.compare(e5)===1&&(i=new Xs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Mx(e),[r,i]=Vx(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Iv(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=Mx(e),[r,i]=Vx(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,xu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new np(ge.min(),i,new rt(Re),gi(),Te())}}class xu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new xu(r,n,Te(),Te(),Te())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class hk{constructor(e,n){this.targetId=e,this.me=n}}class fk{constructor(e,n,r=zt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Ox{constructor(){this.fe=0,this.ge=jx(),this.pe=zt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Te(),n=Te(),r=Te();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:me()}}),new xu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=jx()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Oe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class t5{constructor(e){this.Le=e,this.Be=new Map,this.ke=gi(),this.qe=Lx(),this.Qe=new rt(Re)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:me()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(uy(s))if(r===0){const o=new de(s.path);this.Ue(n,o,en.newNoDocument(o,ge.min()))}else Oe(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ho(r).toUint8Array()}catch(l){if(l instanceof HC)return Ca("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Iv(o,i,s)}catch(l){return Ca(l instanceof Ul?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&uy(a.target)){const l=new de(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,en.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Te();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new np(e,n,this.Qe,this.ke,r);return this.ke=gi(),this.qe=Lx(),this.Qe=new rt(Re),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Ox,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new $t(Re),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Ox),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Lx(){return new rt(de.comparator)}function jx(){return new rt(de.comparator)}const n5={asc:"ASCENDING",desc:"DESCENDING"},r5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},i5={and:"AND",or:"OR"};class s5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function fy(t,e){return t.useProto3Json||Xf(e)?e:{value:e}}function Jh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function o5(t,e){return Jh(t,e.toTimestamp())}function Dr(t){return Oe(!!t),ge.fromTimestamp(function(n){const r=fs(n);return new Et(r.seconds,r.nanos)}(t))}function Cv(t,e){return py(t,e).canonicalString()}function py(t,e){const n=function(i){return new Ke(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function mk(t){const e=Ke.fromString(t);return Oe(_k(e)),e}function my(t,e){return Cv(t.databaseId,e.path)}function xm(t,e){const n=mk(e);if(n.get(1)!==t.databaseId.projectId)throw new se(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new se(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new de(yk(n))}function gk(t,e){return Cv(t.databaseId,e)}function a5(t){const e=mk(t);return e.length===4?Ke.emptyPath():yk(e)}function gy(t){return new Ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function yk(t){return Oe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Fx(t,e,n){return{name:my(t,e),fields:n.value.mapValue.fields}}function l5(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:me()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(Oe(u===void 0||typeof u=="string"),zt.fromBase64String(u||"")):(Oe(u===void 0||u instanceof Buffer||u instanceof Uint8Array),zt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?Q.UNKNOWN:dk(c.code);return new se(u,c.message||"")}(o);n=new fk(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=xm(t,r.document.name),s=Dr(r.document.updateTime),o=r.document.createTime?Dr(r.document.createTime):ge.min(),a=new yn({mapValue:{fields:r.document.fields}}),l=en.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new rh(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=xm(t,r.document),s=r.readTime?Dr(r.readTime):ge.min(),o=en.newNoDocument(i,s),a=r.removedTargetIds||[];n=new rh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=xm(t,r.document),s=r.removedTargetIds||[];n=new rh([],s,i,null)}else{if(!("filter"in e))return me();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Xj(i,s),a=r.targetId;n=new hk(a,o)}}return n}function c5(t,e){let n;if(e instanceof _u)n={update:Fx(t,e.key,e.value)};else if(e instanceof Sv)n={delete:my(t,e.key)};else if(e instanceof bs)n={update:Fx(t,e.key,e.data),updateMask:v5(e.fieldMask)};else{if(!(e instanceof Gj))return me();n={verify:my(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Qh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof $c)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Bc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Xh)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw me()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:o5(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:me()}(t,e.precondition)),n}function u5(t,e){return t&&t.length>0?(Oe(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Dr(i.updateTime):Dr(s);return o.isEqual(ge.min())&&(o=Dr(s)),new Wj(o,i.transformResults||[])}(n,e))):[]}function d5(t,e){return{documents:[gk(t,e.path)]}}function h5(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=gk(t,i);const s=function(c){if(c.length!==0)return wk(wr.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(u=>function(f){return{field:Fo(f.field),direction:m5(f.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=fy(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function f5(t){let e=a5(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Oe(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(h){const f=vk(h);return f instanceof wr&&GC(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(y){return new Yh(Uo(y.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,Xf(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,p=h.values||[];return new Gh(p,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,p=h.values||[];return new Gh(p,f)}(n.endAt)),Nj(e,i,o,s,a,"F",l,c)}function p5(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return me()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function vk(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Uo(n.unaryFilter.field);return yt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Uo(n.unaryFilter.field);return yt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Uo(n.unaryFilter.field);return yt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Uo(n.unaryFilter.field);return yt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return me()}}(t):t.fieldFilter!==void 0?function(n){return yt.create(Uo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return me()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return wr.create(n.compositeFilter.filters.map(r=>vk(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return me()}}(n.compositeFilter.op))}(t):me()}function m5(t){return n5[t]}function g5(t){return r5[t]}function y5(t){return i5[t]}function Fo(t){return{fieldPath:t.canonicalString()}}function Uo(t){return Ft.fromServerFormat(t.fieldPath)}function wk(t){return t instanceof yt?function(n){if(n.op==="=="){if(bx(n.value))return{unaryFilter:{field:Fo(n.field),op:"IS_NAN"}};if(Sx(n.value))return{unaryFilter:{field:Fo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(bx(n.value))return{unaryFilter:{field:Fo(n.field),op:"IS_NOT_NAN"}};if(Sx(n.value))return{unaryFilter:{field:Fo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fo(n.field),op:g5(n.op),value:n.value}}}(t):t instanceof wr?function(n){const r=n.getFilters().map(i=>wk(i));return r.length===1?r[0]:{compositeFilter:{op:y5(n.op),filters:r}}}(t):me()}function v5(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function _k(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e,n,r,i,s=ge.min(),o=ge.min(),a=zt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ki(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(e){this.ct=e}}function _5(t){const e=f5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?hy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(){this.un=new E5}addToCollectionParentIndex(e,n){return this.un.add(n),X.resolve()}getCollectionParents(e,n){return X.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return X.resolve()}deleteFieldIndex(e,n){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,n){return X.resolve()}getDocumentsMatchingTarget(e,n){return X.resolve(null)}getIndexType(e,n){return X.resolve(0)}getFieldIndexes(e,n){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,n){return X.resolve(hs.min())}getMinOffsetFromCollectionGroup(e,n){return X.resolve(hs.min())}updateCollectionGroup(e,n,r){return X.resolve()}updateIndexEntries(e,n){return X.resolve()}}class E5{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new $t(Ke.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new $t(Ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ra(0)}static kn(){return new Ra(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(){this.changes=new Qa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?X.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ac(r.mutation,i,Mn.empty(),Et.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Te()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Te()){const i=Hs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Fl();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Hs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Te()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=gi();const o=oc(),a=function(){return oc()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof bs)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),ac(u.mutation,c,u.mutation.getFieldMask(),Et.now())):o.set(c.key,Mn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new S5(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=oc();let i=new rt((o,a)=>o-a),s=Te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Mn.empty();u=a.applyToLocalView(c,u),r.set(l,u);const h=(i.get(a.batchId)||Te()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=rk();u.forEach(f=>{if(!s.has(f)){const p=ck(n.get(f),r.get(f));p!==null&&h.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return X.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return de.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):JC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):X.resolve(Hs());let a=-1,l=s;return o.next(c=>X.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(u)?X.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Te())).next(u=>({batchId:a,changes:nk(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next(r=>{let i=Fl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Fl();return this.indexManager.getCollectionParents(e,s).next(a=>X.forEach(a,l=>{const c=function(h,f){return new wu(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,en.newInvalidDocument(u)))});let a=Fl();return o.forEach((l,c)=>{const u=s.get(l);u!==void 0&&ac(u.mutation,c,Mn.empty(),Et.now()),Zf(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return X.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Dr(i.createTime)}}(n)),X.resolve()}getNamedQuery(e,n){return X.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:_5(i.bundledQuery),readTime:Dr(i.readTime)}}(n)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(){this.overlays=new rt(de.comparator),this.Ir=new Map}getOverlay(e,n){return X.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Hs();return X.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),X.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),X.resolve()}getOverlaysForCollection(e,n,r){const i=Hs(),s=n.length+1,o=new de(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return X.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new rt((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=Hs(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Hs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return X.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Qj(n,r));let s=this.Ir.get(n);s===void 0&&(s=Te(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(){this.sessionToken=zt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(){this.Tr=new $t(At.Er),this.dr=new $t(At.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new At(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new At(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new de(new Ke([])),r=new At(n,e),i=new At(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new de(new Ke([])),r=new At(n,e),i=new At(n,e+1);let s=Te();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new At(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class At{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return de.comparator(e.key,n.key)||Re(e.wr,n.wr)}static Ar(e,n){return Re(e.wr,n.wr)||de.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new $t(At.Er)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Yj(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new At(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return X.resolve(o)}lookupMutationBatch(e,n){return X.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return X.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new At(n,0),i=new At(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),X.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new $t(Re);return n.forEach(i=>{const s=new At(i,0),o=new At(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),X.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;de.isDocumentKey(s)||(s=s.child(""));const o=new At(new de(s),0);let a=new $t(Re);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.wr)),!0)},o),X.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Oe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return X.forEach(n.mutations,i=>{const s=new At(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new At(n,0),i=this.br.firstAfterOrEqual(r);return X.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(e){this.Mr=e,this.docs=function(){return new rt(de.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return X.resolve(r?r.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let r=gi();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():en.newInvalidDocument(i))}),X.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=gi();const o=n.path,a=new de(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||fj(hj(u),r)<=0||(i.has(u.key)||Zf(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return X.resolve(s)}getAllFromCollectionGroup(e,n,r,i){me()}Or(e,n){return X.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new R5(this)}getSize(e){return X.resolve(this.size)}}class R5 extends T5{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),X.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(e){this.persistence=e,this.Nr=new Qa(n=>_v(n),xv),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this.Lr=0,this.Br=new kv,this.targetCount=0,this.kr=Ra.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),X.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Ra(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,X.resolve()}updateTargetData(e,n){return this.Kn(n),X.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),X.waitFor(s).next(()=>i)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return X.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),X.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),X.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),X.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return X.resolve(r)}containsKey(e,n){return X.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(e,n){this.qr={},this.overlays={},this.Qr=new gv(0),this.Kr=!1,this.Kr=!0,this.$r=new k5,this.referenceDelegate=e(this),this.Ur=new N5(this),this.indexManager=new x5,this.remoteDocumentCache=function(i){return new P5(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new w5(n),this.Gr=new I5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new C5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new A5(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){oe("MemoryPersistence","Starting transaction:",e);const i=new M5(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return X.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class M5 extends mj{constructor(e){super(),this.currentSequenceNumber=e}}class Av{constructor(e){this.persistence=e,this.Jr=new kv,this.Yr=null}static Zr(e){return new Av(e)}get Xr(){if(this.Yr)return this.Yr;throw me()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),X.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),X.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.Xr,r=>{const i=de.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,ge.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return X.or([()=>X.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Te(),i=Te();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Pv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return SO()?8:gj(nn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new V5;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Tl()<=be.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",jo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),X.resolve()):(Tl()<=be.DEBUG&&oe("QueryEngine","Query:",jo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Tl()<=be.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",jo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Nr(n))):X.resolve())}Yi(e,n){if(Ax(n))return X.resolve(null);let r=Nr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=hy(n,null,"F"),r=Nr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Te(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,o,l.readTime)?this.Yi(e,hy(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,i){return Ax(n)||i.isEqual(ge.min())?X.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?X.resolve(null):(Tl()<=be.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),jo(n)),this.rs(e,o,n,dj(i,-1)).next(a=>a))})}ts(e,n){let r=new $t(ek(e));return n.forEach((i,s)=>{Zf(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Tl()<=be.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",jo(n)),this.Ji.getDocumentsMatchingQuery(e,n,hs.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new rt(Re),this._s=new Qa(s=>_v(s),xv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new b5(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function j5(t,e,n,r){return new L5(t,e,n,r)}async function xk(t,e){const n=ye(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Te();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function F5(t,e){const n=ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const h=c.batch,f=h.keys();let p=X.resolve();return f.forEach(y=>{p=p.next(()=>u.getEntry(l,y)).next(v=>{const S=c.docVersions.get(y);Oe(S!==null),v.version.compareTo(S)<0&&(h.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),u.addEntry(v)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Te();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Ek(t){const e=ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function U5(t,e){const n=ye(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((u,h)=>{const f=i.get(h);if(!f)return;a.push(n.Ur.removeMatchingKeys(s,u.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(s,u.addedDocuments,h)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(zt.EMPTY_BYTE_STRING,ge.min()).withLastLimboFreeSnapshotVersion(ge.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(h,p),function(v,S,g){return v.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(f,p,u)&&a.push(n.Ur.updateTargetData(s,p))});let l=gi(),c=Te();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push($5(s,o,e.documentUpdates).next(u=>{l=u.Ps,c=u.Is})),!r.isEqual(ge.min())){const u=n.Ur.getLastRemoteSnapshotVersion(s).next(h=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return X.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.os=i,s))}function $5(t,e,n){let r=Te(),i=Te();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=gi();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ge.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):oe("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function B5(t,e){const n=ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function z5(t,e){const n=ye(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,X.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Ki(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function yy(t,e,n){const r=ye(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!vu(o))throw o;oe("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function Ux(t,e,n){const r=ye(t);let i=ge.min(),s=Te();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const h=ye(l),f=h._s.get(u);return f!==void 0?X.resolve(h.os.get(f)):h.Ur.getTargetData(c,u)}(r,o,Nr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:ge.min(),n?s:Te())).next(a=>(H5(r,Mj(e),a),{documents:a,Ts:s})))}function H5(t,e,n){let r=t.us.get(e)||ge.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class $x{constructor(){this.activeTargetIds=Uj()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class W5{constructor(){this.so=new $x,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new $x,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _d=null;function Em(){return _d===null?_d=function(){return 268435456+Math.round(2147483648*Math.random())}():_d++,"0x"+_d.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="WebChannelConnection";class Y5 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=Em(),l=this.xo(n,r.toUriEncodedString());oe("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(n,l,c,i).then(u=>(oe("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw Ca("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",i),u})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ya}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=K5[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Em();return new Promise((o,a)=>{const l=new OC;l.setWithCredentials(!0),l.listenOnce(LC.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case eh.NO_ERROR:const u=l.getResponseJson();oe(Qt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case eh.TIMEOUT:oe(Qt,`RPC '${e}' ${s} timed out`),a(new se(Q.DEADLINE_EXCEEDED,"Request time out"));break;case eh.HTTP_ERROR:const h=l.getStatus();if(oe(Qt,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const y=function(S){const g=S.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(g)>=0?g:Q.UNKNOWN}(p.status);a(new se(y,p.message))}else a(new se(Q.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new se(Q.UNAVAILABLE,"Connection failed."));break;default:me()}}finally{oe(Qt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);oe(Qt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=Em(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=UC(),a=FC(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");oe(Qt,`Creating RPC '${e}' stream ${i}: ${u}`,l);const h=o.createWebChannel(u,l);let f=!1,p=!1;const y=new G5({Io:S=>{p?oe(Qt,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(f||(oe(Qt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),oe(Qt,`RPC '${e}' stream ${i} sending:`,S),h.send(S))},To:()=>h.close()}),v=(S,g,w)=>{S.listen(g,x=>{try{w(x)}catch(k){setTimeout(()=>{throw k},0)}})};return v(h,jl.EventType.OPEN,()=>{p||(oe(Qt,`RPC '${e}' stream ${i} transport opened.`),y.yo())}),v(h,jl.EventType.CLOSE,()=>{p||(p=!0,oe(Qt,`RPC '${e}' stream ${i} transport closed`),y.So())}),v(h,jl.EventType.ERROR,S=>{p||(p=!0,Ca(Qt,`RPC '${e}' stream ${i} transport errored:`,S),y.So(new se(Q.UNAVAILABLE,"The operation could not be completed")))}),v(h,jl.EventType.MESSAGE,S=>{var g;if(!p){const w=S.data[0];Oe(!!w);const x=w,k=x.error||((g=x[0])===null||g===void 0?void 0:g.error);if(k){oe(Qt,`RPC '${e}' stream ${i} received error:`,k);const O=k.status;let M=function(C){const A=pt[C];if(A!==void 0)return dk(A)}(O),I=k.message;M===void 0&&(M=Q.INTERNAL,I="Unknown error status: "+O+" with message "+k.message),p=!0,y.So(new se(M,I)),h.close()}else oe(Qt,`RPC '${e}' stream ${i} received:`,w),y.bo(w)}}),v(a,jC.STAT_EVENT,S=>{S.stat===oy.PROXY?oe(Qt,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===oy.NOPROXY&&oe(Qt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.wo()},0),y}}function Tm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rp(t){return new s5(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&oe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Tk(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(mi(n.toString()),mi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new se(Q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return oe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Q5 extends Sk{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=l5(this.serializer,e),r=function(s){if(!("targetChange"in s))return ge.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ge.min():o.readTime?Dr(o.readTime):ge.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=gy(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=uy(l)?{documents:d5(s,l)}:{query:h5(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=pk(s,o.resumeToken);const c=fy(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ge.min())>0){a.readTime=Jh(s,o.snapshotVersion.toTimestamp());const c=fy(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=p5(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=gy(this.serializer),n.removeTarget=e,this.a_(n)}}class X5 extends Sk{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Oe(!!e.streamToken),this.lastStreamToken=e.streamToken,Oe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Oe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=u5(e.writeResults,e.commitTime),r=Dr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=gy(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>c5(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new se(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,py(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new se(Q.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,py(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new se(Q.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Z5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(mi(n),this.D_=!1):oe("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{xo(this)&&(oe("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=ye(l);c.L_.add(4),await Eu(c),c.q_.set("Unknown"),c.L_.delete(4),await ip(c)}(this))})}),this.q_=new Z5(r,i)}}async function ip(t){if(xo(t))for(const e of t.B_)await e(!0)}async function Eu(t){for(const e of t.B_)await e(!1)}function bk(t,e){const n=ye(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Mv(n)?Dv(n):Xa(n).r_()&&Nv(n,e))}function Rv(t,e){const n=ye(t),r=Xa(n);n.N_.delete(e),r.r_()&&Ik(n,e),n.N_.size===0&&(r.r_()?r.o_():xo(n)&&n.q_.set("Unknown"))}function Nv(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ge.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xa(t).A_(e)}function Ik(t,e){t.Q_.xe(e),Xa(t).R_(e)}function Dv(t){t.Q_=new t5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Xa(t).start(),t.q_.v_()}function Mv(t){return xo(t)&&!Xa(t).n_()&&t.N_.size>0}function xo(t){return ye(t).L_.size===0}function Ck(t){t.Q_=void 0}async function tF(t){t.q_.set("Online")}async function nF(t){t.N_.forEach((e,n)=>{Nv(t,e)})}async function rF(t,e){Ck(t),Mv(t)?(t.q_.M_(e),Dv(t)):t.q_.set("Unknown")}async function iF(t,e,n){if(t.q_.set("Online"),e instanceof fk&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){oe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Zh(t,r)}else if(e instanceof rh?t.Q_.Ke(e):e instanceof hk?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ge.min()))try{const r=await Ek(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.N_.get(c);u&&s.N_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s.N_.get(l);if(!u)return;s.N_.set(l,u.withResumeToken(zt.EMPTY_BYTE_STRING,u.snapshotVersion)),Ik(s,l);const h=new Ki(u.target,l,c,u.sequenceNumber);Nv(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){oe("RemoteStore","Failed to raise snapshot:",r),await Zh(t,r)}}async function Zh(t,e,n){if(!vu(e))throw e;t.L_.add(1),await Eu(t),t.q_.set("Offline"),n||(n=()=>Ek(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{oe("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await ip(t)})}function kk(t,e){return e().catch(n=>Zh(t,n,e))}async function sp(t){const e=ye(t),n=ps(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;sF(e);)try{const i=await B5(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,oF(e,i)}catch(i){await Zh(e,i)}Ak(e)&&Pk(e)}function sF(t){return xo(t)&&t.O_.length<10}function oF(t,e){t.O_.push(e);const n=ps(t);n.r_()&&n.V_&&n.m_(e.mutations)}function Ak(t){return xo(t)&&!ps(t).n_()&&t.O_.length>0}function Pk(t){ps(t).start()}async function aF(t){ps(t).p_()}async function lF(t){const e=ps(t);for(const n of t.O_)e.m_(n.mutations)}async function cF(t,e,n){const r=t.O_.shift(),i=bv.from(r,e,n);await kk(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await sp(t)}async function uF(t,e){e&&ps(t).V_&&await async function(r,i){if(function(o){return Jj(o)&&o!==Q.ABORTED}(i.code)){const s=r.O_.shift();ps(r).s_(),await kk(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await sp(r)}}(t,e),Ak(t)&&Pk(t)}async function zx(t,e){const n=ye(t);n.asyncQueue.verifyOperationInProgress(),oe("RemoteStore","RemoteStore received new credentials");const r=xo(n);n.L_.add(3),await Eu(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await ip(n)}async function dF(t,e){const n=ye(t);e?(n.L_.delete(2),await ip(n)):e||(n.L_.add(2),await Eu(n),n.q_.set("Unknown"))}function Xa(t){return t.K_||(t.K_=function(n,r,i){const s=ye(n);return s.w_(),new Q5(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:tF.bind(null,t),Ro:nF.bind(null,t),mo:rF.bind(null,t),d_:iF.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Mv(t)?Dv(t):t.q_.set("Unknown")):(await t.K_.stop(),Ck(t))})),t.K_}function ps(t){return t.U_||(t.U_=function(n,r,i){const s=ye(n);return s.w_(),new X5(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:aF.bind(null,t),mo:uF.bind(null,t),f_:lF.bind(null,t),g_:cF.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await sp(t)):(await t.U_.stop(),t.O_.length>0&&(oe("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Js,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Vv(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ov(t,e){if(mi("AsyncQueue",`${e}: ${t}`),vu(t))return new se(Q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e){this.comparator=e?(n,r)=>e(n,r)||de.comparator(n.key,r.key):(n,r)=>de.comparator(n.key,r.key),this.keyedMap=Fl(),this.sortedSet=new rt(this.comparator)}static emptySet(e){return new pa(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof pa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new pa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(){this.W_=new rt(de.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):me():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Na{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Na(e,n,pa.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class fF{constructor(){this.queries=Wx(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ye(n),s=i.queries;i.queries=Wx(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new se(Q.ABORTED,"Firestore shutting down"))}}function Wx(){return new Qa(t=>ZC(t),Jf)}async function pF(t,e){const n=ye(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new hF,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Ov(o,`Initialization of query '${jo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&Lv(n)}async function mF(t,e){const n=ye(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function gF(t,e){const n=ye(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&Lv(n)}function yF(t,e,n){const r=ye(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function Lv(t){t.Y_.forEach(e=>{e.next()})}var vy,qx;(qx=vy||(vy={})).ea="default",qx.Cache="cache";class vF{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Na(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Na.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==vy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e){this.key=e}}class Nk{constructor(e){this.key=e}}class wF{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Te(),this.mutatedKeys=Te(),this.Aa=ek(e),this.Ra=new pa(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Hx,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,h)=>{const f=i.get(u),p=Zf(this.query,h)?h:null,y=!!f&&this.mutatedKeys.has(f.key),v=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let S=!1;f&&p?f.data.isEqual(p.data)?y!==v&&(r.track({type:3,doc:p}),S=!0):this.ga(f,p)||(r.track({type:2,doc:p}),S=!0,(l&&this.Aa(p,l)>0||c&&this.Aa(p,c)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),S=!0):f&&!p&&(r.track({type:1,doc:f}),S=!0,(l||c)&&(a=!0)),S&&(p?(o=o.add(p),s=v?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((u,h)=>function(p,y){const v=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return me()}};return v(p)-v(y)}(u.type,h.type)||this.Aa(u.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new Na(this.query,e.Ra,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Hx,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Te(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Nk(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Rk(r))}),n}ba(e){this.Ta=e.Ts,this.da=Te();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Na.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class _F{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class xF{constructor(e){this.key=e,this.va=!1}}class EF{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Qa(a=>ZC(a),Jf),this.Ma=new Map,this.xa=new Set,this.Oa=new rt(de.comparator),this.Na=new Map,this.La=new kv,this.Ba={},this.ka=new Map,this.qa=Ra.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function TF(t,e,n=!0){const r=jk(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await Dk(r,e,n,!0),i}async function SF(t,e){const n=jk(t);await Dk(n,e,!0,!1)}async function Dk(t,e,n,r){const i=await z5(t.localStore,Nr(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await bF(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&bk(t.remoteStore,i),a}async function bF(t,e,n,r,i){t.Ka=(h,f,p)=>async function(v,S,g,w){let x=S.view.ma(g);x.ns&&(x=await Ux(v.localStore,S.query,!1).then(({documents:I})=>S.view.ma(I,x)));const k=w&&w.targetChanges.get(S.targetId),O=w&&w.targetMismatches.get(S.targetId)!=null,M=S.view.applyChanges(x,v.isPrimaryClient,k,O);return Gx(v,S.targetId,M.wa),M.snapshot}(t,h,f,p);const s=await Ux(t.localStore,e,!0),o=new wF(e,s.Ts),a=o.ma(s.documents),l=xu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);Gx(t,n,c.wa);const u=new _F(e,n,o);return t.Fa.set(e,u),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function IF(t,e,n){const r=ye(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Jf(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await yy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Rv(r.remoteStore,i.targetId),wy(r,i.targetId)}).catch(yu)):(wy(r,i.targetId),await yy(r.localStore,i.targetId,!0))}async function CF(t,e){const n=ye(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Rv(n.remoteStore,r.targetId))}async function kF(t,e,n){const r=VF(t);try{const i=await function(o,a){const l=ye(o),c=Et.now(),u=a.reduce((p,y)=>p.add(y.key),Te());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let y=gi(),v=Te();return l.cs.getEntries(p,u).next(S=>{y=S,y.forEach((g,w)=>{w.isValidDocument()||(v=v.add(g))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,y)).next(S=>{h=S;const g=[];for(const w of a){const x=Kj(w,h.get(w.key).overlayedDocument);x!=null&&g.push(new bs(w.key,x,WC(x.value.mapValue),gr.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,g,a)}).next(S=>{f=S;const g=S.applyToLocalDocumentSet(h,v);return l.documentOverlayCache.saveOverlays(p,S.batchId,g)})}).then(()=>({batchId:f.batchId,changes:nk(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new rt(Re)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,n),await Tu(r,i.changes),await sp(r.remoteStore)}catch(i){const s=Ov(i,"Failed to persist write");n.reject(s)}}async function Mk(t,e){const n=ye(t);try{const r=await U5(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Oe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Oe(o.va):i.removedDocuments.size>0&&(Oe(o.va),o.va=!1))}),await Tu(n,r,e)}catch(r){await yu(r)}}function Kx(t,e,n){const r=ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ye(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const f of h.j_)f.Z_(a)&&(c=!0)}),c&&Lv(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function AF(t,e,n){const r=ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new rt(de.comparator);o=o.insert(s,en.newNoDocument(s,ge.min()));const a=Te().add(s),l=new np(ge.min(),new Map,new rt(Re),o,a);await Mk(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),jv(r)}else await yy(r.localStore,e,!1).then(()=>wy(r,e,n)).catch(yu)}async function PF(t,e){const n=ye(t),r=e.batch.batchId;try{const i=await F5(n.localStore,e);Ok(n,r,null),Vk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Tu(n,i)}catch(i){await yu(i)}}async function RF(t,e,n){const r=ye(t);try{const i=await function(o,a){const l=ye(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Oe(h!==null),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);Ok(r,e,n),Vk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Tu(r,i)}catch(i){await yu(i)}}function Vk(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function Ok(t,e,n){const r=ye(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function wy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||Lk(t,r)})}function Lk(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Rv(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),jv(t))}function Gx(t,e,n){for(const r of n)r instanceof Rk?(t.La.addReference(r.key,e),NF(t,r)):r instanceof Nk?(oe("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||Lk(t,r.key)):me()}function NF(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(oe("SyncEngine","New document in limbo: "+n),t.xa.add(r),jv(t))}function jv(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new de(Ke.fromString(e)),r=t.qa.next();t.Na.set(r,new xF(n)),t.Oa=t.Oa.insert(n,r),bk(t.remoteStore,new Ki(Nr(Ev(n.path)),r,"TargetPurposeLimboResolution",gv.oe))}}async function Tu(t,e,n){const r=ye(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){i.push(c);const h=Pv.Wi(l.targetId,c);s.push(h)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,c){const u=ye(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>X.forEach(c,f=>X.forEach(f.$i,p=>u.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>X.forEach(f.Ui,p=>u.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!vu(h))throw h;oe("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const p=u.os.get(f),y=p.snapshotVersion,v=p.withLastLimboFreeSnapshotVersion(y);u.os=u.os.insert(f,v)}}}(r.localStore,s))}async function DF(t,e){const n=ye(t);if(!n.currentUser.isEqual(e)){oe("SyncEngine","User change. New user:",e.toKey());const r=await xk(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new se(Q.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Tu(n,r.hs)}}function MF(t,e){const n=ye(t),r=n.Na.get(e);if(r&&r.va)return Te().add(r.key);{let i=Te();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function jk(t){const e=ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Mk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AF.bind(null,e),e.Ca.d_=gF.bind(null,e.eventManager),e.Ca.$a=yF.bind(null,e.eventManager),e}function VF(t){const e=ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=PF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RF.bind(null,e),e}class ef{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=rp(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return j5(this.persistence,new O5,e.initialUser,this.serializer)}Ga(e){return new D5(Av.Zr,this.serializer)}Wa(e){return new W5}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ef.provider={build:()=>new ef};class _y{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Kx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=DF.bind(null,this.syncEngine),await dF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new fF}()}createDatastore(e){const n=rp(e.databaseInfo.databaseId),r=function(s){return new Y5(s)}(e.databaseInfo);return function(s,o,a,l){return new J5(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new eF(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Kx(this.syncEngine,n,0),function(){return Bx.D()?new Bx:new q5}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,u){const h=new EF(i,s,o,a,l,c);return u&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ye(i);oe("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Eu(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}_y.provider={build:()=>new _y};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):mi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Jt.UNAUTHENTICATED,this.clientId=BC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{oe("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(oe("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Js;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ov(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Sm(t,e){t.asyncQueue.verifyOperationInProgress(),oe("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await xk(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Yx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await jF(t);oe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>zx(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>zx(e.remoteStore,i)),t._onlineComponents=e}async function jF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){oe("FirestoreClient","Using user provided OfflineComponentProvider");try{await Sm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Q.FAILED_PRECONDITION||i.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ca("Error using user provided cache. Falling back to memory cache: "+n),await Sm(t,new ef)}}else oe("FirestoreClient","Using default OfflineComponentProvider"),await Sm(t,new ef);return t._offlineComponents}async function Fk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(oe("FirestoreClient","Using user provided OnlineComponentProvider"),await Yx(t,t._uninitializedComponentsProvider._online)):(oe("FirestoreClient","Using default OnlineComponentProvider"),await Yx(t,new _y))),t._onlineComponents}function FF(t){return Fk(t).then(e=>e.syncEngine)}async function Qx(t){const e=await Fk(t),n=e.eventManager;return n.onListen=TF.bind(null,e.syncEngine),n.onUnlisten=IF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=SF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=CF.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $k(t,e,n){if(!n)throw new se(Q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function UF(t,e,n,r){if(e===!0&&r===!0)throw new se(Q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Jx(t){if(!de.isDocumentKey(t))throw new se(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Zx(t){if(de.isDocumentKey(t))throw new se(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function op(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":me()}function os(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new se(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=op(t);throw new se(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new se(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new se(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}UF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Uk((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new se(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new se(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new se(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ap{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new se(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new nj;switch(r.type){case"firstParty":return new oj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new se(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Xx.get(n);r&&(oe("ComponentProvider","Removing Datastore"),Xx.delete(n),r.terminate())}(this),Promise.resolve()}}function $F(t,e,n,r={}){var i;const s=(t=os(t,ap))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ca("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Jt.MOCK_USER;else{a=yO(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new se(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Jt(c)}t._authCredentials=new rj(new $C(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ja(this.firestore,e,this._query)}}class Tn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new as(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tn(this.firestore,e,this._key)}}class as extends Ja{constructor(e,n,r){super(e,n,Ev(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tn(this.firestore,null,new de(e))}withConverter(e){return new as(this.firestore,e,this._path)}}function tf(t,e,...n){if(t=Tt(t),$k("collection","path",e),t instanceof ap){const r=Ke.fromString(e,...n);return Zx(r),new as(t,null,r)}{if(!(t instanceof Tn||t instanceof as))throw new se(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ke.fromString(e,...n));return Zx(r),new as(t.firestore,null,r)}}function qn(t,e,...n){if(t=Tt(t),arguments.length===1&&(e=BC.newId()),$k("doc","path",e),t instanceof ap){const r=Ke.fromString(e,...n);return Jx(r),new Tn(t,null,new de(r))}{if(!(t instanceof Tn||t instanceof as))throw new se(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ke.fromString(e,...n));return Jx(r),new Tn(t.firestore,t instanceof as?t.converter:null,new de(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Tk(this,"async_queue_retry"),this.Vu=()=>{const r=Tm();r&&oe("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Tm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Tm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Js;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!vu(e))throw e;oe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw mi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Vv.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&me()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function nE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Da extends ap{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new tE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tE(e),this._firestoreClient=void 0,await e}}}function BF(t,e){const n=typeof t=="object"?t:JI(),r=typeof t=="string"?t:"(default)",i=sv(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=mO("firestore");s&&$F(i,...s)}return i}function Bk(t){if(t._terminated)throw new se(Q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||zF(t),t._firestoreClient}function zF(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,u){return new wj(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,Uk(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new LF(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ma(zt.fromBase64String(e))}catch(n){throw new se(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ma(zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new se(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HF=/^__.*__$/;class WF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new bs(e,this.data,this.fieldMask,n,this.fieldTransforms):new _u(e,this.data,n,this.fieldTransforms)}}class zk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new bs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Hk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw me()}}class Bv{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Bv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return nf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Hk(this.Cu)&&HF.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class qF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||rp(e)}Qu(e,n,r,i=!1){return new Bv({Cu:e,methodName:n,qu:r,path:Ft.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zv(t){const e=t._freezeSettings(),n=rp(t._databaseId);return new qF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function KF(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);Hv("Data must be an object, but it was:",o,r);const a=Wk(r,o);let l,c;if(s.merge)l=new Mn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const h of s.mergeFields){const f=xy(e,h,n);if(!o.contains(f))throw new se(Q.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Kk(u,f)||u.push(f)}l=new Mn(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new WF(new yn(a),l,c)}class cp extends Fv{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof cp}}function GF(t,e,n,r){const i=t.Qu(1,e,n);Hv("Data must be an object, but it was:",i,r);const s=[],o=yn.empty();_o(r,(l,c)=>{const u=Wv(e,l,n);c=Tt(c);const h=i.Nu(u);if(c instanceof cp)s.push(u);else{const f=Su(c,h);f!=null&&(s.push(u),o.set(u,f))}});const a=new Mn(s);return new zk(o,a,i.fieldTransforms)}function YF(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[xy(e,r,n)],l=[i];if(s.length%2!=0)throw new se(Q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(xy(e,s[f])),l.push(s[f+1]);const c=[],u=yn.empty();for(let f=a.length-1;f>=0;--f)if(!Kk(c,a[f])){const p=a[f];let y=l[f];y=Tt(y);const v=o.Nu(p);if(y instanceof cp)c.push(p);else{const S=Su(y,v);S!=null&&(c.push(p),u.set(p,S))}}const h=new Mn(c);return new zk(u,h,o.fieldTransforms)}function QF(t,e,n,r=!1){return Su(n,t.Qu(r?4:3,e))}function Su(t,e){if(qk(t=Tt(t)))return Hv("Unsupported field value:",e,t),Wk(t,e);if(t instanceof Fv)return function(r,i){if(!Hk(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Su(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Tt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $j(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Et.fromDate(r);return{timestampValue:Jh(i.serializer,s)}}if(r instanceof Et){const s=new Et(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Jh(i.serializer,s)}}if(r instanceof Uv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ma)return{bytesValue:pk(i.serializer,r._byteString)};if(r instanceof Tn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Cv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof $v)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return Tv(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${op(r)}`)}(t,e)}function Wk(t,e){const n={};return zC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_o(t,(r,i)=>{const s=Su(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function qk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Et||t instanceof Uv||t instanceof Ma||t instanceof Tn||t instanceof Fv||t instanceof $v)}function Hv(t,e,n){if(!qk(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=op(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function xy(t,e,n){if((e=Tt(e))instanceof lp)return e._internalPath;if(typeof e=="string")return Wv(t,e);throw nf("Field path arguments must be of type string or ",t,!1,void 0,n)}const XF=new RegExp("[~\\*/\\[\\]]");function Wv(t,e,n){if(e.search(XF)>=0)throw nf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new lp(...e.split("."))._internalPath}catch{throw nf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function nf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new se(Q.INVALID_ARGUMENT,a+t+l)}function Kk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new JF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(qv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class JF extends Gk{data(){return super.data()}}function qv(t,e){return typeof e=="string"?Wv(t,e):e instanceof lp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new se(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kv{}class e9 extends Kv{}function t9(t,e,...n){let r=[];e instanceof Kv&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof Gv).length,a=s.filter(l=>l instanceof up).length;if(o>1||o>0&&a>0)throw new se(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class up extends e9{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new up(e,n,r)}_apply(e){const n=this._parse(e);return Yk(e._query,n),new Ja(e.firestore,e.converter,dy(e._query,n))}_parse(e){const n=zv(e.firestore);return function(s,o,a,l,c,u,h){let f;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new se(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){iE(h,u);const p=[];for(const y of h)p.push(rE(l,s,y));f={arrayValue:{values:p}}}else f=rE(l,s,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||iE(h,u),f=QF(a,o,h,u==="in"||u==="not-in");return yt.create(c,u,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function n9(t,e,n){const r=e,i=qv("where",t);return up._create(i,r,n)}class Gv extends Kv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Gv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:wr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)Yk(o,l),o=dy(o,l)}(e._query,n),new Ja(e.firestore,e.converter,dy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function rE(t,e,n){if(typeof(n=Tt(n))=="string"){if(n==="")throw new se(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!JC(e)&&n.indexOf("/")!==-1)throw new se(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ke.fromString(n));if(!de.isDocumentKey(r))throw new se(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Tx(t,new de(r))}if(n instanceof Tn)return Tx(t,n._key);throw new se(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${op(n)}.`)}function iE(t,e){if(!Array.isArray(t)||t.length===0)throw new se(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Yk(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new se(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new se(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class r9{convertValue(e,n="none"){switch(fo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ho(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw me()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return _o(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>ct(o.doubleValue));return new $v(s)}convertGeoPoint(e){return new Uv(ct(e.latitude),ct(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=vv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(jc(e));default:return null}}convertTimestamp(e){const n=fs(e);return new Et(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ke.fromString(e);Oe(_k(r));const i=new Fc(r.get(1),r.get(3)),s=new de(r.popFirst(5));return i.isEqual(n)||mi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i9(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qk extends Gk{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(qv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ih extends Qk{data(e={}){return super.data(e)}}class s9{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new $l(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ih(this._firestore,this._userDataWriter,r.key,r,new $l(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new ih(i._firestore,i._userDataWriter,a.doc.key,a.doc,new $l(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new ih(i._firestore,i._userDataWriter,a.doc.key,a.doc,new $l(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:o9(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function o9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return me()}}class Xk extends r9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ma(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tn(this.firestore,null,n)}}function Gr(t,e,n,...r){t=os(t,Tn);const i=os(t.firestore,Da),s=zv(i);let o;return o=typeof(e=Tt(e))=="string"||e instanceof lp?YF(s,"updateDoc",t._key,e,n,r):GF(s,"updateDoc",t._key,e),Yv(i,[o.toMutation(t._key,gr.exists(!0))])}function Jk(t){return Yv(os(t.firestore,Da),[new Sv(t._key,gr.none())])}function Zk(t,e){const n=os(t.firestore,Da),r=qn(t),i=i9(t.converter,e);return Yv(n,[KF(zv(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,gr.exists(!1))]).then(()=>r)}function eA(t,...e){var n,r,i;t=Tt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||nE(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(nE(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,c,u;if(t instanceof Tn)c=os(t.firestore,Da),u=Ev(t._key.path),l={next:h=>{e[o]&&e[o](a9(c,t,h))},error:e[o+1],complete:e[o+2]};else{const h=os(t,Ja);c=os(h.firestore,Da),u=h._query;const f=new Xk(c);l={next:p=>{e[o]&&e[o](new s9(c,f,h,p))},error:e[o+1],complete:e[o+2]},ZF(t._query)}return function(f,p,y,v){const S=new OF(v),g=new vF(p,S,y);return f.asyncQueue.enqueueAndForget(async()=>pF(await Qx(f),g)),()=>{S.Za(),f.asyncQueue.enqueueAndForget(async()=>mF(await Qx(f),g))}}(Bk(c),u,a,l)}function Yv(t,e){return function(r,i){const s=new Js;return r.asyncQueue.enqueueAndForget(async()=>kF(await FF(r),i,s)),s.promise}(Bk(t),e)}function a9(t,e,n){const r=n.docs.get(e._key),i=new Xk(t);return new Qk(t,i,e._key,r,new $l(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Ya=i})(Ka),Ia(new ao("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Da(new ij(r.getProvider("auth-internal")),new lj(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new se(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fc(c.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ss(vx,"4.7.3",e),ss(vx,"4.7.3","esm2017")})();const l9={apiKey:"AIzaSyC4sRnieV5FGKBsnUlcRg3p9kXQ37VTcdw",authDomain:"planit-50f4b.firebaseapp.com",projectId:"planit-50f4b",storageBucket:"planit-50f4b.firebasestorage.app",messagingSenderId:"739374191019",appId:"1:739374191019:web:558b80cf396f62d08a02ee"},tA=XI(l9),xd=J3(tA),on=BF(tA),nA=_.createContext(void 0),Eo=()=>{const t=_.useContext(nA);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},c9=({children:t})=>{const[e,n]=_.useState(null),[r,i]=_.useState(!0),s=async(c,u)=>{await L4(xd,c,u)},o=async(c,u)=>{await O4(xd,c,u)},a=async()=>{await $4(xd)};_.useEffect(()=>U4(xd,u=>{n(u),i(!1)}),[]);const l={currentUser:e,login:s,register:o,logout:a,loading:r};return b.jsx(nA.Provider,{value:l,children:!r&&t})},rA=_.createContext(void 0),u9=()=>{const t=_.useContext(rA);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},d9=({children:t})=>{const[e,n]=_.useState(()=>localStorage.getItem("planit-theme")||"light");_.useEffect(()=>{localStorage.setItem("planit-theme",e),e==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[e]);const r=()=>{n(i=>i==="light"?"dark":"light")};return b.jsx(rA.Provider,{value:{theme:e,toggleTheme:r},children:t})},iA=_.createContext(void 0),dp=()=>{const t=_.useContext(iA);if(t===void 0)throw new Error("useNotification must be used within a NotificationProvider");return t},h9=({children:t})=>{const[e,n]=_.useState(()=>{const u=localStorage.getItem("notifications");if(u)try{return JSON.parse(u).map(f=>({...f,createdAt:new Date(f.createdAt)}))}catch{return[]}return[]});_.useEffect(()=>{localStorage.setItem("notifications",JSON.stringify(e))},[e]),_.useEffect(()=>{const u=e.filter(f=>f.visibility==="toast").map(f=>setTimeout(()=>{n(p=>p.filter(y=>y.id!==f.id))},5e3)),h=e.filter(f=>f.visibility==="both").map(f=>setTimeout(()=>{n(p=>p.map(y=>y.id===f.id?{...y,visibility:"panel"}:y))},5e3));return()=>{u.forEach(clearTimeout),h.forEach(clearTimeout)}},[e]);const r=u=>{const h=u.visibility??"toast",p={id:Date.now().toString(),...u,visibility:h,createdAt:new Date,read:!1};n(y=>[p,...y])},i=u=>{n(h=>h.map(f=>f.id===u&&f.visibility==="both"?{...f,visibility:"panel"}:f))},s=u=>{n(h=>h.map(f=>f.id===u?{...f,read:!0}:f))},o=()=>{n(u=>u.map(h=>({...h,read:!0})))},a=u=>{n(h=>h.filter(f=>f.id!==u))},l=e.filter(u=>(u.visibility==="panel"||u.visibility==="both")&&!u.read).length,c={notifications:e,unreadCount:l,addNotification:r,markAsRead:s,markAllAsRead:o,removeNotification:a,removeToastOnly:i};return b.jsx(iA.Provider,{value:c,children:t})},sA=_.createContext(void 0),Qv=()=>{const t=_.useContext(sA);if(t===void 0)throw new Error("useProject must be used within a ProjectProvider");return t},f9=({children:t})=>{const{currentUser:e}=Eo(),{addNotification:n}=dp(),[r,i]=_.useState(null),[s,o]=_.useState([]),[a,l]=_.useState(!0);_.useEffect(()=>{if(!e){o([]),i(null),l(!1);return}return eA(tf(on,"users",e.uid,"projects"),S=>{const g=S.docs.map(w=>{var x;return{id:w.id,...w.data(),createdAt:((x=w.data().createdAt)==null?void 0:x.toDate())||new Date}});o(g),!r&&g.length>0&&i(g[0]),l(!1)},S=>{console.error("Error fetching projects:",S),l(!1)})},[e,r]);const y={currentProject:r,projects:s,switchProject:v=>{const S=s.find(g=>g.id===v);S&&i(S)},createProject:async v=>{if(e)try{const g={id:(await Zk(tf(on,"users",e.uid,"projects"),{name:v,createdAt:new Date})).id,name:v,createdAt:new Date};i(g),n({title:"Proje Oluşturuldu",message:`Yeni proje "${v}" başarıyla oluşturuldu.`,type:"success",visibility:"both"})}catch(S){throw console.error("Error creating project:",S),n({title:"Hata",message:"Proje oluşturulamadı.",type:"error",visibility:"both"}),S}},updateProjectName:async(v,S)=>{if(e)try{await Gr(qn(on,"users",e.uid,"projects",v),{name:S}),(r==null?void 0:r.id)===v&&i({...r,name:S}),n({title:"Proje Güncellendi",message:`Proje adı "${S}" olarak güncellendi.`,type:"success",visibility:"both"})}catch(g){throw console.error("Error updating project:",g),n({title:"Hata",message:"Proje güncellenemedi.",type:"error",visibility:"both"}),g}},deleteProject:async v=>{if(e)try{const S=s.find(g=>g.id===v);if(await Jk(qn(on,"users",e.uid,"projects",v)),(r==null?void 0:r.id)===v){const g=s.filter(w=>w.id!==v);g.length>0?i(g[0]):i(null)}n({title:"Proje Silindi",message:`Proje "${S==null?void 0:S.name}" silindi.`,type:"warning",visibility:"both"})}catch(S){throw console.error("Error deleting project:",S),n({title:"Hata",message:"Proje silinemedi.",type:"error",visibility:"both"}),S}},reorderProjects:async v=>{if(e)try{const S=v.map((g,w)=>Gr(qn(on,"users",e.uid,"projects",g),{order:w}));await Promise.all(S)}catch(S){throw console.error("Error reordering projects:",S),S}},loading:a};return b.jsx(sA.Provider,{value:y,children:t})},p9=({children:t})=>{const{currentUser:e}=Eo();return e?b.jsx(b.Fragment,{children:t}):b.jsx(LI,{to:"/login",replace:!0})},oA=_.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),hp=_.createContext({}),fp=_.createContext(null),pp=typeof document<"u",Xv=pp?_.useLayoutEffect:_.useEffect,aA=_.createContext({strict:!1}),Jv=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),m9="framerAppearId",lA="data-"+Jv(m9);function g9(t,e,n,r){const{visualElement:i}=_.useContext(hp),s=_.useContext(aA),o=_.useContext(fp),a=_.useContext(oA).reducedMotion,l=_.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;_.useInsertionEffect(()=>{c&&c.update(n,o)});const u=_.useRef(!!(n[lA]&&!window.HandoffComplete));return Xv(()=>{c&&(c.render(),u.current&&c.animationState&&c.animationState.animateChanges())}),_.useEffect(()=>{c&&(c.updateFeatures(),!u.current&&c.animationState&&c.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),c}function ea(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function y9(t,e,n){return _.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ea(n)&&(n.current=r))},[e])}function zc(t){return typeof t=="string"||Array.isArray(t)}function mp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Zv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ew=["initial",...Zv];function gp(t){return mp(t.animate)||ew.some(e=>zc(t[e]))}function cA(t){return!!(gp(t)||t.variants)}function v9(t,e){if(gp(t)){const{initial:n,animate:r}=t;return{initial:n===!1||zc(n)?n:void 0,animate:zc(r)?r:void 0}}return t.inherit!==!1?e:{}}function w9(t){const{initial:e,animate:n}=v9(t,_.useContext(hp));return _.useMemo(()=>({initial:e,animate:n}),[sE(e),sE(n)])}function sE(t){return Array.isArray(t)?t.join(" "):t}const oE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Hc={};for(const t in oE)Hc[t]={isEnabled:e=>oE[t].some(n=>!!e[n])};function _9(t){for(const e in t)Hc[e]={...Hc[e],...t[e]}}const tw=_.createContext({}),uA=_.createContext({}),x9=Symbol.for("motionComponentSymbol");function E9({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&_9(t);function s(a,l){let c;const u={..._.useContext(oA),...a,layoutId:T9(a)},{isStatic:h}=u,f=w9(a),p=r(a,h);if(!h&&pp){f.visualElement=g9(i,p,u,e);const y=_.useContext(uA),v=_.useContext(aA).strict;f.visualElement&&(c=f.visualElement.loadFeatures(u,v,t,y))}return _.createElement(hp.Provider,{value:f},c&&f.visualElement?_.createElement(c,{visualElement:f.visualElement,...u}):null,n(i,a,y9(p,f.visualElement,l),p,h,f.visualElement))}const o=_.forwardRef(s);return o[x9]=i,o}function T9({layoutId:t}){const e=_.useContext(tw).id;return e&&t!==void 0?e+"-"+t:t}function S9(t){function e(r,i={}){return E9(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const b9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function nw(t){return typeof t!="string"||t.includes("-")?!1:!!(b9.indexOf(t)>-1||/[A-Z]/.test(t))}const rf={};function I9(t){Object.assign(rf,t)}const bu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],To=new Set(bu);function dA(t,{layout:e,layoutId:n}){return To.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!rf[t]||t==="opacity")}const Sn=t=>!!(t&&t.getVelocity),C9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},k9=bu.length;function A9(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<k9;o++){const a=bu[o];if(t[a]!==void 0){const l=C9[a]||a;s+=`${l}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const hA=t=>e=>typeof e=="string"&&e.startsWith(t),fA=hA("--"),Ey=hA("var(--"),P9=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,R9=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ms=(t,e,n)=>Math.min(Math.max(n,t),e),So={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},lc={...So,transform:t=>ms(0,1,t)},Ed={...So,default:1},cc=t=>Math.round(t*1e5)/1e5,yp=/(-)?([\d]*\.?[\d])+/g,pA=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,N9=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Iu(t){return typeof t=="string"}const Cu=t=>({test:e=>Iu(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ai=Cu("deg"),Mr=Cu("%"),he=Cu("px"),D9=Cu("vh"),M9=Cu("vw"),aE={...Mr,parse:t=>Mr.parse(t)/100,transform:t=>Mr.transform(t*100)},lE={...So,transform:Math.round},mA={borderWidth:he,borderTopWidth:he,borderRightWidth:he,borderBottomWidth:he,borderLeftWidth:he,borderRadius:he,radius:he,borderTopLeftRadius:he,borderTopRightRadius:he,borderBottomRightRadius:he,borderBottomLeftRadius:he,width:he,maxWidth:he,height:he,maxHeight:he,size:he,top:he,right:he,bottom:he,left:he,padding:he,paddingTop:he,paddingRight:he,paddingBottom:he,paddingLeft:he,margin:he,marginTop:he,marginRight:he,marginBottom:he,marginLeft:he,rotate:Ai,rotateX:Ai,rotateY:Ai,rotateZ:Ai,scale:Ed,scaleX:Ed,scaleY:Ed,scaleZ:Ed,skew:Ai,skewX:Ai,skewY:Ai,distance:he,translateX:he,translateY:he,translateZ:he,x:he,y:he,z:he,perspective:he,transformPerspective:he,opacity:lc,originX:aE,originY:aE,originZ:he,zIndex:lE,fillOpacity:lc,strokeOpacity:lc,numOctaves:lE};function rw(t,e,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=t;let l=!1,c=!1,u=!0;for(const h in e){const f=e[h];if(fA(h)){s[h]=f;continue}const p=mA[h],y=R9(f,p);if(To.has(h)){if(l=!0,o[h]=y,!u)continue;f!==(p.default||0)&&(u=!1)}else h.startsWith("origin")?(c=!0,a[h]=y):i[h]=y}if(e.transform||(l||r?i.transform=A9(t.transform,n,u,r):i.transform&&(i.transform="none")),c){const{originX:h="50%",originY:f="50%",originZ:p=0}=a;i.transformOrigin=`${h} ${f} ${p}`}}const iw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function gA(t,e,n){for(const r in e)!Sn(e[r])&&!dA(r,n)&&(t[r]=e[r])}function V9({transformTemplate:t},e,n){return _.useMemo(()=>{const r=iw();return rw(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function O9(t,e,n){const r=t.style||{},i={};return gA(i,r,t),Object.assign(i,V9(t,e,n)),t.transformValues?t.transformValues(i):i}function L9(t,e,n){const r={},i=O9(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const j9=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function sf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||j9.has(t)}let yA=t=>!sf(t);function F9(t){t&&(yA=e=>e.startsWith("on")?!sf(e):t(e))}try{F9(require("@emotion/is-prop-valid").default)}catch{}function U9(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(yA(i)||n===!0&&sf(i)||!e&&!sf(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function cE(t,e,n){return typeof t=="string"?t:he.transform(e+n*t)}function $9(t,e,n){const r=cE(e,t.x,t.width),i=cE(n,t.y,t.height);return`${r} ${i}`}const B9={offset:"stroke-dashoffset",array:"stroke-dasharray"},z9={offset:"strokeDashoffset",array:"strokeDasharray"};function H9(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?B9:z9;t[s.offset]=he.transform(-r);const o=he.transform(e),a=he.transform(n);t[s.array]=`${o} ${a}`}function sw(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,h,f){if(rw(t,c,u,f),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:y,dimensions:v}=t;p.transform&&(v&&(y.transform=p.transform),delete p.transform),v&&(i!==void 0||s!==void 0||y.transform)&&(y.transformOrigin=$9(v,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&H9(p,o,a,l,!1)}const vA=()=>({...iw(),attrs:{}}),ow=t=>typeof t=="string"&&t.toLowerCase()==="svg";function W9(t,e,n,r){const i=_.useMemo(()=>{const s=vA();return sw(s,e,{enableHardwareAcceleration:!1},ow(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};gA(s,t.style,t),i.style={...s,...i.style}}return i}function q9(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(nw(n)?W9:L9)(r,s,o,n),u={...U9(r,typeof n=="string",t),...l,ref:i},{children:h}=r,f=_.useMemo(()=>Sn(h)?h.get():h,[h]);return _.createElement(n,{...u,children:f})}}function wA(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const _A=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function xA(t,e,n,r){wA(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(_A.has(i)?i:Jv(i),e.attrs[i])}function aw(t,e){const{style:n}=t,r={};for(const i in n)(Sn(n[i])||e.style&&Sn(e.style[i])||dA(i,t))&&(r[i]=n[i]);return r}function EA(t,e){const n=aw(t,e);for(const r in t)if(Sn(t[r])||Sn(e[r])){const i=bu.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function lw(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function TA(t){const e=_.useRef(null);return e.current===null&&(e.current=t()),e.current}const of=t=>Array.isArray(t),K9=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),G9=t=>of(t)?t[t.length-1]||0:t;function sh(t){const e=Sn(t)?t.get():t;return K9(e)?e.toValue():e}function Y9({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:Q9(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const SA=t=>(e,n)=>{const r=_.useContext(hp),i=_.useContext(fp),s=()=>Y9(t,e,r,i);return n?s():TA(s)};function Q9(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=sh(s[f]);let{initial:o,animate:a}=t;const l=gp(t),c=cA(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const h=u?a:o;return h&&typeof h!="boolean"&&!mp(h)&&(Array.isArray(h)?h:[h]).forEach(p=>{const y=lw(t,p);if(!y)return;const{transitionEnd:v,transition:S,...g}=y;for(const w in g){let x=g[w];if(Array.isArray(x)){const k=u?x.length-1:0;x=x[k]}x!==null&&(i[w]=x)}for(const w in v)i[w]=v[w]}),i}const dt=t=>t;class uE{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function X9(t){let e=new uE,n=new uE,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const h=u&&i,f=h?e:n;return c&&o.add(l),f.add(l)&&h&&i&&(r=e.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const u=e.order[c];u(l),o.has(u)&&(a.schedule(u),t())}i=!1,s&&(s=!1,a.process(l))}};return a}const Td=["prepare","read","update","preRender","render","postRender"],J9=40;function Z9(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=Td.reduce((h,f)=>(h[f]=X9(()=>n=!0),h),{}),o=h=>s[h].process(i),a=()=>{const h=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(h-i.timestamp,J9),1),i.timestamp=h,i.isProcessing=!0,Td.forEach(o),i.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,i.isProcessing||t(a)};return{schedule:Td.reduce((h,f)=>{const p=s[f];return h[f]=(y,v=!1,S=!1)=>(n||l(),p.schedule(y,v,S)),h},{}),cancel:h=>Td.forEach(f=>s[f].cancel(h)),state:i,steps:s}}const{schedule:Be,cancel:yi,state:Xt,steps:bm}=Z9(typeof requestAnimationFrame<"u"?requestAnimationFrame:dt,!0),eU={useVisualState:SA({scrapeMotionValuesFromProps:EA,createRenderState:vA,onMount:(t,e,{renderState:n,latestValues:r})=>{Be.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Be.render(()=>{sw(n,r,{enableHardwareAcceleration:!1},ow(e.tagName),t.transformTemplate),xA(e,n)})}})},tU={useVisualState:SA({scrapeMotionValuesFromProps:aw,createRenderState:iw})};function nU(t,{forwardMotionProps:e=!1},n,r){return{...nw(t)?eU:tU,preloadedFeatures:n,useRender:q9(e),createVisualElement:r,Component:t}}function ti(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const bA=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function vp(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const rU=t=>e=>bA(e)&&t(e,vp(e));function si(t,e,n,r){return ti(t,e,rU(n),r)}const iU=(t,e)=>n=>e(t(n)),ls=(...t)=>t.reduce(iU);function IA(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const dE=IA("dragHorizontal"),hE=IA("dragVertical");function CA(t){let e=!1;if(t==="y")e=hE();else if(t==="x")e=dE();else{const n=dE(),r=hE();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function kA(){const t=CA(!0);return t?(t(),!1):!0}class Is{constructor(e){this.isMounted=!1,this.node=e}update(){}}function fE(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.pointerType==="touch"||kA())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&Be.update(()=>a[r](s,o))};return si(t.current,n,i,{passive:!t.getProps()[r]})}class sU extends Is{mount(){this.unmount=ls(fE(this.node,!0),fE(this.node,!1))}unmount(){}}class oU extends Is{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ls(ti(this.node.current,"focus",()=>this.onFocus()),ti(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const AA=(t,e)=>e?t===e?!0:AA(t,e.parentElement):!1;function Im(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,vp(n))}class aU extends Is{constructor(){super(...arguments),this.removeStartListeners=dt,this.removeEndListeners=dt,this.removeAccessibleListeners=dt,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=si(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:h}=this.node.getProps();Be.update(()=>{!h&&!AA(this.node.current,a.target)?u&&u(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=si(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=ls(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Im("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&Be.update(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=ti(this.node.current,"keyup",o),Im("down",(a,l)=>{this.startPress(a,l)})},n=ti(this.node.current,"keydown",e),r=()=>{this.isPressing&&Im("cancel",(s,o)=>this.cancelPress(s,o))},i=ti(this.node.current,"blur",r);this.removeAccessibleListeners=ls(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Be.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!kA()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Be.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=si(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=ti(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ls(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Ty=new WeakMap,Cm=new WeakMap,lU=t=>{const e=Ty.get(t.target);e&&e(t)},cU=t=>{t.forEach(lU)};function uU({root:t,...e}){const n=t||document;Cm.has(n)||Cm.set(n,{});const r=Cm.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(cU,{root:t,...e})),r[i]}function dU(t,e,n){const r=uU(e);return Ty.set(t,n),r.observe(t),()=>{Ty.delete(t),r.unobserve(t)}}const hU={some:0,all:1};class fU extends Is{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:hU[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),f=c?u:h;f&&f(l)};return dU(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(pU(e,n))&&this.startObserver()}unmount(){}}function pU({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const mU={inView:{Feature:fU},tap:{Feature:aU},focus:{Feature:oU},hover:{Feature:sU}};function PA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function gU(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function yU(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function wp(t,e,n){const r=t.getProps();return lw(r,e,n!==void 0?n:r.custom,gU(t),yU(t))}let af=dt;const Zs=t=>t*1e3,oi=t=>t/1e3,vU={current:!1},RA=t=>Array.isArray(t)&&typeof t[0]=="number";function NA(t){return!!(!t||typeof t=="string"&&DA[t]||RA(t)||Array.isArray(t)&&t.every(NA))}const Bl=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,DA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Bl([0,.65,.55,1]),circOut:Bl([.55,0,1,.45]),backIn:Bl([.31,.01,.66,-.59]),backOut:Bl([.33,1.53,.69,.99])};function MA(t){if(t)return RA(t)?Bl(t):Array.isArray(t)?t.map(MA):DA[t]}function wU(t,e,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=MA(a);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function _U(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const VA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,xU=1e-7,EU=12;function TU(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=VA(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>xU&&++a<EU);return o}function ku(t,e,n,r){if(t===e&&n===r)return dt;const i=s=>TU(s,0,1,t,n);return s=>s===0||s===1?s:VA(i(s),e,r)}const SU=ku(.42,0,1,1),bU=ku(0,0,.58,1),OA=ku(.42,0,.58,1),IU=t=>Array.isArray(t)&&typeof t[0]!="number",LA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,jA=t=>e=>1-t(1-e),cw=t=>1-Math.sin(Math.acos(t)),FA=jA(cw),CU=LA(cw),UA=ku(.33,1.53,.69,.99),uw=jA(UA),kU=LA(uw),AU=t=>(t*=2)<1?.5*uw(t):.5*(2-Math.pow(2,-10*(t-1))),pE={linear:dt,easeIn:SU,easeInOut:OA,easeOut:bU,circIn:cw,circInOut:CU,circOut:FA,backIn:uw,backInOut:kU,backOut:UA,anticipate:AU},mE=t=>{if(Array.isArray(t)){af(t.length===4);const[e,n,r,i]=t;return ku(e,n,r,i)}else if(typeof t=="string")return af(pE[t]!==void 0),pE[t];return t},dw=(t,e)=>n=>!!(Iu(n)&&N9.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),$A=(t,e,n)=>r=>{if(!Iu(r))return r;const[i,s,o,a]=r.match(yp);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},PU=t=>ms(0,255,t),km={...So,transform:t=>Math.round(PU(t))},Ws={test:dw("rgb","red"),parse:$A("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+km.transform(t)+", "+km.transform(e)+", "+km.transform(n)+", "+cc(lc.transform(r))+")"};function RU(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Sy={test:dw("#"),parse:RU,transform:Ws.transform},ta={test:dw("hsl","hue"),parse:$A("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Mr.transform(cc(e))+", "+Mr.transform(cc(n))+", "+cc(lc.transform(r))+")"},an={test:t=>Ws.test(t)||Sy.test(t)||ta.test(t),parse:t=>Ws.test(t)?Ws.parse(t):ta.test(t)?ta.parse(t):Sy.parse(t),transform:t=>Iu(t)?t:t.hasOwnProperty("red")?Ws.transform(t):ta.transform(t)},et=(t,e,n)=>-n*t+n*e+t;function Am(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function NU({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=Am(l,a,t+1/3),s=Am(l,a,t),o=Am(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const Pm=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},DU=[Sy,Ws,ta],MU=t=>DU.find(e=>e.test(t));function gE(t){const e=MU(t);let n=e.parse(t);return e===ta&&(n=NU(n)),n}const BA=(t,e)=>{const n=gE(t),r=gE(e),i={...n};return s=>(i.red=Pm(n.red,r.red,s),i.green=Pm(n.green,r.green,s),i.blue=Pm(n.blue,r.blue,s),i.alpha=et(n.alpha,r.alpha,s),Ws.transform(i))};function VU(t){var e,n;return isNaN(t)&&Iu(t)&&(((e=t.match(yp))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(pA))===null||n===void 0?void 0:n.length)||0)>0}const zA={regex:P9,countKey:"Vars",token:"${v}",parse:dt},HA={regex:pA,countKey:"Colors",token:"${c}",parse:an.parse},WA={regex:yp,countKey:"Numbers",token:"${n}",parse:So.parse};function Rm(t,{regex:e,countKey:n,token:r,parse:i}){const s=t.tokenised.match(e);s&&(t["num"+n]=s.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...s.map(i)))}function lf(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Rm(n,zA),Rm(n,HA),Rm(n,WA),n}function qA(t){return lf(t).values}function KA(t){const{values:e,numColors:n,numVars:r,tokenised:i}=lf(t),s=e.length;return o=>{let a=i;for(let l=0;l<s;l++)l<r?a=a.replace(zA.token,o[l]):l<r+n?a=a.replace(HA.token,an.transform(o[l])):a=a.replace(WA.token,cc(o[l]));return a}}const OU=t=>typeof t=="number"?0:t;function LU(t){const e=qA(t);return KA(t)(e.map(OU))}const gs={test:VU,parse:qA,createTransformer:KA,getAnimatableNone:LU},GA=(t,e)=>n=>`${n>0?e:t}`;function YA(t,e){return typeof t=="number"?n=>et(t,e,n):an.test(t)?BA(t,e):t.startsWith("var(")?GA(t,e):XA(t,e)}const QA=(t,e)=>{const n=[...t],r=n.length,i=t.map((s,o)=>YA(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},jU=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=YA(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},XA=(t,e)=>{const n=gs.createTransformer(e),r=lf(t),i=lf(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?ls(QA(r.values,i.values),n):GA(t,e)},Wc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},yE=(t,e)=>n=>et(t,e,n);function FU(t){return typeof t=="number"?yE:typeof t=="string"?an.test(t)?BA:XA:Array.isArray(t)?QA:typeof t=="object"?jU:yE}function UU(t,e,n){const r=[],i=n||FU(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||dt:e;a=ls(l,a)}r.push(a)}return r}function JA(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(af(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=UU(e,r,i),a=o.length,l=c=>{let u=0;if(a>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const h=Wc(t[u],t[u+1],c);return o[u](h)};return n?c=>l(ms(t[0],t[s-1],c)):l}function $U(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Wc(0,e,r);t.push(et(n,1,i))}}function BU(t){const e=[0];return $U(e,t.length-1),e}function zU(t,e){return t.map(n=>n*e)}function HU(t,e){return t.map(()=>e||OA).splice(0,t.length-1)}function cf({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=IU(r)?r.map(mE):mE(r),s={done:!1,value:e[0]},o=zU(n&&n.length===e.length?n:BU(e),t),a=JA(o,e,{ease:Array.isArray(i)?i:HU(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}function ZA(t,e){return e?t*(1e3/e):0}const WU=5;function eP(t,e,n){const r=Math.max(e-WU,0);return ZA(n-t(r),e-r)}const Nm=.001,qU=.01,KU=10,GU=.05,YU=1;function QU({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s,o=1-e;o=ms(GU,YU,o),t=ms(qU,KU,oi(t)),o<1?(i=c=>{const u=c*o,h=u*t,f=u-n,p=by(c,o),y=Math.exp(-h);return Nm-f/p*y},s=c=>{const h=c*o*t,f=h*n+n,p=Math.pow(o,2)*Math.pow(c,2)*t,y=Math.exp(-h),v=by(Math.pow(c,2),o);return(-i(c)+Nm>0?-1:1)*((f-p)*y)/v}):(i=c=>{const u=Math.exp(-c*t),h=(c-n)*t+1;return-Nm+u*h},s=c=>{const u=Math.exp(-c*t),h=(n-c)*(t*t);return u*h});const a=5/t,l=JU(i,s,a);if(t=Zs(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const XU=12;function JU(t,e,n){let r=n;for(let i=1;i<XU;i++)r=r-t(r)/e(r);return r}function by(t,e){return t*Math.sqrt(1-e*e)}const ZU=["duration","bounce"],e$=["stiffness","damping","mass"];function vE(t,e){return e.some(n=>t[n]!==void 0)}function t$(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!vE(t,e$)&&vE(t,ZU)){const n=QU(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function tP({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:c,duration:u,velocity:h,isResolvedFromDuration:f}=t$({...r,velocity:-oi(r.velocity||0)}),p=h||0,y=l/(2*Math.sqrt(a*c)),v=s-i,S=oi(Math.sqrt(a/c)),g=Math.abs(v)<5;n||(n=g?.01:2),e||(e=g?.005:.5);let w;if(y<1){const x=by(S,y);w=k=>{const O=Math.exp(-y*S*k);return s-O*((p+y*S*v)/x*Math.sin(x*k)+v*Math.cos(x*k))}}else if(y===1)w=x=>s-Math.exp(-S*x)*(v+(p+S*v)*x);else{const x=S*Math.sqrt(y*y-1);w=k=>{const O=Math.exp(-y*S*k),M=Math.min(x*k,300);return s-O*((p+y*S*v)*Math.sinh(M)+x*v*Math.cosh(M))/x}}return{calculatedDuration:f&&u||null,next:x=>{const k=w(x);if(f)o.done=x>=u;else{let O=p;x!==0&&(y<1?O=eP(w,x,k):O=0);const M=Math.abs(O)<=n,I=Math.abs(s-k)<=e;o.done=M&&I}return o.value=o.done?s:k,o}}}function wE({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const h=t[0],f={done:!1,value:h},p=T=>a!==void 0&&T<a||l!==void 0&&T>l,y=T=>a===void 0?l:l===void 0||Math.abs(a-T)<Math.abs(l-T)?a:l;let v=n*e;const S=h+v,g=o===void 0?S:o(S);g!==S&&(v=g-h);const w=T=>-v*Math.exp(-T/r),x=T=>g+w(T),k=T=>{const C=w(T),A=x(T);f.done=Math.abs(C)<=c,f.value=f.done?g:A};let O,M;const I=T=>{p(f.value)&&(O=T,M=tP({keyframes:[f.value,y(f.value)],velocity:eP(x,T,f.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return I(0),{calculatedDuration:null,next:T=>{let C=!1;return!M&&O===void 0&&(C=!0,k(T),I(T)),O!==void 0&&T>O?M.next(T-O):(!C&&k(T),f)}}}const n$=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Be.update(e,!0),stop:()=>yi(e),now:()=>Xt.isProcessing?Xt.timestamp:performance.now()}},_E=2e4;function xE(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<_E;)e+=n,r=t.next(e);return e>=_E?1/0:e}const r$={decay:wE,inertia:wE,tween:cf,keyframes:cf,spring:tP};function uf({autoplay:t=!0,delay:e=0,driver:n=n$,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:u,onUpdate:h,...f}){let p=1,y=!1,v,S;const g=()=>{S=new Promise(F=>{v=F})};g();let w;const x=r$[i]||cf;let k;x!==cf&&typeof r[0]!="number"&&(k=JA([0,100],r,{clamp:!1}),r=[0,100]);const O=x({...f,keyframes:r});let M;a==="mirror"&&(M=x({...f,keyframes:[...r].reverse(),velocity:-(f.velocity||0)}));let I="idle",T=null,C=null,A=null;O.calculatedDuration===null&&s&&(O.calculatedDuration=xE(O));const{calculatedDuration:N}=O;let L=1/0,P=1/0;N!==null&&(L=N+o,P=L*(s+1)-o);let D=0;const H=F=>{if(C===null)return;p>0&&(C=Math.min(C,F)),p<0&&(C=Math.min(F-P/p,C)),T!==null?D=T:D=Math.round(F-C)*p;const B=D-e*(p>=0?1:-1),G=p>=0?B<0:B>P;D=Math.max(B,0),I==="finished"&&T===null&&(D=P);let Y=D,Z=O;if(s){const ue=Math.min(D,P)/L;let te=Math.floor(ue),we=ue%1;!we&&ue>=1&&(we=1),we===1&&te--,te=Math.min(te,s+1),!!(te%2)&&(a==="reverse"?(we=1-we,o&&(we-=o/L)):a==="mirror"&&(Z=M)),Y=ms(0,1,we)*L}const ne=G?{done:!1,value:r[0]}:Z.next(Y);k&&(ne.value=k(ne.value));let{done:ae}=ne;!G&&N!==null&&(ae=p>=0?D>=P:D<=0);const pe=T===null&&(I==="finished"||I==="running"&&ae);return h&&h(ne.value),pe&&$(),ne},U=()=>{w&&w.stop(),w=void 0},q=()=>{I="idle",U(),v(),g(),C=A=null},$=()=>{I="finished",u&&u(),U(),v()},V=()=>{if(y)return;w||(w=n(H));const F=w.now();l&&l(),T!==null?C=F-T:(!C||I==="finished")&&(C=F),I==="finished"&&g(),A=C,T=null,I="running",w.start()};t&&V();const j={then(F,B){return S.then(F,B)},get time(){return oi(D)},set time(F){F=Zs(F),D=F,T!==null||!w||p===0?T=F:C=w.now()-F/p},get duration(){const F=O.calculatedDuration===null?xE(O):O.calculatedDuration;return oi(F)},get speed(){return p},set speed(F){F===p||!w||(p=F,j.time=oi(D))},get state(){return I},play:V,pause:()=>{I="paused",T=D},stop:()=>{y=!0,I!=="idle"&&(I="idle",c&&c(),q())},cancel:()=>{A!==null&&H(A),q()},complete:()=>{I="finished"},sample:F=>(C=0,H(F))};return j}function i$(t){let e;return()=>(e===void 0&&(e=t()),e)}const s$=i$(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),o$=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Sd=10,a$=2e4,l$=(t,e)=>e.type==="spring"||t==="backgroundColor"||!NA(e.ease);function c$(t,e,{onUpdate:n,onComplete:r,...i}){if(!(s$()&&o$.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l,c=!1;const u=()=>{l=new Promise(x=>{a=x})};u();let{keyframes:h,duration:f=300,ease:p,times:y}=i;if(l$(e,i)){const x=uf({...i,repeat:0,delay:0});let k={done:!1,value:h[0]};const O=[];let M=0;for(;!k.done&&M<a$;)k=x.sample(M),O.push(k.value),M+=Sd;y=void 0,h=O,f=M-Sd,p="linear"}const v=wU(t.owner.current,e,h,{...i,duration:f,ease:p,times:y}),S=()=>{c=!1,v.cancel()},g=()=>{c=!0,Be.update(S),a(),u()};return v.onfinish=()=>{c||(t.set(_U(h,i)),r&&r(),g())},{then(x,k){return l.then(x,k)},attachTimeline(x){return v.timeline=x,v.onfinish=null,dt},get time(){return oi(v.currentTime||0)},set time(x){v.currentTime=Zs(x)},get speed(){return v.playbackRate},set speed(x){v.playbackRate=x},get duration(){return oi(f)},play:()=>{o||(v.play(),yi(S))},pause:()=>v.pause(),stop:()=>{if(o=!0,v.playState==="idle")return;const{currentTime:x}=v;if(x){const k=uf({...i,autoplay:!1});t.setWithVelocity(k.sample(x-Sd).value,k.sample(x).value,Sd)}g()},complete:()=>{c||v.finish()},cancel:g}}function u$({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:dt,pause:dt,stop:dt,then:s=>(s(),Promise.resolve()),cancel:dt,complete:dt});return e?uf({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const d$={type:"spring",stiffness:500,damping:25,restSpeed:10},h$=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),f$={type:"keyframes",duration:.8},p$={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},m$=(t,{keyframes:e})=>e.length>2?f$:To.has(t)?t.startsWith("scale")?h$(e[1]):d$:p$,Iy=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(gs.test(e)||e==="0")&&!e.startsWith("url(")),g$=new Set(["brightness","contrast","saturate","opacity"]);function y$(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(yp)||[];if(!r)return t;const i=n.replace(r,"");let s=g$.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const v$=/([a-z-]*)\(.*?\)/g,Cy={...gs,getAnimatableNone:t=>{const e=t.match(v$);return e?e.map(y$).join(" "):t}},w$={...mA,color:an,backgroundColor:an,outlineColor:an,fill:an,stroke:an,borderColor:an,borderTopColor:an,borderRightColor:an,borderBottomColor:an,borderLeftColor:an,filter:Cy,WebkitFilter:Cy},hw=t=>w$[t];function nP(t,e){let n=hw(t);return n!==Cy&&(n=gs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const rP=t=>/^0[^.\s]+$/.test(t);function _$(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||rP(t)}function x$(t,e,n,r){const i=Iy(e,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const l=[];for(let c=0;c<s.length;c++)s[c]===null&&(s[c]=c===0?o:s[c-1]),_$(s[c])&&l.push(c),typeof s[c]=="string"&&s[c]!=="none"&&s[c]!=="0"&&(a=s[c]);if(i&&l.length&&a)for(let c=0;c<l.length;c++){const u=l[c];s[u]=nP(e,a)}return s}function E$({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function fw(t,e){return t[e]||t.default||t}const T$={skipAnimations:!1},pw=(t,e,n,r={})=>i=>{const s=fw(r,t)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Zs(o);const l=x$(e,t,n,s),c=l[0],u=l[l.length-1],h=Iy(t,c),f=Iy(t,u);let p={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:y=>{e.set(y),s.onUpdate&&s.onUpdate(y)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(E$(s)||(p={...p,...m$(t,p)}),p.duration&&(p.duration=Zs(p.duration)),p.repeatDelay&&(p.repeatDelay=Zs(p.repeatDelay)),!h||!f||vU.current||s.type===!1||T$.skipAnimations)return u$(p);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const y=c$(e,t,p);if(y)return y}return uf(p)};function df(t){return!!(Sn(t)&&t.add)}const iP=t=>/^\-?\d*\.?\d+$/.test(t);function mw(t,e){t.indexOf(e)===-1&&t.push(e)}function gw(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class yw{constructor(){this.subscriptions=[]}add(e){return mw(this.subscriptions,e),()=>gw(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const S$=t=>!isNaN(parseFloat(t));class b${constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=Xt;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,Be.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Be.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=S$(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new yw);const r=this.events[e].add(n);return e==="change"?()=>{r(),Be.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?ZA(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Va(t,e){return new b$(t,e)}const sP=t=>e=>e.test(t),I$={test:t=>t==="auto",parse:t=>t},oP=[So,he,Mr,Ai,M9,D9,I$],Sl=t=>oP.find(sP(t)),C$=[...oP,an,gs],k$=t=>C$.find(sP(t));function A$(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Va(n))}function P$(t,e){const n=wp(t,e);let{transitionEnd:r={},transition:i={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const a=G9(s[o]);A$(t,o,a)}}function R$(t,e,n){var r,i;const s=Object.keys(e).filter(a=>!t.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],c=e[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),u!=null&&(typeof u=="string"&&(iP(u)||rP(u))?u=parseFloat(u):!k$(u)&&gs.test(c)&&(u=nP(l,c)),t.addValue(l,Va(u,{owner:t})),n[l]===void 0&&(n[l]=u),u!==null&&t.setBaseTarget(l,u))}}function N$(t,e){return e?(e[t]||e.default||e).from:void 0}function D$(t,e,n){const r={};for(const i in t){const s=N$(i,e);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function M$({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function V$(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function aP(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(s=r);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const h in a){const f=t.getValue(h),p=a[h];if(!f||p===void 0||u&&M$(u,h))continue;const y={delay:n,elapsed:0,...fw(s||{},h)};if(window.HandoffAppearAnimations){const g=t.getProps()[lA];if(g){const w=window.HandoffAppearAnimations(g,h,f,Be);w!==null&&(y.elapsed=w,y.isHandoff=!0)}}let v=!y.isHandoff&&!V$(f,p);if(y.type==="spring"&&(f.getVelocity()||y.velocity)&&(v=!1),f.animation&&(v=!1),v)continue;f.start(pw(h,f,p,t.shouldReduceMotion&&To.has(h)?{type:!1}:y));const S=f.animation;df(l)&&(l.add(h),S.then(()=>l.remove(h))),c.push(S)}return o&&Promise.all(c).then(()=>{o&&P$(t,o)}),c}function ky(t,e,n={}){const r=wp(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(aP(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:h}=i;return O$(t,e,c+l,u,h,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,c]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>c())}else return Promise.all([s(),o(n.delay)])}function O$(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(L$).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(ky(c,e,{...s,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function L$(t,e){return t.sortNodePosition(e)}function j$(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>ky(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=ky(t,e,n);else{const i=typeof e=="function"?wp(t,e,n.custom):e;r=Promise.all(aP(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const F$=[...Zv].reverse(),U$=Zv.length;function $$(t){return e=>Promise.all(e.map(({animation:n,options:r})=>j$(t,n,r)))}function B$(t){let e=$$(t);const n=H$();let r=!0;const i=(l,c)=>{const u=wp(t,c);if(u){const{transition:h,transitionEnd:f,...p}=u;l={...l,...p,...f}}return l};function s(l){e=l(t)}function o(l,c){const u=t.getProps(),h=t.getVariantContext(!0)||{},f=[],p=new Set;let y={},v=1/0;for(let g=0;g<U$;g++){const w=F$[g],x=n[w],k=u[w]!==void 0?u[w]:h[w],O=zc(k),M=w===c?x.isActive:null;M===!1&&(v=g);let I=k===h[w]&&k!==u[w]&&O;if(I&&r&&t.manuallyAnimateOnMount&&(I=!1),x.protectedKeys={...y},!x.isActive&&M===null||!k&&!x.prevProp||mp(k)||typeof k=="boolean")continue;let C=z$(x.prevProp,k)||w===c&&x.isActive&&!I&&O||g>v&&O,A=!1;const N=Array.isArray(k)?k:[k];let L=N.reduce(i,{});M===!1&&(L={});const{prevResolvedValues:P={}}=x,D={...P,...L},H=U=>{C=!0,p.has(U)&&(A=!0,p.delete(U)),x.needsAnimating[U]=!0};for(const U in D){const q=L[U],$=P[U];if(y.hasOwnProperty(U))continue;let V=!1;of(q)&&of($)?V=!PA(q,$):V=q!==$,V?q!==void 0?H(U):p.add(U):q!==void 0&&p.has(U)?H(U):x.protectedKeys[U]=!0}x.prevProp=k,x.prevResolvedValues=L,x.isActive&&(y={...y,...L}),r&&t.blockInitialAnimation&&(C=!1),C&&(!I||A)&&f.push(...N.map(U=>({animation:U,options:{type:w,...l}})))}if(p.size){const g={};p.forEach(w=>{const x=t.getBaseTarget(w);x!==void 0&&(g[w]=x)}),f.push({animation:g})}let S=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(f):Promise.resolve()}function a(l,c,u){var h;if(n[l].isActive===c)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(p=>{var y;return(y=p.animationState)===null||y===void 0?void 0:y.setActive(l,c)}),n[l].isActive=c;const f=o(u,l);for(const p in n)n[p].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function z$(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!PA(e,t):!1}function Rs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function H$(){return{animate:Rs(!0),whileInView:Rs(),whileHover:Rs(),whileTap:Rs(),whileDrag:Rs(),whileFocus:Rs(),exit:Rs()}}class W$ extends Is{constructor(e){super(e),e.animationState||(e.animationState=B$(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),mp(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let q$=0;class K$ extends Is{constructor(){super(...arguments),this.id=q$++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const G$={animation:{Feature:W$},exit:{Feature:K$}},EE=(t,e)=>Math.abs(t-e);function Y$(t,e){const n=EE(t.x,e.x),r=EE(t.y,e.y);return Math.sqrt(n**2+r**2)}class lP{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Mm(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=Y$(h.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:y}=h,{timestamp:v}=Xt;this.history.push({...y,timestamp:v});const{onStart:S,onMove:g}=this.handlers;f||(S&&S(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Dm(f,this.transformPagePoint),Be.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:p,onSessionEnd:y,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Mm(h.type==="pointercancel"?this.lastMoveEventInfo:Dm(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,S),y&&y(h,S)},!bA(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=vp(e),a=Dm(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Xt;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,Mm(a,this.history)),this.removeListeners=ls(si(this.contextWindow,"pointermove",this.handlePointerMove),si(this.contextWindow,"pointerup",this.handlePointerUp),si(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),yi(this.updatePoint)}}function Dm(t,e){return e?{point:e(t.point)}:t}function TE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Mm({point:t},e){return{point:t,delta:TE(t,cP(e)),offset:TE(t,Q$(e)),velocity:X$(e,.1)}}function Q$(t){return t[0]}function cP(t){return t[t.length-1]}function X$(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=cP(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Zs(e)));)n--;if(!r)return{x:0,y:0};const s=oi(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Ln(t){return t.max-t.min}function Ay(t,e=0,n=.01){return Math.abs(t-e)<=n}function SE(t,e,n,r=.5){t.origin=r,t.originPoint=et(e.min,e.max,t.origin),t.scale=Ln(n)/Ln(e),(Ay(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=et(n.min,n.max,t.origin)-t.originPoint,(Ay(t.translate)||isNaN(t.translate))&&(t.translate=0)}function uc(t,e,n,r){SE(t.x,e.x,n.x,r?r.originX:void 0),SE(t.y,e.y,n.y,r?r.originY:void 0)}function bE(t,e,n){t.min=n.min+e.min,t.max=t.min+Ln(e)}function J$(t,e,n){bE(t.x,e.x,n.x),bE(t.y,e.y,n.y)}function IE(t,e,n){t.min=e.min-n.min,t.max=t.min+Ln(e)}function dc(t,e,n){IE(t.x,e.x,n.x),IE(t.y,e.y,n.y)}function Z$(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?et(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?et(n,t,r.max):Math.min(t,n)),t}function CE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function e6(t,{top:e,left:n,bottom:r,right:i}){return{x:CE(t.x,n,i),y:CE(t.y,e,r)}}function kE(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function t6(t,e){return{x:kE(t.x,e.x),y:kE(t.y,e.y)}}function n6(t,e){let n=.5;const r=Ln(t),i=Ln(e);return i>r?n=Wc(e.min,e.max-r,t.min):r>i&&(n=Wc(t.min,t.max-i,e.min)),ms(0,1,n)}function r6(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Py=.35;function i6(t=Py){return t===!1?t=0:t===!0&&(t=Py),{x:AE(t,"left","right"),y:AE(t,"top","bottom")}}function AE(t,e,n){return{min:PE(t,e),max:PE(t,n)}}function PE(t,e){return typeof t=="number"?t:t[e]||0}const RE=()=>({translate:0,scale:1,origin:0,originPoint:0}),na=()=>({x:RE(),y:RE()}),NE=()=>({min:0,max:0}),mt=()=>({x:NE(),y:NE()});function Wn(t){return[t("x"),t("y")]}function uP({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function s6({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function o6(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Vm(t){return t===void 0||t===1}function Ry({scale:t,scaleX:e,scaleY:n}){return!Vm(t)||!Vm(e)||!Vm(n)}function Vs(t){return Ry(t)||dP(t)||t.z||t.rotate||t.rotateX||t.rotateY}function dP(t){return DE(t.x)||DE(t.y)}function DE(t){return t&&t!=="0%"}function hf(t,e,n){const r=t-n,i=e*r;return n+i}function ME(t,e,n,r,i){return i!==void 0&&(t=hf(t,i,r)),hf(t,n,r)+e}function Ny(t,e=0,n=1,r,i){t.min=ME(t.min,e,n,r,i),t.max=ME(t.max,e,n,r,i)}function hP(t,{x:e,y:n}){Ny(t.x,e.translate,e.scale,e.originPoint),Ny(t.y,n.translate,n.scale,n.originPoint)}function a6(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&ra(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,hP(t,o)),r&&Vs(s.latestValues)&&ra(t,s.latestValues))}e.x=VE(e.x),e.y=VE(e.y)}function VE(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Ni(t,e){t.min=t.min+e,t.max=t.max+e}function OE(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,o=et(t.min,t.max,s);Ny(t,e[n],e[r],o,e.scale)}const l6=["x","scaleX","originX"],c6=["y","scaleY","originY"];function ra(t,e){OE(t.x,e,l6),OE(t.y,e,c6)}function fP(t,e){return uP(o6(t.getBoundingClientRect(),e))}function u6(t,e,n){const r=fP(t,n),{scroll:i}=e;return i&&(Ni(r.x,i.offset.x),Ni(r.y,i.offset.y)),r}const pP=({current:t})=>t?t.ownerDocument.defaultView:null,d6=new WeakMap;class h6{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=mt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(vp(u,"page").point)},s=(u,h)=>{const{drag:f,dragPropagation:p,onDragStart:y}=this.getProps();if(f&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=CA(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Wn(S=>{let g=this.getAxisMotionValue(S).get()||0;if(Mr.test(g)){const{projection:w}=this.visualElement;if(w&&w.layout){const x=w.layout.layoutBox[S];x&&(g=Ln(x)*(parseFloat(g)/100))}}this.originPoint[S]=g}),y&&Be.update(()=>y(u,h),!1,!0);const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(u,h)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:y,onDrag:v}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:S}=h;if(p&&this.currentDirection===null){this.currentDirection=f6(S),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,S),this.updateAxis("y",h.point,S),this.visualElement.render(),v&&v(u,h)},a=(u,h)=>this.stop(u,h),l=()=>Wn(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new lP(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:pP(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Be.update(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!bd(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=Z$(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&ea(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=e6(i.layoutBox,n):this.constraints=!1,this.elastic=i6(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Wn(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=r6(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ea(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=u6(r,i.root,this.visualElement.getTransformPagePoint());let o=t6(i.layout.layoutBox,s);if(n){const a=n(s6(o));this.hasMutatedConstraints=!!a,a&&(o=uP(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Wn(u=>{if(!bd(u,n,this.currentDirection))return;let h=l&&l[u]||{};o&&(h={min:0,max:0});const f=i?200:1e6,p=i?40:1e7,y={type:"inertia",velocity:r?e[u]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(u,y)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(pw(e,r,0,n))}stopAnimation(){Wn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Wn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Wn(n=>{const{drag:r}=this.getProps();if(!bd(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-et(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ea(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Wn(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=n6({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Wn(o=>{if(!bd(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(et(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;d6.set(this.visualElement,this);const e=this.visualElement.current,n=si(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();ea(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=ti(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Wn(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=l[u].translate,h.set(h.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Py,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function bd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function f6(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class p6 extends Is{constructor(e){super(e),this.removeGroupControls=dt,this.removeListeners=dt,this.controls=new h6(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||dt}unmount(){this.removeGroupControls(),this.removeListeners()}}const LE=t=>(e,n)=>{t&&Be.update(()=>t(e,n))};class m6 extends Is{constructor(){super(...arguments),this.removePointerDownListener=dt}onPointerDown(e){this.session=new lP(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:pP(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:LE(e),onStart:LE(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Be.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=si(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function g6(){const t=_.useContext(fp);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=_.useId();return _.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const oh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function jE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const bl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(he.test(t))t=parseFloat(t);else return t;const n=jE(t,e.target.x),r=jE(t,e.target.y);return`${n}% ${r}%`}},y6={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=gs.parse(t);if(i.length>5)return r;const s=gs.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=et(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class v6 extends W.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;I9(w6),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),oh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Be.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function mP(t){const[e,n]=g6(),r=_.useContext(tw);return W.createElement(v6,{...t,layoutGroup:r,switchLayoutGroup:_.useContext(uA),isPresent:e,safeToRemove:n})}const w6={borderRadius:{...bl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:bl,borderTopRightRadius:bl,borderBottomLeftRadius:bl,borderBottomRightRadius:bl,boxShadow:y6},gP=["TopLeft","TopRight","BottomLeft","BottomRight"],_6=gP.length,FE=t=>typeof t=="string"?parseFloat(t):t,UE=t=>typeof t=="number"||he.test(t);function x6(t,e,n,r,i,s){i?(t.opacity=et(0,n.opacity!==void 0?n.opacity:1,E6(r)),t.opacityExit=et(e.opacity!==void 0?e.opacity:1,0,T6(r))):s&&(t.opacity=et(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<_6;o++){const a=`border${gP[o]}Radius`;let l=$E(e,a),c=$E(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||UE(l)===UE(c)?(t[a]=Math.max(et(FE(l),FE(c),r),0),(Mr.test(c)||Mr.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=et(e.rotate||0,n.rotate||0,r))}function $E(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const E6=yP(0,.5,FA),T6=yP(.5,.95,dt);function yP(t,e,n){return r=>r<t?0:r>e?1:n(Wc(t,e,r))}function BE(t,e){t.min=e.min,t.max=e.max}function Hn(t,e){BE(t.x,e.x),BE(t.y,e.y)}function zE(t,e,n,r,i){return t-=e,t=hf(t,1/n,r),i!==void 0&&(t=hf(t,1/i,r)),t}function S6(t,e=0,n=1,r=.5,i,s=t,o=t){if(Mr.test(e)&&(e=parseFloat(e),e=et(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=et(s.min,s.max,r);t===s&&(a-=e),t.min=zE(t.min,e,n,a,i),t.max=zE(t.max,e,n,a,i)}function HE(t,e,[n,r,i],s,o){S6(t,e[n],e[r],e[i],e.scale,s,o)}const b6=["x","scaleX","originX"],I6=["y","scaleY","originY"];function WE(t,e,n,r){HE(t.x,e,b6,n?n.x:void 0,r?r.x:void 0),HE(t.y,e,I6,n?n.y:void 0,r?r.y:void 0)}function qE(t){return t.translate===0&&t.scale===1}function vP(t){return qE(t.x)&&qE(t.y)}function C6(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function wP(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function KE(t){return Ln(t.x)/Ln(t.y)}class k6{constructor(){this.members=[]}add(e){mw(this.members,e),e.scheduleRender()}remove(e){if(gw(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function GE(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:u}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),u&&(r+=`rotateY(${u}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const A6=(t,e)=>t.depth-e.depth;class P6{constructor(){this.children=[],this.isDirty=!1}add(e){mw(this.children,e),this.isDirty=!0}remove(e){gw(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(A6),this.isDirty=!1,this.children.forEach(e)}}function R6(t,e){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(yi(r),t(s-e))};return Be.read(r,!0),()=>yi(r)}function N6(t){window.MotionDebug&&window.MotionDebug.record(t)}function D6(t){return t instanceof SVGElement&&t.tagName!=="svg"}function M6(t,e,n){const r=Sn(t)?t:Va(t);return r.start(pw("",r,e,n)),r.animation}const YE=["","X","Y","Z"],V6={visibility:"hidden"},QE=1e3;let O6=0;const Os={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function _P({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=O6++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Os.totalNodes=Os.resolvedTargetDeltas=Os.recalculatedProjection=0,this.nodes.forEach(F6),this.nodes.forEach(H6),this.nodes.forEach(W6),this.nodes.forEach(U6),N6(Os)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new P6)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new yw),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=D6(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=R6(f,250),oh.hasAnimatedSinceResize&&(oh.hasAnimatedSinceResize=!1,this.nodes.forEach(JE))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||Q6,{onLayoutAnimationStart:S,onLayoutAnimationComplete:g}=u.getProps(),w=!this.targetLayout||!wP(this.targetLayout,y)||p,x=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||f&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,x);const k={...fw(v,"layout"),onPlay:S,onComplete:g};(u.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k)}else f||JE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,yi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(q6),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(XE);return}this.isUpdating||this.nodes.forEach(B6),this.isUpdating=!1,this.nodes.forEach(z6),this.nodes.forEach(L6),this.nodes.forEach(j6),this.clearAllSnapshots();const a=performance.now();Xt.delta=ms(0,1e3/60,a-Xt.timestamp),Xt.timestamp=a,Xt.isProcessing=!0,bm.update.process(Xt),bm.preRender.process(Xt),bm.render.process(Xt),Xt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach($6),this.sharedNodes.forEach(K6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Be.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Be.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=mt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!vP(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||Vs(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),X6(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return mt();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Ni(a.x,l.offset.x),Ni(a.y,l.offset.y)),a}removeElementScroll(o){const a=mt();Hn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:h}=c;if(c!==this.root&&u&&h.layoutScroll){if(u.isRoot){Hn(a,o);const{scroll:f}=this.root;f&&(Ni(a.x,-f.offset.x),Ni(a.y,-f.offset.y))}Ni(a.x,u.offset.x),Ni(a.y,u.offset.y)}}return a}applyTransform(o,a=!1){const l=mt();Hn(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&ra(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Vs(u.latestValues)&&ra(l,u.latestValues)}return Vs(this.latestValues)&&ra(l,this.latestValues),l}removeTransform(o){const a=mt();Hn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Vs(c.latestValues))continue;Ry(c.latestValues)&&c.updateSnapshot();const u=mt(),h=c.measurePageBox();Hn(u,h),WE(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Vs(this.latestValues)&&WE(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Xt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Xt.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mt(),this.relativeTargetOrigin=mt(),dc(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Hn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=mt(),this.targetWithTransforms=mt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),J$(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Hn(this.target,this.layout.layoutBox),hP(this.target,this.targetDelta)):Hn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mt(),this.relativeTargetOrigin=mt(),dc(this.relativeTargetOrigin,this.target,p.target),Hn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Os.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Ry(this.parent.latestValues)||dP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Xt.timestamp&&(c=!1),c)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;Hn(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;a6(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:y}=a;if(!y){this.projectionTransform&&(this.projectionDelta=na(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=na(),this.projectionDeltaWithTransform=na());const v=this.projectionTransform;uc(this.projectionDelta,this.layoutCorrected,y,this.latestValues),this.projectionTransform=GE(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==f||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),Os.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},h=na();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=mt(),p=l?l.source:void 0,y=this.layout?this.layout.source:void 0,v=p!==y,S=this.getStack(),g=!S||S.members.length<=1,w=!!(v&&!g&&this.options.crossfade===!0&&!this.path.some(Y6));this.animationProgress=0;let x;this.mixTargetDelta=k=>{const O=k/1e3;ZE(h.x,o.x,O),ZE(h.y,o.y,O),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(dc(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),G6(this.relativeTarget,this.relativeTargetOrigin,f,O),x&&C6(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=mt()),Hn(x,this.relativeTarget)),v&&(this.animationValues=u,x6(u,c,this.latestValues,O,w,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(yi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Be.update(()=>{oh.hasAnimatedSinceResize=!0,this.currentAnimation=M6(0,QE,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(QE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&xP(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||mt();const h=Ln(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=Ln(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}Hn(a,l),ra(a,u),uc(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new k6),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let u=0;u<YE.length;u++){const h="rotate"+YE[u];l[h]&&(c[h]=l[h],o.setStaticValue(h,0))}o.render();for(const u in c)o.setStaticValue(u,c[u]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return V6;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=sh(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=sh(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Vs(this.latestValues)&&(v.transform=u?u({},""):"none",this.hasProjected=!1),v}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=GE(this.projectionDeltaWithTransform,this.treeScale,f),u&&(c.transform=u(f,c.transform));const{x:p,y}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${y.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const v in rf){if(f[v]===void 0)continue;const{correct:S,applyTo:g}=rf[v],w=c.transform==="none"?f[v]:S(f[v],h);if(g){const x=g.length;for(let k=0;k<x;k++)c[g[k]]=w}else c[v]=w}return this.options.layoutId&&(c.pointerEvents=h===this?sh(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(XE),this.root.sharedNodes.clear()}}}function L6(t){t.updateLayout()}function j6(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?Wn(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],p=Ln(f);f.min=r[h].min,f.max=f.min+p}):xP(s,n.layoutBox,r)&&Wn(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],p=Ln(r[h]);f.max=f.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+p)});const a=na();uc(a,r,n.layoutBox);const l=na();o?uc(l,t.applyTransform(i,!0),n.measuredBox):uc(l,r,n.layoutBox);const c=!vP(a);let u=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const y=mt();dc(y,n.layoutBox,f.layoutBox);const v=mt();dc(v,r,p.layoutBox),wP(y,v)||(u=!0),h.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=y,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function F6(t){Os.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function U6(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function $6(t){t.clearSnapshot()}function XE(t){t.clearMeasurements()}function B6(t){t.isLayoutDirty=!1}function z6(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function JE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function H6(t){t.resolveTargetDelta()}function W6(t){t.calcProjection()}function q6(t){t.resetRotation()}function K6(t){t.removeLeadSnapshot()}function ZE(t,e,n){t.translate=et(e.translate,0,n),t.scale=et(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function eT(t,e,n,r){t.min=et(e.min,n.min,r),t.max=et(e.max,n.max,r)}function G6(t,e,n,r){eT(t.x,e.x,n.x,r),eT(t.y,e.y,n.y,r)}function Y6(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Q6={duration:.45,ease:[.4,0,.1,1]},tT=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),nT=tT("applewebkit/")&&!tT("chrome/")?Math.round:dt;function rT(t){t.min=nT(t.min),t.max=nT(t.max)}function X6(t){rT(t.x),rT(t.y)}function xP(t,e,n){return t==="position"||t==="preserve-aspect"&&!Ay(KE(e),KE(n),.2)}const J6=_P({attachResizeListener:(t,e)=>ti(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Om={current:void 0},EP=_P({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Om.current){const t=new J6({});t.mount(window),t.setOptions({layoutScroll:!0}),Om.current=t}return Om.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Z6={pan:{Feature:m6},drag:{Feature:p6,ProjectionNode:EP,MeasureLayout:mP}},eB=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function tB(t){const e=eB.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function Dy(t,e,n=1){const[r,i]=tB(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return iP(o)?parseFloat(o):o}else return Ey(i)?Dy(i,e,n+1):i}function nB(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const s=i.get();if(!Ey(s))return;const o=Dy(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!Ey(s))continue;const o=Dy(s,r);o&&(e[i]=o,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:e,transitionEnd:n}}const rB=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),TP=t=>rB.has(t),iB=t=>Object.keys(t).some(TP),iT=t=>t===So||t===he,sT=(t,e)=>parseFloat(t.split(", ")[e]),oT=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return sT(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?sT(s[1],t):0}},sB=new Set(["x","y","z"]),oB=bu.filter(t=>!sB.has(t));function aB(t){const e=[];return oB.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Oa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:oT(4,13),y:oT(5,14)};Oa.translateX=Oa.x;Oa.translateY=Oa.y;const lB=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{a[c]=Oa[c](r,s)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const u=e.getValue(c);u&&u.jump(a[c]),t[c]=Oa[c](l,s)}),t},cB=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(TP);let s=[],o=!1;const a=[];if(i.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let u=n[l],h=Sl(u);const f=e[l];let p;if(of(f)){const y=f.length,v=f[0]===null?1:0;u=f[v],h=Sl(u);for(let S=v;S<y&&f[S]!==null;S++)p?af(Sl(f[S])===p):p=Sl(f[S])}else p=Sl(f);if(h!==p)if(iT(h)&&iT(p)){const y=c.get();typeof y=="string"&&c.set(parseFloat(y)),typeof f=="string"?e[l]=parseFloat(f):Array.isArray(f)&&p===he&&(e[l]=f.map(parseFloat))}else h!=null&&h.transform&&(p!=null&&p.transform)&&(u===0||f===0)?u===0?c.set(p.transform(u)):e[l]=h.transform(f):(o||(s=aB(t),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(f))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=lB(e,t,a);return s.length&&s.forEach(([u,h])=>{t.getValue(u).set(h)}),t.render(),pp&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function uB(t,e,n,r){return iB(e)?cB(t,e,n,r):{target:e,transitionEnd:r}}const dB=(t,e,n,r)=>{const i=nB(t,e,r);return e=i.target,r=i.transitionEnd,uB(t,e,n,r)},My={current:null},SP={current:!1};function hB(){if(SP.current=!0,!!pp)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>My.current=t.matches;t.addListener(e),e()}else My.current=!1}function fB(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],o=n[i];if(Sn(s))t.addValue(i,s),df(r)&&r.add(i);else if(Sn(o))t.addValue(i,Va(s,{owner:t})),df(r)&&r.remove(i);else if(o!==s)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,Va(a!==void 0?a:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const aT=new WeakMap,bP=Object.keys(Hc),pB=bP.length,lT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],mB=ew.length;class gB{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Be.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=gp(n),this.isVariantNode=cA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(n,{});for(const h in u){const f=u[h];a[h]!==void 0&&Sn(f)&&(f.set(a[h],!1),df(c)&&c.add(h))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,aT.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),SP.current||hB(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:My.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){aT.delete(this.current),this.projection&&this.projection.unmount(),yi(this.notifyUpdate),yi(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=To.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Be.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s){let o,a;for(let l=0;l<pB;l++){const c=bP[l],{isEnabled:u,Feature:h,ProjectionNode:f,MeasureLayout:p}=Hc[c];f&&(o=f),u(n)&&(!this.features[c]&&h&&(this.features[c]=new h(this)),p&&(a=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:u,dragConstraints:h,layoutScroll:f,layoutRoot:p}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!u||h&&ea(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,layoutScroll:f,layoutRoot:p})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):mt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<lT.length;r++){const i=lT[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=fB(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<mB;r++){const i=ew[r],s=this.props[i];(zc(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Va(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=lw(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Sn(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new yw),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class IP extends gB{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},s){let o=D$(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){R$(this,r,o);const a=dB(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function yB(t){return window.getComputedStyle(t)}class vB extends IP{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(To.has(n)){const r=hw(n);return r&&r.default||0}else{const r=yB(e),i=(fA(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return fP(e,n)}build(e,n,r,i){rw(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return aw(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Sn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){wA(e,n,r,i)}}class wB extends IP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(To.has(n)){const r=hw(n);return r&&r.default||0}return n=_A.has(n)?n:Jv(n),e.getAttribute(n)}measureInstanceViewportBox(){return mt()}scrapeMotionValuesFromProps(e,n){return EA(e,n)}build(e,n,r,i){sw(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){xA(e,n,r,i)}mount(e){this.isSVGTag=ow(e.tagName),super.mount(e)}}const _B=(t,e)=>nw(t)?new wB(e,{enableHardwareAcceleration:!1}):new vB(e,{enableHardwareAcceleration:!0}),xB={layout:{ProjectionNode:EP,MeasureLayout:mP}},EB={...G$,...mU,...Z6,...xB},re=S9((t,e)=>nU(t,e,EB,_B));function CP(){const t=_.useRef(!1);return Xv(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function TB(){const t=CP(),[e,n]=_.useState(0),r=_.useCallback(()=>{t.current&&n(e+1)},[e]);return[_.useCallback(()=>Be.postRender(r),[r]),e]}class SB extends _.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function bB({children:t,isPresent:e}){const n=_.useId(),r=_.useRef(null),i=_.useRef({width:0,height:0,top:0,left:0});return _.useInsertionEffect(()=>{const{width:s,height:o,top:a,left:l}=i.current;if(e||!r.current||!s||!o)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),_.createElement(SB,{isPresent:e,childRef:r,sizeRef:i},_.cloneElement(t,{ref:r}))}const Lm=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=TA(IB),l=_.useId(),c=_.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:u=>{a.set(u,!0);for(const h of a.values())if(!h)return;r&&r()},register:u=>(a.set(u,!1),()=>a.delete(u))}),s?void 0:[n]);return _.useMemo(()=>{a.forEach((u,h)=>a.set(h,!1))},[n]),_.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=_.createElement(bB,{isPresent:n},t)),_.createElement(fp.Provider,{value:c},t)};function IB(){return new Map}function CB(t){return _.useEffect(()=>()=>t(),[])}const Ls=t=>t.key||"";function kB(t,e){t.forEach(n=>{const r=Ls(n);e.set(r,n)})}function AB(t){const e=[];return _.Children.forEach(t,n=>{_.isValidElement(n)&&e.push(n)}),e}const vi=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=_.useContext(tw).forceRender||TB()[0],l=CP(),c=AB(t);let u=c;const h=_.useRef(new Map).current,f=_.useRef(u),p=_.useRef(new Map).current,y=_.useRef(!0);if(Xv(()=>{y.current=!1,kB(c,p),f.current=u}),CB(()=>{y.current=!0,p.clear(),h.clear()}),y.current)return _.createElement(_.Fragment,null,u.map(w=>_.createElement(Lm,{key:Ls(w),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:o},w)));u=[...u];const v=f.current.map(Ls),S=c.map(Ls),g=v.length;for(let w=0;w<g;w++){const x=v[w];S.indexOf(x)===-1&&!h.has(x)&&h.set(x,void 0)}return o==="wait"&&h.size&&(u=[]),h.forEach((w,x)=>{if(S.indexOf(x)!==-1)return;const k=p.get(x);if(!k)return;const O=v.indexOf(x);let M=w;if(!M){const I=()=>{h.delete(x);const T=Array.from(p.keys()).filter(C=>!S.includes(C));if(T.forEach(C=>p.delete(C)),f.current=c.filter(C=>{const A=Ls(C);return A===x||T.includes(A)}),!h.size){if(l.current===!1)return;a(),r&&r()}};M=_.createElement(Lm,{key:Ls(k),isPresent:!1,onExitComplete:I,custom:e,presenceAffectsLayout:s,mode:o},k),h.set(x,M)}u.splice(O,0,M)}),u=u.map(w=>{const x=w.key;return h.has(x)?w:_.createElement(Lm,{key:Ls(w),isPresent:!0,presenceAffectsLayout:s,mode:o},w)}),_.createElement(_.Fragment,null,h.size?u:u.map(w=>_.cloneElement(w)))};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var PB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RB=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ve=(t,e)=>{const n=_.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,...c},u)=>_.createElement("svg",{ref:u,...PB,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${RB(t)}`,a].join(" "),...c},[...e.map(([h,f])=>_.createElement(h,f)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=ve("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=ve("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NB=ve("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DB=ve("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vw=ve("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=ve("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=ve("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=ve("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=ve("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=ve("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=ve("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=ve("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ww=ve("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FB=ve("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=ve("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oy=ve("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AP=ve("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _w=ve("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UB=ve("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $B=ve("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=ve("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=ve("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=ve("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=ve("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HB=ve("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=ve("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WB=ve("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=ve("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KB=ve("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=ve("MousePointer",[["path",{d:"m3 3 7.07 16.97 2.51-7.39 7.39-2.51L3 3z",key:"y2ucgo"}],["path",{d:"m13 13 6 6",key:"1nhxnf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=ve("Move",[["polyline",{points:"5 9 2 12 5 15",key:"1r5uj5"}],["polyline",{points:"9 5 12 2 15 5",key:"5v383o"}],["polyline",{points:"15 19 12 22 9 19",key:"g7qi8m"}],["polyline",{points:"19 9 22 12 19 15",key:"tpp73q"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QB=ve("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=ve("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pf=ve("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=ve("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=ve("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=ve("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ez=ve("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=ve("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xw=ve("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tz=ve("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=ve("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=ve("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),rz=()=>{const[t,e]=_.useState(""),[n,r]=_.useState(""),[i,s]=_.useState(!1),[o,a]=_.useState(!1),[l,c]=_.useState({}),{login:u}=Eo(),h=Wf(),f=()=>{const y={};return t?/\S+@\S+\.\S+/.test(t)||(y.email="Please enter a valid email address"):y.email="Email is required",n?n.length<6&&(y.password="Password must be at least 6 characters"):y.password="Password is required",c(y),Object.keys(y).length===0},p=async y=>{if(y.preventDefault(),c({}),!!f()){a(!0);try{await u(t,n),cn.success("Welcome back!",{style:{background:"#121212",color:"#FAFAFA",border:"1px solid #333"}}),h("/dashboard")}catch(v){let S="Failed to sign in";v.code==="auth/user-not-found"?S="No account found with this email address":v.code==="auth/wrong-password"?S="Incorrect password":v.code==="auth/invalid-email"?S="Invalid email address":v.code==="auth/too-many-requests"&&(S="Too many failed attempts. Please try again later"),c({general:S}),cn.error(S,{style:{background:"#121212",color:"#FAFAFA",border:"1px solid #ef4444"}})}finally{a(!1)}}};return b.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 py-8",style:{backgroundColor:"#FAFAFA"},children:b.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"w-full max-w-md",children:[b.jsxs(re.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:.1},className:"text-center mb-12",children:[b.jsx("div",{className:"flex justify-center mb-6",children:b.jsx("img",{src:"./FLLB.png",alt:"Planit Logo",className:"h-24 w-auto object-contain"})}),b.jsx("h1",{className:"text-3xl font-light tracking-wide",style:{color:"#121212"},children:"Welcome back"}),b.jsx("p",{className:"text-sm mt-2 opacity-70",style:{color:"#121212"},children:"Sign in to continue to your workspace"})]}),b.jsxs(re.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2},className:"backdrop-blur-sm border border-gray-200/50 rounded-3xl p-8 shadow-2xl",style:{backgroundColor:"rgba(255, 255, 255, 0.8)"},children:[l.general&&b.jsxs(re.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 rounded-2xl border border-red-200 bg-red-50/80 flex items-center space-x-3",children:[b.jsx(qs,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),b.jsx("p",{className:"text-sm text-red-700",children:l.general})]}),b.jsxs("form",{onSubmit:p,className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium mb-3",style:{color:"#121212"},children:"Email Address"}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:b.jsx(PP,{className:"h-5 w-5 opacity-40",style:{color:"#121212"}})}),b.jsx("input",{type:"email",value:t,onChange:y=>{e(y.target.value),l.email&&c({...l,email:void 0})},className:`w-full pl-12 pr-4 py-4 rounded-2xl border-2 transition-all duration-200 text-sm placeholder-gray-400 focus:outline-none ${l.email?"border-red-300 bg-red-50/50 focus:border-red-400":"border-gray-200 bg-white/60 focus:border-gray-400 hover:border-gray-300"}`,style:{color:"#121212"},placeholder:"Enter your email",autoComplete:"email"})]}),l.email&&b.jsxs(re.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"mt-2 text-sm text-red-600 flex items-center space-x-1",children:[b.jsx(qs,{className:"w-4 h-4"}),b.jsx("span",{children:l.email})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium mb-3",style:{color:"#121212"},children:"Password"}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:b.jsx(Ly,{className:"h-5 w-5 opacity-40",style:{color:"#121212"}})}),b.jsx("input",{type:i?"text":"password",value:n,onChange:y=>{r(y.target.value),l.password&&c({...l,password:void 0})},className:`w-full pl-12 pr-12 py-4 rounded-2xl border-2 transition-all duration-200 text-sm placeholder-gray-400 focus:outline-none ${l.password?"border-red-300 bg-red-50/50 focus:border-red-400":"border-gray-200 bg-white/60 focus:border-gray-400 hover:border-gray-300"}`,style:{color:"#121212"},placeholder:"Enter your password",autoComplete:"current-password"}),b.jsx("button",{type:"button",onClick:()=>s(!i),className:"absolute inset-y-0 right-0 pr-4 flex items-center",children:i?b.jsx(Vy,{className:"h-5 w-5 opacity-40 hover:opacity-60 transition-opacity",style:{color:"#121212"}}):b.jsx(Oy,{className:"h-5 w-5 opacity-40 hover:opacity-60 transition-opacity",style:{color:"#121212"}})})]}),l.password&&b.jsxs(re.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"mt-2 text-sm text-red-600 flex items-center space-x-1",children:[b.jsx(qs,{className:"w-4 h-4"}),b.jsx("span",{children:l.password})]})]}),b.jsx(re.button,{type:"submit",disabled:o,whileHover:{scale:o?1:1.02},whileTap:{scale:o?1:.98},className:"w-full flex items-center justify-center px-6 py-4 rounded-2xl font-medium text-sm transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",style:{backgroundColor:"#121212",color:"#FAFAFA"},children:o?b.jsx("div",{className:"w-5 h-5 border-2 border-gray-300 border-t-transparent rounded-full animate-spin"}):b.jsxs(b.Fragment,{children:[b.jsx(zB,{className:"w-5 h-5 mr-2"}),"Sign In"]})})]}),b.jsx("div",{className:"mt-8 text-center",children:b.jsxs("p",{className:"text-sm opacity-70",style:{color:"#121212"},children:["Don't have an account?"," ",b.jsx(jI,{to:"/register",className:"font-medium hover:underline transition-all duration-200",style:{color:"#121212"},children:"Create one"})]})})]}),b.jsx(re.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},className:"text-center mt-8",children:b.jsxs("p",{className:"text-xs opacity-50",style:{color:"#121212"},children:["© 2025"," ",b.jsx("a",{href:"https://github.com/Berqueno/Planit",target:"_blank",rel:"noopener noreferrer",className:"hover:opacity-80 transition",children:"Planit"}),". All rights reserved."]})})]})})},iz=()=>{const[t,e]=_.useState(""),[n,r]=_.useState(""),[i,s]=_.useState(""),[o,a]=_.useState(!1),[l,c]=_.useState(!1),[u,h]=_.useState(!1),[f,p]=_.useState({}),{register:y}=Eo(),v=Wf(),g=(M=>{let I=0;return M.length>=8&&I++,/[A-Z]/.test(M)&&I++,/[a-z]/.test(M)&&I++,/[0-9]/.test(M)&&I++,/[^A-Za-z0-9]/.test(M)&&I++,I})(n),w=["Very Weak","Weak","Fair","Good","Strong"],x=["#ef4444","#f97316","#eab308","#22c55e","#16a34a"],k=()=>{const M={};return t?/\S+@\S+\.\S+/.test(t)||(M.email="Please enter a valid email address"):M.email="Email is required",n?n.length<6&&(M.password="Password must be at least 6 characters"):M.password="Password is required",i?n!==i&&(M.confirmPassword="Passwords do not match"):M.confirmPassword="Please confirm your password",p(M),Object.keys(M).length===0},O=async M=>{if(M.preventDefault(),p({}),!!k()){h(!0);try{await y(t,n),cn.success("Account created successfully!",{style:{background:"#121212",color:"#FAFAFA",border:"1px solid #22c55e"}}),v("/dashboard")}catch(I){let T="Failed to create account";I.code==="auth/email-already-in-use"?T="An account with this email already exists":I.code==="auth/invalid-email"?T="Invalid email address":I.code==="auth/weak-password"?T="Password is too weak":I.code==="auth/operation-not-allowed"&&(T="Email/password accounts are not enabled"),p({general:T}),cn.error(T,{style:{background:"#121212",color:"#FAFAFA",border:"1px solid #ef4444"}})}finally{h(!1)}}};return b.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 py-8",style:{backgroundColor:"#FAFAFA"},children:b.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"w-full max-w-md",children:[b.jsxs(re.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:.1},className:"text-center mb-12",children:[b.jsx("div",{className:"flex justify-center mb-6",children:b.jsx("img",{src:"./FLLB.png",alt:"Planit Logo",className:"h-24 w-auto object-contain"})}),b.jsx("h1",{className:"text-3xl font-light tracking-wide",style:{color:"#121212"},children:"Create your account"}),b.jsx("p",{className:"text-sm mt-2 opacity-70",style:{color:"#121212"},children:"Join thousands of users planning smarter"})]}),b.jsxs(re.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2},className:"backdrop-blur-sm border border-gray-200/50 rounded-3xl p-8 shadow-2xl",style:{backgroundColor:"rgba(255, 255, 255, 0.8)"},children:[f.general&&b.jsxs(re.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 rounded-2xl border border-red-200 bg-red-50/80 flex items-center space-x-3",children:[b.jsx(qs,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),b.jsx("p",{className:"text-sm text-red-700",children:f.general})]}),b.jsxs("form",{onSubmit:O,className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium mb-3",style:{color:"#121212"},children:"Email Address"}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:b.jsx(PP,{className:"h-5 w-5 opacity-40",style:{color:"#121212"}})}),b.jsx("input",{type:"email",value:t,onChange:M=>{e(M.target.value),f.email&&p({...f,email:void 0})},className:`w-full pl-12 pr-4 py-4 rounded-2xl border-2 transition-all duration-200 text-sm placeholder-gray-400 focus:outline-none ${f.email?"border-red-300 bg-red-50/50 focus:border-red-400":"border-gray-200 bg-white/60 focus:border-gray-400 hover:border-gray-300"}`,style:{color:"#121212"},placeholder:"Enter your email",autoComplete:"email"})]}),f.email&&b.jsxs(re.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"mt-2 text-sm text-red-600 flex items-center space-x-1",children:[b.jsx(qs,{className:"w-4 h-4"}),b.jsx("span",{children:f.email})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium mb-3",style:{color:"#121212"},children:"Password"}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:b.jsx(Ly,{className:"h-5 w-5 opacity-40",style:{color:"#121212"}})}),b.jsx("input",{type:o?"text":"password",value:n,onChange:M=>{r(M.target.value),f.password&&p({...f,password:void 0})},className:`w-full pl-12 pr-12 py-4 rounded-2xl border-2 transition-all duration-200 text-sm placeholder-gray-400 focus:outline-none ${f.password?"border-red-300 bg-red-50/50 focus:border-red-400":"border-gray-200 bg-white/60 focus:border-gray-400 hover:border-gray-300"}`,style:{color:"#121212"},placeholder:"Create a password",autoComplete:"new-password"}),b.jsx("button",{type:"button",onClick:()=>a(!o),className:"absolute inset-y-0 right-0 pr-4 flex items-center",children:o?b.jsx(Vy,{className:"h-5 w-5 opacity-40 hover:opacity-60 transition-opacity",style:{color:"#121212"}}):b.jsx(Oy,{className:"h-5 w-5 opacity-40 hover:opacity-60 transition-opacity",style:{color:"#121212"}})})]}),n&&b.jsxs(re.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-3",children:[b.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[b.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:b.jsx(re.div,{initial:{width:0},animate:{width:`${g/5*100}%`},className:"h-2 rounded-full transition-all duration-300",style:{backgroundColor:x[g-1]||"#ef4444"}})}),b.jsx("span",{className:"text-xs font-medium",style:{color:x[g-1]||"#ef4444"},children:w[g-1]||"Very Weak"})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[b.jsxs("div",{className:`flex items-center space-x-1 ${n.length>=8?"text-green-600":"text-gray-400"}`,children:[b.jsx(zl,{className:"w-3 h-3"}),b.jsx("span",{children:"8+ characters"})]}),b.jsxs("div",{className:`flex items-center space-x-1 ${/[A-Z]/.test(n)?"text-green-600":"text-gray-400"}`,children:[b.jsx(zl,{className:"w-3 h-3"}),b.jsx("span",{children:"Uppercase"})]}),b.jsxs("div",{className:`flex items-center space-x-1 ${/[0-9]/.test(n)?"text-green-600":"text-gray-400"}`,children:[b.jsx(zl,{className:"w-3 h-3"}),b.jsx("span",{children:"Number"})]}),b.jsxs("div",{className:`flex items-center space-x-1 ${/[^A-Za-z0-9]/.test(n)?"text-green-600":"text-gray-400"}`,children:[b.jsx(zl,{className:"w-3 h-3"}),b.jsx("span",{children:"Special char"})]})]})]}),f.password&&b.jsxs(re.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"mt-2 text-sm text-red-600 flex items-center space-x-1",children:[b.jsx(qs,{className:"w-4 h-4"}),b.jsx("span",{children:f.password})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium mb-3",style:{color:"#121212"},children:"Confirm Password"}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:b.jsx(Ly,{className:"h-5 w-5 opacity-40",style:{color:"#121212"}})}),b.jsx("input",{type:l?"text":"password",value:i,onChange:M=>{s(M.target.value),f.confirmPassword&&p({...f,confirmPassword:void 0})},className:`w-full pl-12 pr-12 py-4 rounded-2xl border-2 transition-all duration-200 text-sm placeholder-gray-400 focus:outline-none ${f.confirmPassword?"border-red-300 bg-red-50/50 focus:border-red-400":"border-gray-200 bg-white/60 focus:border-gray-400 hover:border-gray-300"}`,style:{color:"#121212"},placeholder:"Confirm your password",autoComplete:"new-password"}),b.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute inset-y-0 right-0 pr-4 flex items-center",children:l?b.jsx(Vy,{className:"h-5 w-5 opacity-40 hover:opacity-60 transition-opacity",style:{color:"#121212"}}):b.jsx(Oy,{className:"h-5 w-5 opacity-40 hover:opacity-60 transition-opacity",style:{color:"#121212"}})})]}),f.confirmPassword&&b.jsxs(re.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"mt-2 text-sm text-red-600 flex items-center space-x-1",children:[b.jsx(qs,{className:"w-4 h-4"}),b.jsx("span",{children:f.confirmPassword})]})]}),b.jsx(re.button,{type:"submit",disabled:u,whileHover:{scale:u?1:1.02},whileTap:{scale:u?1:.98},className:"w-full flex items-center justify-center px-6 py-4 rounded-2xl font-medium text-sm transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",style:{backgroundColor:"#121212",color:"#FAFAFA"},children:u?b.jsx("div",{className:"w-5 h-5 border-2 border-gray-300 border-t-transparent rounded-full animate-spin"}):b.jsxs(b.Fragment,{children:[b.jsx(tz,{className:"w-5 h-5 mr-2"}),"Create Account"]})})]}),b.jsx("div",{className:"mt-8 text-center",children:b.jsxs("p",{className:"text-sm opacity-70",style:{color:"#121212"},children:["Already have an account?"," ",b.jsx(jI,{to:"/login",className:"font-medium hover:underline transition-all duration-200",style:{color:"#121212"},children:"Sign in"})]})})]}),b.jsx(re.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},className:"text-center mt-8",children:b.jsx("p",{className:"text-xs opacity-50",style:{color:"#121212"},children:"By creating an account, you agree to our Terms of Service"})})]})})};function Ht(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=Ht(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var NP={exports:{}},DP={},MP={exports:{}},VP={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var La=_;function sz(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var oz=typeof Object.is=="function"?Object.is:sz,az=La.useState,lz=La.useEffect,cz=La.useLayoutEffect,uz=La.useDebugValue;function dz(t,e){var n=e(),r=az({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return cz(function(){i.value=n,i.getSnapshot=e,jm(i)&&s({inst:i})},[t,n,e]),lz(function(){return jm(i)&&s({inst:i}),t(function(){jm(i)&&s({inst:i})})},[t]),uz(n),n}function jm(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!oz(t,n)}catch{return!0}}function hz(t,e){return e()}var fz=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?hz:dz;VP.useSyncExternalStore=La.useSyncExternalStore!==void 0?La.useSyncExternalStore:fz;MP.exports=VP;var pz=MP.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _p=_,mz=pz;function gz(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yz=typeof Object.is=="function"?Object.is:gz,vz=mz.useSyncExternalStore,wz=_p.useRef,_z=_p.useEffect,xz=_p.useMemo,Ez=_p.useDebugValue;DP.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=wz(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=xz(function(){function l(p){if(!c){if(c=!0,u=p,p=r(p),i!==void 0&&o.hasValue){var y=o.value;if(i(y,p))return h=y}return h=p}if(y=h,yz(u,p))return y;var v=r(p);return i!==void 0&&i(y,v)?(u=p,y):(u=p,h=v)}var c=!1,u,h,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=vz(t,s[0],s[1]);return _z(function(){o.hasValue=!0,o.value=a},[a]),Ez(a),a};NP.exports=DP;var Tz=NP.exports;const Sz=pS(Tz),bz={BASE_URL:"/Planit/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_FIREBASE_API_KEY:"AIzaSyC4sRnieV5FGKBsnUlcRg3p9kXQ37VTcdw",VITE_FIREBASE_APP_ID:"1:739374191019:web:558b80cf396f62d08a02ee",VITE_FIREBASE_AUTH_DOMAIN:"planit-50f4b.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"739374191019",VITE_FIREBASE_PROJECT_ID:"planit-50f4b",VITE_FIREBASE_STORAGE_BUCKET:"planit-50f4b.firebasestorage.app"},dT=t=>{let e;const n=new Set,r=(u,h)=>{const f=typeof u=="function"?u(e):u;if(!Object.is(f,e)){const p=e;e=h??(typeof f!="object"||f===null)?f:Object.assign({},e,f),n.forEach(y=>y(e,p))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{(bz?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=e=t(r,i,l);return l},Iz=t=>t?dT(t):dT,{useDebugValue:Cz}=W,{useSyncExternalStoreWithSelector:kz}=Sz,Az=t=>t;function OP(t,e=Az,n){const r=kz(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return Cz(r),r}const hT=(t,e)=>{const n=Iz(t),r=(i,s=e)=>OP(n,i,s);return Object.assign(r,n),r},Pz=(t,e)=>t?hT(t,e):hT;function Dt(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}var Rz={value:()=>{}};function xp(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ah(n)}function ah(t){this._=t}function Nz(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ah.prototype=xp.prototype={constructor:ah,on:function(t,e){var n=this._,r=Nz(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=Dz(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=fT(n[i],t.name,e);else if(e==null)for(i in n)n[i]=fT(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ah(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function Dz(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function fT(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Rz,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var jy="http://www.w3.org/1999/xhtml";const pT={svg:"http://www.w3.org/2000/svg",xhtml:jy,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ep(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),pT.hasOwnProperty(e)?{space:pT[e],local:t}:t}function Mz(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===jy&&e.documentElement.namespaceURI===jy?e.createElement(t):e.createElementNS(n,t)}}function Vz(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function LP(t){var e=Ep(t);return(e.local?Vz:Mz)(e)}function Oz(){}function Ew(t){return t==null?Oz:function(){return this.querySelector(t)}}function Lz(t){typeof t!="function"&&(t=Ew(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=new Array(o),l,c,u=0;u<o;++u)(l=s[u])&&(c=t.call(l,l.__data__,u,s))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new jn(r,this._parents)}function jz(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Fz(){return[]}function jP(t){return t==null?Fz:function(){return this.querySelectorAll(t)}}function Uz(t){return function(){return jz(t.apply(this,arguments))}}function $z(t){typeof t=="function"?t=Uz(t):t=jP(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var o=e[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&(r.push(t.call(l,l.__data__,c,o)),i.push(l));return new jn(r,i)}function FP(t){return function(){return this.matches(t)}}function UP(t){return function(e){return e.matches(t)}}var Bz=Array.prototype.find;function zz(t){return function(){return Bz.call(this.children,t)}}function Hz(){return this.firstElementChild}function Wz(t){return this.select(t==null?Hz:zz(typeof t=="function"?t:UP(t)))}var qz=Array.prototype.filter;function Kz(){return Array.from(this.children)}function Gz(t){return function(){return qz.call(this.children,t)}}function Yz(t){return this.selectAll(t==null?Kz:Gz(typeof t=="function"?t:UP(t)))}function Qz(t){typeof t!="function"&&(t=FP(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],l,c=0;c<o;++c)(l=s[c])&&t.call(l,l.__data__,c,s)&&a.push(l);return new jn(r,this._parents)}function $P(t){return new Array(t.length)}function Xz(){return new jn(this._enter||this._groups.map($P),this._parents)}function mf(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}mf.prototype={constructor:mf,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Jz(t){return function(){return t}}function Zz(t,e,n,r,i,s){for(var o=0,a,l=e.length,c=s.length;o<c;++o)(a=e[o])?(a.__data__=s[o],r[o]=a):n[o]=new mf(t,s[o]);for(;o<l;++o)(a=e[o])&&(i[o]=a)}function e8(t,e,n,r,i,s,o){var a,l,c=new Map,u=e.length,h=s.length,f=new Array(u),p;for(a=0;a<u;++a)(l=e[a])&&(f[a]=p=o.call(l,l.__data__,a,e)+"",c.has(p)?i[a]=l:c.set(p,l));for(a=0;a<h;++a)p=o.call(t,s[a],a,s)+"",(l=c.get(p))?(r[a]=l,l.__data__=s[a],c.delete(p)):n[a]=new mf(t,s[a]);for(a=0;a<u;++a)(l=e[a])&&c.get(f[a])===l&&(i[a]=l)}function t8(t){return t.__data__}function n8(t,e){if(!arguments.length)return Array.from(this,t8);var n=e?e8:Zz,r=this._parents,i=this._groups;typeof t!="function"&&(t=Jz(t));for(var s=i.length,o=new Array(s),a=new Array(s),l=new Array(s),c=0;c<s;++c){var u=r[c],h=i[c],f=h.length,p=r8(t.call(u,u&&u.__data__,c,r)),y=p.length,v=a[c]=new Array(y),S=o[c]=new Array(y),g=l[c]=new Array(f);n(u,h,v,S,g,p,e);for(var w=0,x=0,k,O;w<y;++w)if(k=v[w]){for(w>=x&&(x=w+1);!(O=S[x])&&++x<y;);k._next=O||null}}return o=new jn(o,r),o._enter=a,o._exit=l,o}function r8(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function i8(){return new jn(this._exit||this._groups.map($P),this._parents)}function s8(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function o8(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,o=Math.min(i,s),a=new Array(i),l=0;l<o;++l)for(var c=n[l],u=r[l],h=c.length,f=a[l]=new Array(h),p,y=0;y<h;++y)(p=c[y]||u[y])&&(f[y]=p);for(;l<i;++l)a[l]=n[l];return new jn(a,this._parents)}function a8(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function l8(t){t||(t=c8);function e(h,f){return h&&f?t(h.__data__,f.__data__):!h-!f}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,l=i[s]=new Array(a),c,u=0;u<a;++u)(c=o[u])&&(l[u]=c);l.sort(e)}return new jn(i,this._parents).order()}function c8(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function u8(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function d8(){return Array.from(this)}function h8(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function f8(){let t=0;for(const e of this)++t;return t}function p8(){return!this.node()}function m8(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&t.call(a,a.__data__,s,i);return this}function g8(t){return function(){this.removeAttribute(t)}}function y8(t){return function(){this.removeAttributeNS(t.space,t.local)}}function v8(t,e){return function(){this.setAttribute(t,e)}}function w8(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function _8(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function x8(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function E8(t,e){var n=Ep(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?y8:g8:typeof e=="function"?n.local?x8:_8:n.local?w8:v8)(n,e))}function BP(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function T8(t){return function(){this.style.removeProperty(t)}}function S8(t,e,n){return function(){this.style.setProperty(t,e,n)}}function b8(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function I8(t,e,n){return arguments.length>1?this.each((e==null?T8:typeof e=="function"?b8:S8)(t,e,n??"")):ja(this.node(),t)}function ja(t,e){return t.style.getPropertyValue(e)||BP(t).getComputedStyle(t,null).getPropertyValue(e)}function C8(t){return function(){delete this[t]}}function k8(t,e){return function(){this[t]=e}}function A8(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function P8(t,e){return arguments.length>1?this.each((e==null?C8:typeof e=="function"?A8:k8)(t,e)):this.node()[t]}function zP(t){return t.trim().split(/^|\s+/)}function Tw(t){return t.classList||new HP(t)}function HP(t){this._node=t,this._names=zP(t.getAttribute("class")||"")}HP.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function WP(t,e){for(var n=Tw(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function qP(t,e){for(var n=Tw(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function R8(t){return function(){WP(this,t)}}function N8(t){return function(){qP(this,t)}}function D8(t,e){return function(){(e.apply(this,arguments)?WP:qP)(this,t)}}function M8(t,e){var n=zP(t+"");if(arguments.length<2){for(var r=Tw(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?D8:e?R8:N8)(n,e))}function V8(){this.textContent=""}function O8(t){return function(){this.textContent=t}}function L8(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function j8(t){return arguments.length?this.each(t==null?V8:(typeof t=="function"?L8:O8)(t)):this.node().textContent}function F8(){this.innerHTML=""}function U8(t){return function(){this.innerHTML=t}}function $8(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function B8(t){return arguments.length?this.each(t==null?F8:(typeof t=="function"?$8:U8)(t)):this.node().innerHTML}function z8(){this.nextSibling&&this.parentNode.appendChild(this)}function H8(){return this.each(z8)}function W8(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function q8(){return this.each(W8)}function K8(t){var e=typeof t=="function"?t:LP(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function G8(){return null}function Y8(t,e){var n=typeof t=="function"?t:LP(t),r=e==null?G8:typeof e=="function"?e:Ew(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Q8(){var t=this.parentNode;t&&t.removeChild(this)}function X8(){return this.each(Q8)}function J8(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Z8(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function e7(t){return this.select(t?Z8:J8)}function t7(t){return arguments.length?this.property("__data__",t):this.node().__data__}function n7(t){return function(e){t.call(this,e,this.__data__)}}function r7(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function i7(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function s7(t,e,n){return function(){var r=this.__on,i,s=n7(e);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function o7(t,e,n){var r=r7(t+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,u;l<c;++l)for(i=0,u=a[l];i<s;++i)if((o=r[i]).type===u.type&&o.name===u.name)return u.value}return}for(a=e?s7:i7,i=0;i<s;++i)this.each(a(r[i],e,n));return this}function KP(t,e,n){var r=BP(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function a7(t,e){return function(){return KP(this,t,e)}}function l7(t,e){return function(){return KP(this,t,e.apply(this,arguments))}}function c7(t,e){return this.each((typeof e=="function"?l7:a7)(t,e))}function*u7(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var GP=[null];function jn(t,e){this._groups=t,this._parents=e}function Au(){return new jn([[document.documentElement]],GP)}function d7(){return this}jn.prototype=Au.prototype={constructor:jn,select:Lz,selectAll:$z,selectChild:Wz,selectChildren:Yz,filter:Qz,data:n8,enter:Xz,exit:i8,join:s8,merge:o8,selection:d7,order:a8,sort:l8,call:u8,nodes:d8,node:h8,size:f8,empty:p8,each:m8,attr:E8,style:I8,property:P8,classed:M8,text:j8,html:B8,raise:H8,lower:q8,append:K8,insert:Y8,remove:X8,clone:e7,datum:t7,on:o7,dispatch:c7,[Symbol.iterator]:u7};function Qn(t){return typeof t=="string"?new jn([[document.querySelector(t)]],[document.documentElement]):new jn([[t]],GP)}function h7(t){let e;for(;e=t.sourceEvent;)t=e;return t}function dr(t,e){if(t=h7(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const f7={passive:!1},Kc={capture:!0,passive:!1};function Fm(t){t.stopImmediatePropagation()}function ma(t){t.preventDefault(),t.stopImmediatePropagation()}function YP(t){var e=t.document.documentElement,n=Qn(t).on("dragstart.drag",ma,Kc);"onselectstart"in e?n.on("selectstart.drag",ma,Kc):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function QP(t,e){var n=t.document.documentElement,r=Qn(t).on("dragstart.drag",null);e&&(r.on("click.drag",ma,Kc),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Id=t=>()=>t;function Fy(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:s,x:o,y:a,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}Fy.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function p7(t){return!t.ctrlKey&&!t.button}function m7(){return this.parentNode}function g7(t,e){return e??{x:t.x,y:t.y}}function y7(){return navigator.maxTouchPoints||"ontouchstart"in this}function v7(){var t=p7,e=m7,n=g7,r=y7,i={},s=xp("start","drag","end"),o=0,a,l,c,u,h=0;function f(k){k.on("mousedown.drag",p).filter(r).on("touchstart.drag",S).on("touchmove.drag",g,f7).on("touchend.drag touchcancel.drag",w).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(k,O){if(!(u||!t.call(this,k,O))){var M=x(this,e.call(this,k,O),k,O,"mouse");M&&(Qn(k.view).on("mousemove.drag",y,Kc).on("mouseup.drag",v,Kc),YP(k.view),Fm(k),c=!1,a=k.clientX,l=k.clientY,M("start",k))}}function y(k){if(ma(k),!c){var O=k.clientX-a,M=k.clientY-l;c=O*O+M*M>h}i.mouse("drag",k)}function v(k){Qn(k.view).on("mousemove.drag mouseup.drag",null),QP(k.view,c),ma(k),i.mouse("end",k)}function S(k,O){if(t.call(this,k,O)){var M=k.changedTouches,I=e.call(this,k,O),T=M.length,C,A;for(C=0;C<T;++C)(A=x(this,I,k,O,M[C].identifier,M[C]))&&(Fm(k),A("start",k,M[C]))}}function g(k){var O=k.changedTouches,M=O.length,I,T;for(I=0;I<M;++I)(T=i[O[I].identifier])&&(ma(k),T("drag",k,O[I]))}function w(k){var O=k.changedTouches,M=O.length,I,T;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),I=0;I<M;++I)(T=i[O[I].identifier])&&(Fm(k),T("end",k,O[I]))}function x(k,O,M,I,T,C){var A=s.copy(),N=dr(C||M,O),L,P,D;if((D=n.call(k,new Fy("beforestart",{sourceEvent:M,target:f,identifier:T,active:o,x:N[0],y:N[1],dx:0,dy:0,dispatch:A}),I))!=null)return L=D.x-N[0]||0,P=D.y-N[1]||0,function H(U,q,$){var V=N,j;switch(U){case"start":i[T]=H,j=o++;break;case"end":delete i[T],--o;case"drag":N=dr($||q,O),j=o;break}A.call(U,k,new Fy(U,{sourceEvent:q,subject:D,target:f,identifier:T,active:j,x:N[0]+L,y:N[1]+P,dx:N[0]-V[0],dy:N[1]-V[1],dispatch:A}),I)}}return f.filter=function(k){return arguments.length?(t=typeof k=="function"?k:Id(!!k),f):t},f.container=function(k){return arguments.length?(e=typeof k=="function"?k:Id(k),f):e},f.subject=function(k){return arguments.length?(n=typeof k=="function"?k:Id(k),f):n},f.touchable=function(k){return arguments.length?(r=typeof k=="function"?k:Id(!!k),f):r},f.on=function(){var k=s.on.apply(s,arguments);return k===s?f:k},f.clickDistance=function(k){return arguments.length?(h=(k=+k)*k,f):Math.sqrt(h)},f}function Sw(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function XP(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Pu(){}var Gc=.7,gf=1/Gc,ga="\\s*([+-]?\\d+)\\s*",Yc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Vr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",w7=/^#([0-9a-f]{3,8})$/,_7=new RegExp(`^rgb\\(${ga},${ga},${ga}\\)$`),x7=new RegExp(`^rgb\\(${Vr},${Vr},${Vr}\\)$`),E7=new RegExp(`^rgba\\(${ga},${ga},${ga},${Yc}\\)$`),T7=new RegExp(`^rgba\\(${Vr},${Vr},${Vr},${Yc}\\)$`),S7=new RegExp(`^hsl\\(${Yc},${Vr},${Vr}\\)$`),b7=new RegExp(`^hsla\\(${Yc},${Vr},${Vr},${Yc}\\)$`),mT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Sw(Pu,Qc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:gT,formatHex:gT,formatHex8:I7,formatHsl:C7,formatRgb:yT,toString:yT});function gT(){return this.rgb().formatHex()}function I7(){return this.rgb().formatHex8()}function C7(){return JP(this).formatHsl()}function yT(){return this.rgb().formatRgb()}function Qc(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=w7.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?vT(e):n===3?new wn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Cd(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Cd(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=_7.exec(t))?new wn(e[1],e[2],e[3],1):(e=x7.exec(t))?new wn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=E7.exec(t))?Cd(e[1],e[2],e[3],e[4]):(e=T7.exec(t))?Cd(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=S7.exec(t))?xT(e[1],e[2]/100,e[3]/100,1):(e=b7.exec(t))?xT(e[1],e[2]/100,e[3]/100,e[4]):mT.hasOwnProperty(t)?vT(mT[t]):t==="transparent"?new wn(NaN,NaN,NaN,0):null}function vT(t){return new wn(t>>16&255,t>>8&255,t&255,1)}function Cd(t,e,n,r){return r<=0&&(t=e=n=NaN),new wn(t,e,n,r)}function k7(t){return t instanceof Pu||(t=Qc(t)),t?(t=t.rgb(),new wn(t.r,t.g,t.b,t.opacity)):new wn}function Uy(t,e,n,r){return arguments.length===1?k7(t):new wn(t,e,n,r??1)}function wn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Sw(wn,Uy,XP(Pu,{brighter(t){return t=t==null?gf:Math.pow(gf,t),new wn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Gc:Math.pow(Gc,t),new wn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new wn(eo(this.r),eo(this.g),eo(this.b),yf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:wT,formatHex:wT,formatHex8:A7,formatRgb:_T,toString:_T}));function wT(){return`#${Ks(this.r)}${Ks(this.g)}${Ks(this.b)}`}function A7(){return`#${Ks(this.r)}${Ks(this.g)}${Ks(this.b)}${Ks((isNaN(this.opacity)?1:this.opacity)*255)}`}function _T(){const t=yf(this.opacity);return`${t===1?"rgb(":"rgba("}${eo(this.r)}, ${eo(this.g)}, ${eo(this.b)}${t===1?")":`, ${t})`}`}function yf(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function eo(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ks(t){return t=eo(t),(t<16?"0":"")+t.toString(16)}function xT(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new fr(t,e,n,r)}function JP(t){if(t instanceof fr)return new fr(t.h,t.s,t.l,t.opacity);if(t instanceof Pu||(t=Qc(t)),!t)return new fr;if(t instanceof fr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(e===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-e)/a+2:o=(e-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new fr(o,a,l,t.opacity)}function P7(t,e,n,r){return arguments.length===1?JP(t):new fr(t,e,n,r??1)}function fr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Sw(fr,P7,XP(Pu,{brighter(t){return t=t==null?gf:Math.pow(gf,t),new fr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Gc:Math.pow(Gc,t),new fr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new wn(Um(t>=240?t-240:t+120,i,r),Um(t,i,r),Um(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new fr(ET(this.h),kd(this.s),kd(this.l),yf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=yf(this.opacity);return`${t===1?"hsl(":"hsla("}${ET(this.h)}, ${kd(this.s)*100}%, ${kd(this.l)*100}%${t===1?")":`, ${t})`}`}}));function ET(t){return t=(t||0)%360,t<0?t+360:t}function kd(t){return Math.max(0,Math.min(1,t||0))}function Um(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const ZP=t=>()=>t;function R7(t,e){return function(n){return t+n*e}}function N7(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function D7(t){return(t=+t)==1?e2:function(e,n){return n-e?N7(e,n,t):ZP(isNaN(e)?n:e)}}function e2(t,e){var n=e-t;return n?R7(t,n):ZP(isNaN(t)?e:t)}const TT=function t(e){var n=D7(e);function r(i,s){var o=n((i=Uy(i)).r,(s=Uy(s)).r),a=n(i.g,s.g),l=n(i.b,s.b),c=e2(i.opacity,s.opacity);return function(u){return i.r=o(u),i.g=a(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function Di(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var $y=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$m=new RegExp($y.source,"g");function M7(t){return function(){return t}}function V7(t){return function(e){return t(e)+""}}function O7(t,e){var n=$y.lastIndex=$m.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(t=t+"",e=e+"";(r=$y.exec(t))&&(i=$m.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:Di(r,i)})),n=$m.lastIndex;return n<e.length&&(s=e.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?V7(l[0].x):M7(e):(e=l.length,function(c){for(var u=0,h;u<e;++u)a[(h=l[u]).i]=h.x(c);return a.join("")})}var ST=180/Math.PI,By={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function t2(t,e,n,r,i,s){var o,a,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*ST,skewX:Math.atan(l)*ST,scaleX:o,scaleY:a}}var Ad;function L7(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?By:t2(e.a,e.b,e.c,e.d,e.e,e.f)}function j7(t){return t==null||(Ad||(Ad=document.createElementNS("http://www.w3.org/2000/svg","g")),Ad.setAttribute("transform",t),!(t=Ad.transform.baseVal.consolidate()))?By:(t=t.matrix,t2(t.a,t.b,t.c,t.d,t.e,t.f))}function n2(t,e,n,r){function i(c){return c.length?c.pop()+" ":""}function s(c,u,h,f,p,y){if(c!==h||u!==f){var v=p.push("translate(",null,e,null,n);y.push({i:v-4,x:Di(c,h)},{i:v-2,x:Di(u,f)})}else(h||f)&&p.push("translate("+h+e+f+n)}function o(c,u,h,f){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),f.push({i:h.push(i(h)+"rotate(",null,r)-2,x:Di(c,u)})):u&&h.push(i(h)+"rotate("+u+r)}function a(c,u,h,f){c!==u?f.push({i:h.push(i(h)+"skewX(",null,r)-2,x:Di(c,u)}):u&&h.push(i(h)+"skewX("+u+r)}function l(c,u,h,f,p,y){if(c!==h||u!==f){var v=p.push(i(p)+"scale(",null,",",null,")");y.push({i:v-4,x:Di(c,h)},{i:v-2,x:Di(u,f)})}else(h!==1||f!==1)&&p.push(i(p)+"scale("+h+","+f+")")}return function(c,u){var h=[],f=[];return c=t(c),u=t(u),s(c.translateX,c.translateY,u.translateX,u.translateY,h,f),o(c.rotate,u.rotate,h,f),a(c.skewX,u.skewX,h,f),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,h,f),c=u=null,function(p){for(var y=-1,v=f.length,S;++y<v;)h[(S=f[y]).i]=S.x(p);return h.join("")}}}var F7=n2(L7,"px, ","px)","deg)"),U7=n2(j7,", ",")",")"),$7=1e-12;function bT(t){return((t=Math.exp(t))+1/t)/2}function B7(t){return((t=Math.exp(t))-1/t)/2}function z7(t){return((t=Math.exp(2*t))-1)/(t+1)}const H7=function t(e,n,r){function i(s,o){var a=s[0],l=s[1],c=s[2],u=o[0],h=o[1],f=o[2],p=u-a,y=h-l,v=p*p+y*y,S,g;if(v<$7)g=Math.log(f/c)/e,S=function(I){return[a+I*p,l+I*y,c*Math.exp(e*I*g)]};else{var w=Math.sqrt(v),x=(f*f-c*c+r*v)/(2*c*n*w),k=(f*f-c*c-r*v)/(2*f*n*w),O=Math.log(Math.sqrt(x*x+1)-x),M=Math.log(Math.sqrt(k*k+1)-k);g=(M-O)/e,S=function(I){var T=I*g,C=bT(O),A=c/(n*w)*(C*z7(e*T+O)-B7(O));return[a+A*p,l+A*y,c*C/bT(e*T+O)]}}return S.duration=g*1e3*e/Math.SQRT2,S}return i.rho=function(s){var o=Math.max(.001,+s),a=o*o,l=a*a;return t(o,a,l)},i}(Math.SQRT2,2,4);var Fa=0,Hl=0,Il=0,r2=1e3,vf,Wl,wf=0,po=0,Tp=0,Xc=typeof performance=="object"&&performance.now?performance:Date,i2=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function bw(){return po||(i2(W7),po=Xc.now()+Tp)}function W7(){po=0}function _f(){this._call=this._time=this._next=null}_f.prototype=s2.prototype={constructor:_f,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?bw():+n)+(e==null?0:+e),!this._next&&Wl!==this&&(Wl?Wl._next=this:vf=this,Wl=this),this._call=t,this._time=n,zy()},stop:function(){this._call&&(this._call=null,this._time=1/0,zy())}};function s2(t,e,n){var r=new _f;return r.restart(t,e,n),r}function q7(){bw(),++Fa;for(var t=vf,e;t;)(e=po-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Fa}function IT(){po=(wf=Xc.now())+Tp,Fa=Hl=0;try{q7()}finally{Fa=0,G7(),po=0}}function K7(){var t=Xc.now(),e=t-wf;e>r2&&(Tp-=e,wf=t)}function G7(){for(var t,e=vf,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:vf=n);Wl=t,zy(r)}function zy(t){if(!Fa){Hl&&(Hl=clearTimeout(Hl));var e=t-po;e>24?(t<1/0&&(Hl=setTimeout(IT,t-Xc.now()-Tp)),Il&&(Il=clearInterval(Il))):(Il||(wf=Xc.now(),Il=setInterval(K7,r2)),Fa=1,i2(IT))}}function CT(t,e,n){var r=new _f;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var Y7=xp("start","end","cancel","interrupt"),Q7=[],o2=0,kT=1,Hy=2,lh=3,AT=4,Wy=5,ch=6;function Sp(t,e,n,r,i,s){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;X7(t,n,{name:e,index:r,group:i,on:Y7,tween:Q7,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:o2})}function Iw(t,e){var n=xr(t,e);if(n.state>o2)throw new Error("too late; already scheduled");return n}function jr(t,e){var n=xr(t,e);if(n.state>lh)throw new Error("too late; already running");return n}function xr(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function X7(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=s2(s,0,n.time);function s(c){n.state=kT,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var u,h,f,p;if(n.state!==kT)return l();for(u in r)if(p=r[u],p.name===n.name){if(p.state===lh)return CT(o);p.state===AT?(p.state=ch,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[u]):+u<e&&(p.state=ch,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[u])}if(CT(function(){n.state===lh&&(n.state=AT,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=Hy,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Hy){for(n.state=lh,i=new Array(f=n.tween.length),u=0,h=-1;u<f;++u)(p=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(i[++h]=p);i.length=h+1}}function a(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=Wy,1),h=-1,f=i.length;++h<f;)i[h].call(t,u);n.state===Wy&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=ch,n.timer.stop(),delete r[e];for(var c in r)return;delete t.__transition}}function uh(t,e){var n=t.__transition,r,i,s=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){s=!1;continue}i=r.state>Hy&&r.state<Wy,r.state=ch,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}s&&delete t.__transition}}function J7(t){return this.each(function(){uh(this,t)})}function Z7(t,e){var n,r;return function(){var i=jr(this,t),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function eH(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=jr(this,t),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=a;break}l===c&&i.push(a)}s.tween=i}}function tH(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=xr(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?Z7:eH)(n,t,e))}function Cw(t,e,n){var r=t._id;return t.each(function(){var i=jr(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return xr(i,r).value[e]}}function a2(t,e){var n;return(typeof e=="number"?Di:e instanceof Qc?TT:(n=Qc(e))?(e=n,TT):O7)(t,e)}function nH(t){return function(){this.removeAttribute(t)}}function rH(t){return function(){this.removeAttributeNS(t.space,t.local)}}function iH(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttribute(t);return o===i?null:o===r?s:s=e(r=o,n)}}function sH(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?s:s=e(r=o,n)}}function oH(t,e,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttribute(t):(o=this.getAttribute(t),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a)))}}function aH(t,e,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a)))}}function lH(t,e){var n=Ep(t),r=n==="transform"?U7:a2;return this.attrTween(t,typeof e=="function"?(n.local?aH:oH)(n,r,Cw(this,"attr."+t,e)):e==null?(n.local?rH:nH)(n):(n.local?sH:iH)(n,r,e))}function cH(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function uH(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function dH(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&uH(t,s)),n}return i._value=e,i}function hH(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&cH(t,s)),n}return i._value=e,i}function fH(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Ep(t);return this.tween(n,(r.local?dH:hH)(r,e))}function pH(t,e){return function(){Iw(this,t).delay=+e.apply(this,arguments)}}function mH(t,e){return e=+e,function(){Iw(this,t).delay=e}}function gH(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?pH:mH)(e,t)):xr(this.node(),e).delay}function yH(t,e){return function(){jr(this,t).duration=+e.apply(this,arguments)}}function vH(t,e){return e=+e,function(){jr(this,t).duration=e}}function wH(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?yH:vH)(e,t)):xr(this.node(),e).duration}function _H(t,e){if(typeof e!="function")throw new Error;return function(){jr(this,t).ease=e}}function xH(t){var e=this._id;return arguments.length?this.each(_H(e,t)):xr(this.node(),e).ease}function EH(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;jr(this,t).ease=n}}function TH(t){if(typeof t!="function")throw new Error;return this.each(EH(this._id,t))}function SH(t){typeof t!="function"&&(t=FP(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],l,c=0;c<o;++c)(l=s[c])&&t.call(l,l.__data__,c,s)&&a.push(l);return new wi(r,this._parents,this._name,this._id)}function bH(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var l=e[a],c=n[a],u=l.length,h=o[a]=new Array(u),f,p=0;p<u;++p)(f=l[p]||c[p])&&(h[p]=f);for(;a<r;++a)o[a]=e[a];return new wi(o,this._parents,this._name,this._id)}function IH(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function CH(t,e,n){var r,i,s=IH(e)?Iw:jr;return function(){var o=s(this,t),a=o.on;a!==r&&(i=(r=a).copy()).on(e,n),o.on=i}}function kH(t,e){var n=this._id;return arguments.length<2?xr(this.node(),n).on.on(t):this.each(CH(n,t,e))}function AH(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function PH(){return this.on("end.remove",AH(this._id))}function RH(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Ew(t));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],l=a.length,c=s[o]=new Array(l),u,h,f=0;f<l;++f)(u=a[f])&&(h=t.call(u,u.__data__,f,a))&&("__data__"in u&&(h.__data__=u.__data__),c[f]=h,Sp(c[f],e,n,f,c,xr(u,n)));return new wi(s,this._parents,e,n)}function NH(t){var e=this._name,n=this._id;typeof t!="function"&&(t=jP(t));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var l=r[a],c=l.length,u,h=0;h<c;++h)if(u=l[h]){for(var f=t.call(u,u.__data__,h,l),p,y=xr(u,n),v=0,S=f.length;v<S;++v)(p=f[v])&&Sp(p,e,n,v,f,y);s.push(f),o.push(u)}return new wi(s,o,e,n)}var DH=Au.prototype.constructor;function MH(){return new DH(this._groups,this._parents)}function VH(t,e){var n,r,i;return function(){var s=ja(this,t),o=(this.style.removeProperty(t),ja(this,t));return s===o?null:s===n&&o===r?i:i=e(n=s,r=o)}}function l2(t){return function(){this.style.removeProperty(t)}}function OH(t,e,n){var r,i=n+"",s;return function(){var o=ja(this,t);return o===i?null:o===r?s:s=e(r=o,n)}}function LH(t,e,n){var r,i,s;return function(){var o=ja(this,t),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(t),ja(this,t))),o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a))}}function jH(t,e){var n,r,i,s="style."+e,o="end."+s,a;return function(){var l=jr(this,t),c=l.on,u=l.value[s]==null?a||(a=l2(e)):void 0;(c!==n||i!==u)&&(r=(n=c).copy()).on(o,i=u),l.on=r}}function FH(t,e,n){var r=(t+="")=="transform"?F7:a2;return e==null?this.styleTween(t,VH(t,r)).on("end.style."+t,l2(t)):typeof e=="function"?this.styleTween(t,LH(t,r,Cw(this,"style."+t,e))).each(jH(this._id,t)):this.styleTween(t,OH(t,r,e),n).on("end.style."+t,null)}function UH(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function $H(t,e,n){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&UH(t,o,n)),r}return s._value=e,s}function BH(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,$H(t,e,n??""))}function zH(t){return function(){this.textContent=t}}function HH(t){return function(){var e=t(this);this.textContent=e??""}}function WH(t){return this.tween("text",typeof t=="function"?HH(Cw(this,"text",t)):zH(t==null?"":t+""))}function qH(t){return function(e){this.textContent=t.call(this,e)}}function KH(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&qH(i)),e}return r._value=t,r}function GH(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,KH(t))}function YH(){for(var t=this._name,e=this._id,n=c2(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,c=0;c<a;++c)if(l=o[c]){var u=xr(l,e);Sp(l,t,n,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new wi(r,this._parents,t,n)}function QH(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--i===0&&s()}};n.each(function(){var c=jr(this,r),u=c.on;u!==t&&(e=(t=u).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),c.on=e}),i===0&&s()})}var XH=0;function wi(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function c2(){return++XH}var qr=Au.prototype;wi.prototype={constructor:wi,select:RH,selectAll:NH,selectChild:qr.selectChild,selectChildren:qr.selectChildren,filter:SH,merge:bH,selection:MH,transition:YH,call:qr.call,nodes:qr.nodes,node:qr.node,size:qr.size,empty:qr.empty,each:qr.each,on:kH,attr:lH,attrTween:fH,style:FH,styleTween:BH,text:WH,textTween:GH,remove:PH,tween:tH,delay:gH,duration:wH,ease:xH,easeVarying:TH,end:QH,[Symbol.iterator]:qr[Symbol.iterator]};function JH(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var ZH={time:null,delay:0,duration:250,ease:JH};function eW(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function tW(t){var e,n;t instanceof wi?(e=t._id,t=t._name):(e=c2(),(n=ZH).time=bw(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&Sp(l,t,e,c,o,n||eW(l,e));return new wi(r,this._parents,t,e)}Au.prototype.interrupt=J7;Au.prototype.transition=tW;const Pd=t=>()=>t;function nW(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function ni(t,e,n){this.k=t,this.x=e,this.y=n}ni.prototype={constructor:ni,scale:function(t){return t===1?this:new ni(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new ni(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ai=new ni(1,0,0);ni.prototype;function Bm(t){t.stopImmediatePropagation()}function Cl(t){t.preventDefault(),t.stopImmediatePropagation()}function rW(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function iW(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function PT(){return this.__zoom||ai}function sW(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function oW(){return navigator.maxTouchPoints||"ontouchstart"in this}function aW(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function u2(){var t=rW,e=iW,n=aW,r=sW,i=oW,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],a=250,l=H7,c=xp("start","zoom","end"),u,h,f,p=500,y=150,v=0,S=10;function g(D){D.property("__zoom",PT).on("wheel.zoom",T,{passive:!1}).on("mousedown.zoom",C).on("dblclick.zoom",A).filter(i).on("touchstart.zoom",N).on("touchmove.zoom",L).on("touchend.zoom touchcancel.zoom",P).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(D,H,U,q){var $=D.selection?D.selection():D;$.property("__zoom",PT),D!==$?O(D,H,U,q):$.interrupt().each(function(){M(this,arguments).event(q).start().zoom(null,typeof H=="function"?H.apply(this,arguments):H).end()})},g.scaleBy=function(D,H,U,q){g.scaleTo(D,function(){var $=this.__zoom.k,V=typeof H=="function"?H.apply(this,arguments):H;return $*V},U,q)},g.scaleTo=function(D,H,U,q){g.transform(D,function(){var $=e.apply(this,arguments),V=this.__zoom,j=U==null?k($):typeof U=="function"?U.apply(this,arguments):U,F=V.invert(j),B=typeof H=="function"?H.apply(this,arguments):H;return n(x(w(V,B),j,F),$,o)},U,q)},g.translateBy=function(D,H,U,q){g.transform(D,function(){return n(this.__zoom.translate(typeof H=="function"?H.apply(this,arguments):H,typeof U=="function"?U.apply(this,arguments):U),e.apply(this,arguments),o)},null,q)},g.translateTo=function(D,H,U,q,$){g.transform(D,function(){var V=e.apply(this,arguments),j=this.__zoom,F=q==null?k(V):typeof q=="function"?q.apply(this,arguments):q;return n(ai.translate(F[0],F[1]).scale(j.k).translate(typeof H=="function"?-H.apply(this,arguments):-H,typeof U=="function"?-U.apply(this,arguments):-U),V,o)},q,$)};function w(D,H){return H=Math.max(s[0],Math.min(s[1],H)),H===D.k?D:new ni(H,D.x,D.y)}function x(D,H,U){var q=H[0]-U[0]*D.k,$=H[1]-U[1]*D.k;return q===D.x&&$===D.y?D:new ni(D.k,q,$)}function k(D){return[(+D[0][0]+ +D[1][0])/2,(+D[0][1]+ +D[1][1])/2]}function O(D,H,U,q){D.on("start.zoom",function(){M(this,arguments).event(q).start()}).on("interrupt.zoom end.zoom",function(){M(this,arguments).event(q).end()}).tween("zoom",function(){var $=this,V=arguments,j=M($,V).event(q),F=e.apply($,V),B=U==null?k(F):typeof U=="function"?U.apply($,V):U,G=Math.max(F[1][0]-F[0][0],F[1][1]-F[0][1]),Y=$.__zoom,Z=typeof H=="function"?H.apply($,V):H,ne=l(Y.invert(B).concat(G/Y.k),Z.invert(B).concat(G/Z.k));return function(ae){if(ae===1)ae=Z;else{var pe=ne(ae),ue=G/pe[2];ae=new ni(ue,B[0]-pe[0]*ue,B[1]-pe[1]*ue)}j.zoom(null,ae)}})}function M(D,H,U){return!U&&D.__zooming||new I(D,H)}function I(D,H){this.that=D,this.args=H,this.active=0,this.sourceEvent=null,this.extent=e.apply(D,H),this.taps=0}I.prototype={event:function(D){return D&&(this.sourceEvent=D),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(D,H){return this.mouse&&D!=="mouse"&&(this.mouse[1]=H.invert(this.mouse[0])),this.touch0&&D!=="touch"&&(this.touch0[1]=H.invert(this.touch0[0])),this.touch1&&D!=="touch"&&(this.touch1[1]=H.invert(this.touch1[0])),this.that.__zoom=H,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(D){var H=Qn(this.that).datum();c.call(D,this.that,new nW(D,{sourceEvent:this.sourceEvent,target:g,type:D,transform:this.that.__zoom,dispatch:c}),H)}};function T(D,...H){if(!t.apply(this,arguments))return;var U=M(this,H).event(D),q=this.__zoom,$=Math.max(s[0],Math.min(s[1],q.k*Math.pow(2,r.apply(this,arguments)))),V=dr(D);if(U.wheel)(U.mouse[0][0]!==V[0]||U.mouse[0][1]!==V[1])&&(U.mouse[1]=q.invert(U.mouse[0]=V)),clearTimeout(U.wheel);else{if(q.k===$)return;U.mouse=[V,q.invert(V)],uh(this),U.start()}Cl(D),U.wheel=setTimeout(j,y),U.zoom("mouse",n(x(w(q,$),U.mouse[0],U.mouse[1]),U.extent,o));function j(){U.wheel=null,U.end()}}function C(D,...H){if(f||!t.apply(this,arguments))return;var U=D.currentTarget,q=M(this,H,!0).event(D),$=Qn(D.view).on("mousemove.zoom",B,!0).on("mouseup.zoom",G,!0),V=dr(D,U),j=D.clientX,F=D.clientY;YP(D.view),Bm(D),q.mouse=[V,this.__zoom.invert(V)],uh(this),q.start();function B(Y){if(Cl(Y),!q.moved){var Z=Y.clientX-j,ne=Y.clientY-F;q.moved=Z*Z+ne*ne>v}q.event(Y).zoom("mouse",n(x(q.that.__zoom,q.mouse[0]=dr(Y,U),q.mouse[1]),q.extent,o))}function G(Y){$.on("mousemove.zoom mouseup.zoom",null),QP(Y.view,q.moved),Cl(Y),q.event(Y).end()}}function A(D,...H){if(t.apply(this,arguments)){var U=this.__zoom,q=dr(D.changedTouches?D.changedTouches[0]:D,this),$=U.invert(q),V=U.k*(D.shiftKey?.5:2),j=n(x(w(U,V),q,$),e.apply(this,H),o);Cl(D),a>0?Qn(this).transition().duration(a).call(O,j,q,D):Qn(this).call(g.transform,j,q,D)}}function N(D,...H){if(t.apply(this,arguments)){var U=D.touches,q=U.length,$=M(this,H,D.changedTouches.length===q).event(D),V,j,F,B;for(Bm(D),j=0;j<q;++j)F=U[j],B=dr(F,this),B=[B,this.__zoom.invert(B),F.identifier],$.touch0?!$.touch1&&$.touch0[2]!==B[2]&&($.touch1=B,$.taps=0):($.touch0=B,V=!0,$.taps=1+!!u);u&&(u=clearTimeout(u)),V&&($.taps<2&&(h=B[0],u=setTimeout(function(){u=null},p)),uh(this),$.start())}}function L(D,...H){if(this.__zooming){var U=M(this,H).event(D),q=D.changedTouches,$=q.length,V,j,F,B;for(Cl(D),V=0;V<$;++V)j=q[V],F=dr(j,this),U.touch0&&U.touch0[2]===j.identifier?U.touch0[0]=F:U.touch1&&U.touch1[2]===j.identifier&&(U.touch1[0]=F);if(j=U.that.__zoom,U.touch1){var G=U.touch0[0],Y=U.touch0[1],Z=U.touch1[0],ne=U.touch1[1],ae=(ae=Z[0]-G[0])*ae+(ae=Z[1]-G[1])*ae,pe=(pe=ne[0]-Y[0])*pe+(pe=ne[1]-Y[1])*pe;j=w(j,Math.sqrt(ae/pe)),F=[(G[0]+Z[0])/2,(G[1]+Z[1])/2],B=[(Y[0]+ne[0])/2,(Y[1]+ne[1])/2]}else if(U.touch0)F=U.touch0[0],B=U.touch0[1];else return;U.zoom("touch",n(x(j,F,B),U.extent,o))}}function P(D,...H){if(this.__zooming){var U=M(this,H).event(D),q=D.changedTouches,$=q.length,V,j;for(Bm(D),f&&clearTimeout(f),f=setTimeout(function(){f=null},p),V=0;V<$;++V)j=q[V],U.touch0&&U.touch0[2]===j.identifier?delete U.touch0:U.touch1&&U.touch1[2]===j.identifier&&delete U.touch1;if(U.touch1&&!U.touch0&&(U.touch0=U.touch1,delete U.touch1),U.touch0)U.touch0[1]=this.__zoom.invert(U.touch0[0]);else if(U.end(),U.taps===2&&(j=dr(j,this),Math.hypot(h[0]-j[0],h[1]-j[1])<S)){var F=Qn(this).on("dblclick.zoom");F&&F.apply(this,arguments)}}}return g.wheelDelta=function(D){return arguments.length?(r=typeof D=="function"?D:Pd(+D),g):r},g.filter=function(D){return arguments.length?(t=typeof D=="function"?D:Pd(!!D),g):t},g.touchable=function(D){return arguments.length?(i=typeof D=="function"?D:Pd(!!D),g):i},g.extent=function(D){return arguments.length?(e=typeof D=="function"?D:Pd([[+D[0][0],+D[0][1]],[+D[1][0],+D[1][1]]]),g):e},g.scaleExtent=function(D){return arguments.length?(s[0]=+D[0],s[1]=+D[1],g):[s[0],s[1]]},g.translateExtent=function(D){return arguments.length?(o[0][0]=+D[0][0],o[1][0]=+D[1][0],o[0][1]=+D[0][1],o[1][1]=+D[1][1],g):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},g.constrain=function(D){return arguments.length?(n=D,g):n},g.duration=function(D){return arguments.length?(a=+D,g):a},g.interpolate=function(D){return arguments.length?(l=D,g):l},g.on=function(){var D=c.on.apply(c,arguments);return D===c?g:D},g.clickDistance=function(D){return arguments.length?(v=(D=+D)*D,g):Math.sqrt(v)},g.tapDistance=function(D){return arguments.length?(S=+D,g):S},g}const bp=_.createContext(null),lW=bp.Provider,_i={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,e)=>`Couldn't create edge for ${t?"target":"source"} handle id: "${t?e.targetHandle:e.sourceHandle}", edge id: ${e.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},d2=_i.error001();function ze(t,e){const n=_.useContext(bp);if(n===null)throw new Error(d2);return OP(n,t,e)}const St=()=>{const t=_.useContext(bp);if(t===null)throw new Error(d2);return _.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe,destroy:t.destroy}),[t])},cW=t=>t.userSelectionActive?"none":"all";function kw({position:t,children:e,className:n,style:r,...i}){const s=ze(cW),o=`${t}`.split("-");return W.createElement("div",{className:Ht(["react-flow__panel",n,...o]),style:{...r,pointerEvents:s},...i},e)}function uW({proOptions:t,position:e="bottom-right"}){return t!=null&&t.hideAttribution?null:W.createElement(kw,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},W.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const dW=({x:t,y:e,label:n,labelStyle:r={},labelShowBg:i=!0,labelBgStyle:s={},labelBgPadding:o=[2,4],labelBgBorderRadius:a=2,children:l,className:c,...u})=>{const h=_.useRef(null),[f,p]=_.useState({x:0,y:0,width:0,height:0}),y=Ht(["react-flow__edge-textwrapper",c]);return _.useEffect(()=>{if(h.current){const v=h.current.getBBox();p({x:v.x,y:v.y,width:v.width,height:v.height})}},[n]),typeof n>"u"||!n?null:W.createElement("g",{transform:`translate(${t-f.width/2} ${e-f.height/2})`,className:y,visibility:f.width?"visible":"hidden",...u},i&&W.createElement("rect",{width:f.width+2*o[0],x:-o[0],y:-o[1],height:f.height+2*o[1],className:"react-flow__edge-textbg",style:s,rx:a,ry:a}),W.createElement("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:h,style:r},n),l)};var hW=_.memo(dW);const Aw=t=>({width:t.offsetWidth,height:t.offsetHeight}),Ua=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),Pw=(t={x:0,y:0},e)=>({x:Ua(t.x,e[0][0],e[1][0]),y:Ua(t.y,e[0][1],e[1][1])}),RT=(t,e,n)=>t<e?Ua(Math.abs(t-e),1,50)/50:t>n?-Ua(Math.abs(t-n),1,50)/50:0,h2=(t,e)=>{const n=RT(t.x,35,e.width-35)*20,r=RT(t.y,35,e.height-35)*20;return[n,r]},f2=t=>{var e;return((e=t.getRootNode)==null?void 0:e.call(t))||(window==null?void 0:window.document)},p2=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),Jc=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),m2=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),NT=t=>({...t.positionAbsolute||{x:0,y:0},width:t.width||0,height:t.height||0}),fW=(t,e)=>m2(p2(Jc(t),Jc(e))),qy=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},pW=t=>Jn(t.width)&&Jn(t.height)&&Jn(t.x)&&Jn(t.y),Jn=t=>!isNaN(t)&&isFinite(t),lt=Symbol.for("internals"),g2=["Enter"," ","Escape"],mW=(t,e)=>{},gW=t=>"nativeEvent"in t;function Ky(t){var i,s;const e=gW(t)?t.nativeEvent:t,n=((s=(i=e.composedPath)==null?void 0:i.call(e))==null?void 0:s[0])||t.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const y2=t=>"clientX"in t,cs=(t,e)=>{var s,o;const n=y2(t),r=n?t.clientX:(s=t.touches)==null?void 0:s[0].clientX,i=n?t.clientY:(o=t.touches)==null?void 0:o[0].clientY;return{x:r-((e==null?void 0:e.left)??0),y:i-((e==null?void 0:e.top)??0)}},xf=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0},Ru=({id:t,path:e,labelX:n,labelY:r,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:c,style:u,markerEnd:h,markerStart:f,interactionWidth:p=20})=>W.createElement(W.Fragment,null,W.createElement("path",{id:t,style:u,d:e,fill:"none",className:"react-flow__edge-path",markerEnd:h,markerStart:f}),p&&W.createElement("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:p,className:"react-flow__edge-interaction"}),i&&Jn(n)&&Jn(r)?W.createElement(hW,{x:n,y:r,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:c}):null);Ru.displayName="BaseEdge";function kl(t,e,n){return n===void 0?n:r=>{const i=e().edges.find(s=>s.id===t);i&&n(r,{...i})}}function v2({sourceX:t,sourceY:e,targetX:n,targetY:r}){const i=Math.abs(n-t)/2,s=n<t?n+i:n-i,o=Math.abs(r-e)/2,a=r<e?r+o:r-o;return[s,a,i,o]}function w2({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:i,sourceControlY:s,targetControlX:o,targetControlY:a}){const l=t*.125+i*.375+o*.375+n*.125,c=e*.125+s*.375+a*.375+r*.125,u=Math.abs(l-t),h=Math.abs(c-e);return[l,c,u,h]}var mo;(function(t){t.Strict="strict",t.Loose="loose"})(mo||(mo={}));var Gs;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(Gs||(Gs={}));var Zc;(function(t){t.Partial="partial",t.Full="full"})(Zc||(Zc={}));var zi;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(zi||(zi={}));var Ef;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(Ef||(Ef={}));var ce;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(ce||(ce={}));function DT({pos:t,x1:e,y1:n,x2:r,y2:i}){return t===ce.Left||t===ce.Right?[.5*(e+r),n]:[e,.5*(n+i)]}function _2({sourceX:t,sourceY:e,sourcePosition:n=ce.Bottom,targetX:r,targetY:i,targetPosition:s=ce.Top}){const[o,a]=DT({pos:n,x1:t,y1:e,x2:r,y2:i}),[l,c]=DT({pos:s,x1:r,y1:i,x2:t,y2:e}),[u,h,f,p]=w2({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:o,sourceControlY:a,targetControlX:l,targetControlY:c});return[`M${t},${e} C${o},${a} ${l},${c} ${r},${i}`,u,h,f,p]}const Rw=_.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,sourcePosition:i=ce.Bottom,targetPosition:s=ce.Top,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:h,style:f,markerEnd:p,markerStart:y,interactionWidth:v})=>{const[S,g,w]=_2({sourceX:t,sourceY:e,sourcePosition:i,targetX:n,targetY:r,targetPosition:s});return W.createElement(Ru,{path:S,labelX:g,labelY:w,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:h,style:f,markerEnd:p,markerStart:y,interactionWidth:v})});Rw.displayName="SimpleBezierEdge";const MT={[ce.Left]:{x:-1,y:0},[ce.Right]:{x:1,y:0},[ce.Top]:{x:0,y:-1},[ce.Bottom]:{x:0,y:1}},yW=({source:t,sourcePosition:e=ce.Bottom,target:n})=>e===ce.Left||e===ce.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},VT=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function vW({source:t,sourcePosition:e=ce.Bottom,target:n,targetPosition:r=ce.Top,center:i,offset:s}){const o=MT[e],a=MT[r],l={x:t.x+o.x*s,y:t.y+o.y*s},c={x:n.x+a.x*s,y:n.y+a.y*s},u=yW({source:l,sourcePosition:e,target:c}),h=u.x!==0?"x":"y",f=u[h];let p=[],y,v;const S={x:0,y:0},g={x:0,y:0},[w,x,k,O]=v2({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(o[h]*a[h]===-1){y=i.x??w,v=i.y??x;const I=[{x:y,y:l.y},{x:y,y:c.y}],T=[{x:l.x,y:v},{x:c.x,y:v}];o[h]===f?p=h==="x"?I:T:p=h==="x"?T:I}else{const I=[{x:l.x,y:c.y}],T=[{x:c.x,y:l.y}];if(h==="x"?p=o.x===f?T:I:p=o.y===f?I:T,e===r){const P=Math.abs(t[h]-n[h]);if(P<=s){const D=Math.min(s-1,s-P);o[h]===f?S[h]=(l[h]>t[h]?-1:1)*D:g[h]=(c[h]>n[h]?-1:1)*D}}if(e!==r){const P=h==="x"?"y":"x",D=o[h]===a[P],H=l[P]>c[P],U=l[P]<c[P];(o[h]===1&&(!D&&H||D&&U)||o[h]!==1&&(!D&&U||D&&H))&&(p=h==="x"?I:T)}const C={x:l.x+S.x,y:l.y+S.y},A={x:c.x+g.x,y:c.y+g.y},N=Math.max(Math.abs(C.x-p[0].x),Math.abs(A.x-p[0].x)),L=Math.max(Math.abs(C.y-p[0].y),Math.abs(A.y-p[0].y));N>=L?(y=(C.x+A.x)/2,v=p[0].y):(y=p[0].x,v=(C.y+A.y)/2)}return[[t,{x:l.x+S.x,y:l.y+S.y},...p,{x:c.x+g.x,y:c.y+g.y},n],y,v,k,O]}function wW(t,e,n,r){const i=Math.min(VT(t,e)/2,VT(e,n)/2,r),{x:s,y:o}=e;if(t.x===s&&s===n.x||t.y===o&&o===n.y)return`L${s} ${o}`;if(t.y===o){const c=t.x<n.x?-1:1,u=t.y<n.y?1:-1;return`L ${s+i*c},${o}Q ${s},${o} ${s},${o+i*u}`}const a=t.x<n.x?1:-1,l=t.y<n.y?-1:1;return`L ${s},${o+i*l}Q ${s},${o} ${s+i*a},${o}`}function Gy({sourceX:t,sourceY:e,sourcePosition:n=ce.Bottom,targetX:r,targetY:i,targetPosition:s=ce.Top,borderRadius:o=5,centerX:a,centerY:l,offset:c=20}){const[u,h,f,p,y]=vW({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:i},targetPosition:s,center:{x:a,y:l},offset:c});return[u.reduce((S,g,w)=>{let x="";return w>0&&w<u.length-1?x=wW(u[w-1],g,u[w+1],o):x=`${w===0?"M":"L"}${g.x} ${g.y}`,S+=x,S},""),h,f,p,y]}const Ip=_.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:c,style:u,sourcePosition:h=ce.Bottom,targetPosition:f=ce.Top,markerEnd:p,markerStart:y,pathOptions:v,interactionWidth:S})=>{const[g,w,x]=Gy({sourceX:t,sourceY:e,sourcePosition:h,targetX:n,targetY:r,targetPosition:f,borderRadius:v==null?void 0:v.borderRadius,offset:v==null?void 0:v.offset});return W.createElement(Ru,{path:g,labelX:w,labelY:x,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:c,style:u,markerEnd:p,markerStart:y,interactionWidth:S})});Ip.displayName="SmoothStepEdge";const Nw=_.memo(t=>{var e;return W.createElement(Ip,{...t,pathOptions:_.useMemo(()=>{var n;return{borderRadius:0,offset:(n=t.pathOptions)==null?void 0:n.offset}},[(e=t.pathOptions)==null?void 0:e.offset])})});Nw.displayName="StepEdge";function _W({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[i,s,o,a]=v2({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,i,s,o,a]}const Dw=_.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:c,style:u,markerEnd:h,markerStart:f,interactionWidth:p})=>{const[y,v,S]=_W({sourceX:t,sourceY:e,targetX:n,targetY:r});return W.createElement(Ru,{path:y,labelX:v,labelY:S,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:c,style:u,markerEnd:h,markerStart:f,interactionWidth:p})});Dw.displayName="StraightEdge";function Rd(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function OT({pos:t,x1:e,y1:n,x2:r,y2:i,c:s}){switch(t){case ce.Left:return[e-Rd(e-r,s),n];case ce.Right:return[e+Rd(r-e,s),n];case ce.Top:return[e,n-Rd(n-i,s)];case ce.Bottom:return[e,n+Rd(i-n,s)]}}function x2({sourceX:t,sourceY:e,sourcePosition:n=ce.Bottom,targetX:r,targetY:i,targetPosition:s=ce.Top,curvature:o=.25}){const[a,l]=OT({pos:n,x1:t,y1:e,x2:r,y2:i,c:o}),[c,u]=OT({pos:s,x1:r,y1:i,x2:t,y2:e,c:o}),[h,f,p,y]=w2({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:a,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${t},${e} C${a},${l} ${c},${u} ${r},${i}`,h,f,p,y]}const Tf=_.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,sourcePosition:i=ce.Bottom,targetPosition:s=ce.Top,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:h,style:f,markerEnd:p,markerStart:y,pathOptions:v,interactionWidth:S})=>{const[g,w,x]=x2({sourceX:t,sourceY:e,sourcePosition:i,targetX:n,targetY:r,targetPosition:s,curvature:v==null?void 0:v.curvature});return W.createElement(Ru,{path:g,labelX:w,labelY:x,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:h,style:f,markerEnd:p,markerStart:y,interactionWidth:S})});Tf.displayName="BezierEdge";const Mw=_.createContext(null),xW=Mw.Provider;Mw.Consumer;const EW=()=>_.useContext(Mw),TW=t=>"id"in t&&"source"in t&&"target"in t,SW=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`reactflow__edge-${t}${e||""}-${n}${r||""}`,Yy=(t,e)=>typeof t>"u"?"":typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`,bW=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),IW=(t,e)=>{if(!t.source||!t.target)return e;let n;return TW(t)?n={...t}:n={...t,id:SW(t)},bW(n,e)?e:e.concat(n)},Qy=({x:t,y:e},[n,r,i],s,[o,a])=>{const l={x:(t-n)/i,y:(e-r)/i};return s?{x:o*Math.round(l.x/o),y:a*Math.round(l.y/a)}:l},E2=({x:t,y:e},[n,r,i])=>({x:t*i+n,y:e*i+r}),to=(t,e=[0,0])=>{if(!t)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(t.width??0)*e[0],r=(t.height??0)*e[1],i={x:t.position.x-n,y:t.position.y-r};return{...i,positionAbsolute:t.positionAbsolute?{x:t.positionAbsolute.x-n,y:t.positionAbsolute.y-r}:i}},Cp=(t,e=[0,0])=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,i)=>{const{x:s,y:o}=to(i,e).positionAbsolute;return p2(r,Jc({x:s,y:o,width:i.width||0,height:i.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return m2(n)},T2=(t,e,[n,r,i]=[0,0,1],s=!1,o=!1,a=[0,0])=>{const l={x:(e.x-n)/i,y:(e.y-r)/i,width:e.width/i,height:e.height/i},c=[];return t.forEach(u=>{const{width:h,height:f,selectable:p=!0,hidden:y=!1}=u;if(o&&!p||y)return!1;const{positionAbsolute:v}=to(u,a),S={x:v.x,y:v.y,width:h||0,height:f||0},g=qy(l,S),w=typeof h>"u"||typeof f>"u"||h===null||f===null,x=s&&g>0,k=(h||0)*(f||0);(w||x||g>=k||u.dragging)&&c.push(u)}),c},S2=(t,e)=>{const n=t.map(r=>r.id);return e.filter(r=>n.includes(r.source)||n.includes(r.target))},b2=(t,e,n,r,i,s=.1)=>{const o=e/(t.width*(1+s)),a=n/(t.height*(1+s)),l=Math.min(o,a),c=Ua(l,r,i),u=t.x+t.width/2,h=t.y+t.height/2,f=e/2-u*c,p=n/2-h*c;return{x:f,y:p,zoom:c}},js=(t,e=0)=>t.transition().duration(e);function LT(t,e,n,r){return(e[n]||[]).reduce((i,s)=>{var o,a;return`${t.id}-${s.id}-${n}`!==r&&i.push({id:s.id||null,type:n,nodeId:t.id,x:(((o=t.positionAbsolute)==null?void 0:o.x)??0)+s.x+s.width/2,y:(((a=t.positionAbsolute)==null?void 0:a.y)??0)+s.y+s.height/2}),i},[])}function CW(t,e,n,r,i,s){const{x:o,y:a}=cs(t),c=e.elementsFromPoint(o,a).find(y=>y.classList.contains("react-flow__handle"));if(c){const y=c.getAttribute("data-nodeid");if(y){const v=Vw(void 0,c),S=c.getAttribute("data-handleid"),g=s({nodeId:y,id:S,type:v});if(g){const w=i.find(x=>x.nodeId===y&&x.type===v&&x.id===S);return{handle:{id:S,type:v,nodeId:y,x:(w==null?void 0:w.x)||n.x,y:(w==null?void 0:w.y)||n.y},validHandleResult:g}}}}let u=[],h=1/0;if(i.forEach(y=>{const v=Math.sqrt((y.x-n.x)**2+(y.y-n.y)**2);if(v<=r){const S=s(y);v<=h&&(v<h?u=[{handle:y,validHandleResult:S}]:v===h&&u.push({handle:y,validHandleResult:S}),h=v)}}),!u.length)return{handle:null,validHandleResult:I2()};if(u.length===1)return u[0];const f=u.some(({validHandleResult:y})=>y.isValid),p=u.some(({handle:y})=>y.type==="target");return u.find(({handle:y,validHandleResult:v})=>p?y.type==="target":f?v.isValid:!0)||u[0]}const kW={source:null,target:null,sourceHandle:null,targetHandle:null},I2=()=>({handleDomNode:null,isValid:!1,connection:kW,endHandle:null});function C2(t,e,n,r,i,s,o){const a=i==="target",l=o.querySelector(`.react-flow__handle[data-id="${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`),c={...I2(),handleDomNode:l};if(l){const u=Vw(void 0,l),h=l.getAttribute("data-nodeid"),f=l.getAttribute("data-handleid"),p=l.classList.contains("connectable"),y=l.classList.contains("connectableend"),v={source:a?h:n,sourceHandle:a?f:r,target:a?n:h,targetHandle:a?r:f};c.connection=v,p&&y&&(e===mo.Strict?a&&u==="source"||!a&&u==="target":h!==n||f!==r)&&(c.endHandle={nodeId:h,handleId:f,type:u},c.isValid=s(v))}return c}function AW({nodes:t,nodeId:e,handleId:n,handleType:r}){return t.reduce((i,s)=>{if(s[lt]){const{handleBounds:o}=s[lt];let a=[],l=[];o&&(a=LT(s,o,"source",`${e}-${n}-${r}`),l=LT(s,o,"target",`${e}-${n}-${r}`)),i.push(...a,...l)}return i},[])}function Vw(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function zm(t){t==null||t.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function PW(t,e){let n=null;return e?n="valid":t&&!e&&(n="invalid"),n}function k2({event:t,handleId:e,nodeId:n,onConnect:r,isTarget:i,getState:s,setState:o,isValidConnection:a,edgeUpdaterType:l,onReconnectEnd:c}){const u=f2(t.target),{connectionMode:h,domNode:f,autoPanOnConnect:p,connectionRadius:y,onConnectStart:v,panBy:S,getNodes:g,cancelConnection:w}=s();let x=0,k;const{x:O,y:M}=cs(t),I=u==null?void 0:u.elementFromPoint(O,M),T=Vw(l,I),C=f==null?void 0:f.getBoundingClientRect();if(!C||!T)return;let A,N=cs(t,C),L=!1,P=null,D=!1,H=null;const U=AW({nodes:g(),nodeId:n,handleId:e,handleType:T}),q=()=>{if(!p)return;const[j,F]=h2(N,C);S({x:j,y:F}),x=requestAnimationFrame(q)};o({connectionPosition:N,connectionStatus:null,connectionNodeId:n,connectionHandleId:e,connectionHandleType:T,connectionStartHandle:{nodeId:n,handleId:e,type:T},connectionEndHandle:null}),v==null||v(t,{nodeId:n,handleId:e,handleType:T});function $(j){const{transform:F}=s();N=cs(j,C);const{handle:B,validHandleResult:G}=CW(j,u,Qy(N,F,!1,[1,1]),y,U,Y=>C2(Y,h,n,e,i?"target":"source",a,u));if(k=B,L||(q(),L=!0),H=G.handleDomNode,P=G.connection,D=G.isValid,o({connectionPosition:k&&D?E2({x:k.x,y:k.y},F):N,connectionStatus:PW(!!k,D),connectionEndHandle:G.endHandle}),!k&&!D&&!H)return zm(A);P.source!==P.target&&H&&(zm(A),A=H,H.classList.add("connecting","react-flow__handle-connecting"),H.classList.toggle("valid",D),H.classList.toggle("react-flow__handle-valid",D))}function V(j){var F,B;(k||H)&&P&&D&&(r==null||r(P)),(B=(F=s()).onConnectEnd)==null||B.call(F,j),l&&(c==null||c(j)),zm(A),w(),cancelAnimationFrame(x),L=!1,D=!1,P=null,H=null,u.removeEventListener("mousemove",$),u.removeEventListener("mouseup",V),u.removeEventListener("touchmove",$),u.removeEventListener("touchend",V)}u.addEventListener("mousemove",$),u.addEventListener("mouseup",V),u.addEventListener("touchmove",$),u.addEventListener("touchend",V)}const jT=()=>!0,RW=t=>({connectionStartHandle:t.connectionStartHandle,connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName}),NW=(t,e,n)=>r=>{const{connectionStartHandle:i,connectionEndHandle:s,connectionClickStartHandle:o}=r;return{connecting:(i==null?void 0:i.nodeId)===t&&(i==null?void 0:i.handleId)===e&&(i==null?void 0:i.type)===n||(s==null?void 0:s.nodeId)===t&&(s==null?void 0:s.handleId)===e&&(s==null?void 0:s.type)===n,clickConnecting:(o==null?void 0:o.nodeId)===t&&(o==null?void 0:o.handleId)===e&&(o==null?void 0:o.type)===n}},A2=_.forwardRef(({type:t="source",position:e=ce.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:s=!0,id:o,onConnect:a,children:l,className:c,onMouseDown:u,onTouchStart:h,...f},p)=>{var C,A;const y=o||null,v=t==="target",S=St(),g=EW(),{connectOnClick:w,noPanClassName:x}=ze(RW,Dt),{connecting:k,clickConnecting:O}=ze(NW(g,y,t),Dt);g||(A=(C=S.getState()).onError)==null||A.call(C,"010",_i.error010());const M=N=>{const{defaultEdgeOptions:L,onConnect:P,hasDefaultEdges:D}=S.getState(),H={...L,...N};if(D){const{edges:U,setEdges:q}=S.getState();q(IW(H,U))}P==null||P(H),a==null||a(H)},I=N=>{if(!g)return;const L=y2(N);i&&(L&&N.button===0||!L)&&k2({event:N,handleId:y,nodeId:g,onConnect:M,isTarget:v,getState:S.getState,setState:S.setState,isValidConnection:n||S.getState().isValidConnection||jT}),L?u==null||u(N):h==null||h(N)},T=N=>{const{onClickConnectStart:L,onClickConnectEnd:P,connectionClickStartHandle:D,connectionMode:H,isValidConnection:U}=S.getState();if(!g||!D&&!i)return;if(!D){L==null||L(N,{nodeId:g,handleId:y,handleType:t}),S.setState({connectionClickStartHandle:{nodeId:g,type:t,handleId:y}});return}const q=f2(N.target),$=n||U||jT,{connection:V,isValid:j}=C2({nodeId:g,id:y,type:t},H,D.nodeId,D.handleId||null,D.type,$,q);j&&M(V),P==null||P(N),S.setState({connectionClickStartHandle:null})};return W.createElement("div",{"data-handleid":y,"data-nodeid":g,"data-handlepos":e,"data-id":`${g}-${y}-${t}`,className:Ht(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",x,c,{source:!v,target:v,connectable:r,connectablestart:i,connectableend:s,connecting:O,connectionindicator:r&&(i&&!k||s&&k)}]),onMouseDown:I,onTouchStart:I,onClick:w?T:void 0,ref:p,...f},l)});A2.displayName="Handle";var $a=_.memo(A2);const P2=({data:t,isConnectable:e,targetPosition:n=ce.Top,sourcePosition:r=ce.Bottom})=>W.createElement(W.Fragment,null,W.createElement($a,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label,W.createElement($a,{type:"source",position:r,isConnectable:e}));P2.displayName="DefaultNode";var Xy=_.memo(P2);const R2=({data:t,isConnectable:e,sourcePosition:n=ce.Bottom})=>W.createElement(W.Fragment,null,t==null?void 0:t.label,W.createElement($a,{type:"source",position:n,isConnectable:e}));R2.displayName="InputNode";var N2=_.memo(R2);const D2=({data:t,isConnectable:e,targetPosition:n=ce.Top})=>W.createElement(W.Fragment,null,W.createElement($a,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label);D2.displayName="OutputNode";var M2=_.memo(D2);const Ow=()=>null;Ow.displayName="GroupNode";const DW=t=>({selectedNodes:t.getNodes().filter(e=>e.selected),selectedEdges:t.edges.filter(e=>e.selected).map(e=>({...e}))}),Nd=t=>t.id;function MW(t,e){return Dt(t.selectedNodes.map(Nd),e.selectedNodes.map(Nd))&&Dt(t.selectedEdges.map(Nd),e.selectedEdges.map(Nd))}const V2=_.memo(({onSelectionChange:t})=>{const e=St(),{selectedNodes:n,selectedEdges:r}=ze(DW,MW);return _.useEffect(()=>{const i={nodes:n,edges:r};t==null||t(i),e.getState().onSelectionChange.forEach(s=>s(i))},[n,r,t]),null});V2.displayName="SelectionListener";const VW=t=>!!t.onSelectionChange;function OW({onSelectionChange:t}){const e=ze(VW);return t||e?W.createElement(V2,{onSelectionChange:t}):null}const LW=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset});function Mo(t,e){_.useEffect(()=>{typeof t<"u"&&e(t)},[t])}function xe(t,e,n){_.useEffect(()=>{typeof e<"u"&&n({[t]:e})},[e])}const jW=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:i,onConnectStart:s,onConnectEnd:o,onClickConnectStart:a,onClickConnectEnd:l,nodesDraggable:c,nodesConnectable:u,nodesFocusable:h,edgesFocusable:f,edgesUpdatable:p,elevateNodesOnSelect:y,minZoom:v,maxZoom:S,nodeExtent:g,onNodesChange:w,onEdgesChange:x,elementsSelectable:k,connectionMode:O,snapGrid:M,snapToGrid:I,translateExtent:T,connectOnClick:C,defaultEdgeOptions:A,fitView:N,fitViewOptions:L,onNodesDelete:P,onEdgesDelete:D,onNodeDrag:H,onNodeDragStart:U,onNodeDragStop:q,onSelectionDrag:$,onSelectionDragStart:V,onSelectionDragStop:j,noPanClassName:F,nodeOrigin:B,rfId:G,autoPanOnConnect:Y,autoPanOnNodeDrag:Z,onError:ne,connectionRadius:ae,isValidConnection:pe,nodeDragThreshold:ue})=>{const{setNodes:te,setEdges:we,setDefaultNodesAndEdges:_e,setMinZoom:Fe,setMaxZoom:De,setTranslateExtent:Ae,setNodeExtent:Qe,reset:Ce}=ze(LW,Dt),le=St();return _.useEffect(()=>{const it=r==null?void 0:r.map(st=>({...st,...A}));return _e(n,it),()=>{Ce()}},[]),xe("defaultEdgeOptions",A,le.setState),xe("connectionMode",O,le.setState),xe("onConnect",i,le.setState),xe("onConnectStart",s,le.setState),xe("onConnectEnd",o,le.setState),xe("onClickConnectStart",a,le.setState),xe("onClickConnectEnd",l,le.setState),xe("nodesDraggable",c,le.setState),xe("nodesConnectable",u,le.setState),xe("nodesFocusable",h,le.setState),xe("edgesFocusable",f,le.setState),xe("edgesUpdatable",p,le.setState),xe("elementsSelectable",k,le.setState),xe("elevateNodesOnSelect",y,le.setState),xe("snapToGrid",I,le.setState),xe("snapGrid",M,le.setState),xe("onNodesChange",w,le.setState),xe("onEdgesChange",x,le.setState),xe("connectOnClick",C,le.setState),xe("fitViewOnInit",N,le.setState),xe("fitViewOnInitOptions",L,le.setState),xe("onNodesDelete",P,le.setState),xe("onEdgesDelete",D,le.setState),xe("onNodeDrag",H,le.setState),xe("onNodeDragStart",U,le.setState),xe("onNodeDragStop",q,le.setState),xe("onSelectionDrag",$,le.setState),xe("onSelectionDragStart",V,le.setState),xe("onSelectionDragStop",j,le.setState),xe("noPanClassName",F,le.setState),xe("nodeOrigin",B,le.setState),xe("rfId",G,le.setState),xe("autoPanOnConnect",Y,le.setState),xe("autoPanOnNodeDrag",Z,le.setState),xe("onError",ne,le.setState),xe("connectionRadius",ae,le.setState),xe("isValidConnection",pe,le.setState),xe("nodeDragThreshold",ue,le.setState),Mo(t,te),Mo(e,we),Mo(v,Fe),Mo(S,De),Mo(T,Ae),Mo(g,Qe),null},FT={display:"none"},FW={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},O2="react-flow__node-desc",L2="react-flow__edge-desc",UW="react-flow__aria-live",$W=t=>t.ariaLiveMessage;function BW({rfId:t}){const e=ze($W);return W.createElement("div",{id:`${UW}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:FW},e)}function zW({rfId:t,disableKeyboardA11y:e}){return W.createElement(W.Fragment,null,W.createElement("div",{id:`${O2}-${t}`,style:FT},"Press enter or space to select a node.",!e&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),W.createElement("div",{id:`${L2}-${t}`,style:FT},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!e&&W.createElement(BW,{rfId:t}))}var eu=(t=null,e={actInsideInputWithModifier:!0})=>{const[n,r]=_.useState(!1),i=_.useRef(!1),s=_.useRef(new Set([])),[o,a]=_.useMemo(()=>{if(t!==null){const c=(Array.isArray(t)?t:[t]).filter(h=>typeof h=="string").map(h=>h.split("+")),u=c.reduce((h,f)=>h.concat(...f),[]);return[c,u]}return[[],[]]},[t]);return _.useEffect(()=>{const l=typeof document<"u"?document:null,c=(e==null?void 0:e.target)||l;if(t!==null){const u=p=>{if(i.current=p.ctrlKey||p.metaKey||p.shiftKey,(!i.current||i.current&&!e.actInsideInputWithModifier)&&Ky(p))return!1;const v=$T(p.code,a);s.current.add(p[v]),UT(o,s.current,!1)&&(p.preventDefault(),r(!0))},h=p=>{if((!i.current||i.current&&!e.actInsideInputWithModifier)&&Ky(p))return!1;const v=$T(p.code,a);UT(o,s.current,!0)?(r(!1),s.current.clear()):s.current.delete(p[v]),p.key==="Meta"&&s.current.clear(),i.current=!1},f=()=>{s.current.clear(),r(!1)};return c==null||c.addEventListener("keydown",u),c==null||c.addEventListener("keyup",h),window.addEventListener("blur",f),()=>{c==null||c.removeEventListener("keydown",u),c==null||c.removeEventListener("keyup",h),window.removeEventListener("blur",f)}}},[t,r]),n};function UT(t,e,n){return t.filter(r=>n||r.length===e.size).some(r=>r.every(i=>e.has(i)))}function $T(t,e){return e.includes(t)?"code":"key"}function j2(t,e,n,r){var a,l;const i=t.parentNode||t.parentId;if(!i)return n;const s=e.get(i),o=to(s,r);return j2(s,e,{x:(n.x??0)+o.x,y:(n.y??0)+o.y,z:(((a=s[lt])==null?void 0:a.z)??0)>(n.z??0)?((l=s[lt])==null?void 0:l.z)??0:n.z??0},r)}function F2(t,e,n){t.forEach(r=>{var s;const i=r.parentNode||r.parentId;if(i&&!t.has(i))throw new Error(`Parent node ${i} not found`);if(i||n!=null&&n[r.id]){const{x:o,y:a,z:l}=j2(r,t,{...r.position,z:((s=r[lt])==null?void 0:s.z)??0},e);r.positionAbsolute={x:o,y:a},r[lt].z=l,n!=null&&n[r.id]&&(r[lt].isParent=!0)}})}function Hm(t,e,n,r){const i=new Map,s={},o=r?1e3:0;return t.forEach(a=>{var p;const l=(Jn(a.zIndex)?a.zIndex:0)+(a.selected?o:0),c=e.get(a.id),u={...a,positionAbsolute:{x:a.position.x,y:a.position.y}},h=a.parentNode||a.parentId;h&&(s[h]=!0);const f=(c==null?void 0:c.type)&&(c==null?void 0:c.type)!==a.type;Object.defineProperty(u,lt,{enumerable:!1,value:{handleBounds:f||(p=c==null?void 0:c[lt])==null?void 0:p.handleBounds,z:l}}),i.set(a.id,u)}),F2(i,n,s),i}function U2(t,e={}){const{getNodes:n,width:r,height:i,minZoom:s,maxZoom:o,d3Zoom:a,d3Selection:l,fitViewOnInitDone:c,fitViewOnInit:u,nodeOrigin:h}=t(),f=e.initial&&!c&&u;if(a&&l&&(f||!e.initial)){const y=n().filter(S=>{var w;const g=e.includeHiddenNodes?S.width&&S.height:!S.hidden;return(w=e.nodes)!=null&&w.length?g&&e.nodes.some(x=>x.id===S.id):g}),v=y.every(S=>S.width&&S.height);if(y.length>0&&v){const S=Cp(y,h),{x:g,y:w,zoom:x}=b2(S,r,i,e.minZoom??s,e.maxZoom??o,e.padding??.1),k=ai.translate(g,w).scale(x);return typeof e.duration=="number"&&e.duration>0?a.transform(js(l,e.duration),k):a.transform(l,k),!0}}return!1}function HW(t,e){return t.forEach(n=>{const r=e.get(n.id);r&&e.set(r.id,{...r,[lt]:r[lt],selected:n.selected})}),new Map(e)}function WW(t,e){return e.map(n=>{const r=t.find(i=>i.id===n.id);return r&&(n.selected=r.selected),n})}function Dd({changedNodes:t,changedEdges:e,get:n,set:r}){const{nodeInternals:i,edges:s,onNodesChange:o,onEdgesChange:a,hasDefaultNodes:l,hasDefaultEdges:c}=n();t!=null&&t.length&&(l&&r({nodeInternals:HW(t,i)}),o==null||o(t)),e!=null&&e.length&&(c&&r({edges:WW(e,s)}),a==null||a(e))}const Vo=()=>{},qW={zoomIn:Vo,zoomOut:Vo,zoomTo:Vo,getZoom:()=>1,setViewport:Vo,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Vo,fitBounds:Vo,project:t=>t,screenToFlowPosition:t=>t,flowToScreenPosition:t=>t,viewportInitialized:!1},KW=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection}),GW=()=>{const t=St(),{d3Zoom:e,d3Selection:n}=ze(KW,Dt);return _.useMemo(()=>n&&e?{zoomIn:i=>e.scaleBy(js(n,i==null?void 0:i.duration),1.2),zoomOut:i=>e.scaleBy(js(n,i==null?void 0:i.duration),1/1.2),zoomTo:(i,s)=>e.scaleTo(js(n,s==null?void 0:s.duration),i),getZoom:()=>t.getState().transform[2],setViewport:(i,s)=>{const[o,a,l]=t.getState().transform,c=ai.translate(i.x??o,i.y??a).scale(i.zoom??l);e.transform(js(n,s==null?void 0:s.duration),c)},getViewport:()=>{const[i,s,o]=t.getState().transform;return{x:i,y:s,zoom:o}},fitView:i=>U2(t.getState,i),setCenter:(i,s,o)=>{const{width:a,height:l,maxZoom:c}=t.getState(),u=typeof(o==null?void 0:o.zoom)<"u"?o.zoom:c,h=a/2-i*u,f=l/2-s*u,p=ai.translate(h,f).scale(u);e.transform(js(n,o==null?void 0:o.duration),p)},fitBounds:(i,s)=>{const{width:o,height:a,minZoom:l,maxZoom:c}=t.getState(),{x:u,y:h,zoom:f}=b2(i,o,a,l,c,(s==null?void 0:s.padding)??.1),p=ai.translate(u,h).scale(f);e.transform(js(n,s==null?void 0:s.duration),p)},project:i=>{const{transform:s,snapToGrid:o,snapGrid:a}=t.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),Qy(i,s,o,a)},screenToFlowPosition:i=>{const{transform:s,snapToGrid:o,snapGrid:a,domNode:l}=t.getState();if(!l)return i;const{x:c,y:u}=l.getBoundingClientRect(),h={x:i.x-c,y:i.y-u};return Qy(h,s,o,a)},flowToScreenPosition:i=>{const{transform:s,domNode:o}=t.getState();if(!o)return i;const{x:a,y:l}=o.getBoundingClientRect(),c=E2(i,s);return{x:c.x+a,y:c.y+l}},viewportInitialized:!0}:qW,[e,n])};function kp(){const t=GW(),e=St(),n=_.useCallback(()=>e.getState().getNodes().map(v=>({...v})),[]),r=_.useCallback(v=>e.getState().nodeInternals.get(v),[]),i=_.useCallback(()=>{const{edges:v=[]}=e.getState();return v.map(S=>({...S}))},[]),s=_.useCallback(v=>{const{edges:S=[]}=e.getState();return S.find(g=>g.id===v)},[]),o=_.useCallback(v=>{const{getNodes:S,setNodes:g,hasDefaultNodes:w,onNodesChange:x}=e.getState(),k=S(),O=typeof v=="function"?v(k):v;if(w)g(O);else if(x){const M=O.length===0?k.map(I=>({type:"remove",id:I.id})):O.map(I=>({item:I,type:"reset"}));x(M)}},[]),a=_.useCallback(v=>{const{edges:S=[],setEdges:g,hasDefaultEdges:w,onEdgesChange:x}=e.getState(),k=typeof v=="function"?v(S):v;if(w)g(k);else if(x){const O=k.length===0?S.map(M=>({type:"remove",id:M.id})):k.map(M=>({item:M,type:"reset"}));x(O)}},[]),l=_.useCallback(v=>{const S=Array.isArray(v)?v:[v],{getNodes:g,setNodes:w,hasDefaultNodes:x,onNodesChange:k}=e.getState();if(x){const M=[...g(),...S];w(M)}else if(k){const O=S.map(M=>({item:M,type:"add"}));k(O)}},[]),c=_.useCallback(v=>{const S=Array.isArray(v)?v:[v],{edges:g=[],setEdges:w,hasDefaultEdges:x,onEdgesChange:k}=e.getState();if(x)w([...g,...S]);else if(k){const O=S.map(M=>({item:M,type:"add"}));k(O)}},[]),u=_.useCallback(()=>{const{getNodes:v,edges:S=[],transform:g}=e.getState(),[w,x,k]=g;return{nodes:v().map(O=>({...O})),edges:S.map(O=>({...O})),viewport:{x:w,y:x,zoom:k}}},[]),h=_.useCallback(({nodes:v,edges:S})=>{const{nodeInternals:g,getNodes:w,edges:x,hasDefaultNodes:k,hasDefaultEdges:O,onNodesDelete:M,onEdgesDelete:I,onNodesChange:T,onEdgesChange:C}=e.getState(),A=(v||[]).map(H=>H.id),N=(S||[]).map(H=>H.id),L=w().reduce((H,U)=>{const q=U.parentNode||U.parentId,$=!A.includes(U.id)&&q&&H.find(j=>j.id===q);return(typeof U.deletable=="boolean"?U.deletable:!0)&&(A.includes(U.id)||$)&&H.push(U),H},[]),P=x.filter(H=>typeof H.deletable=="boolean"?H.deletable:!0),D=P.filter(H=>N.includes(H.id));if(L||D){const H=S2(L,P),U=[...D,...H],q=U.reduce(($,V)=>($.includes(V.id)||$.push(V.id),$),[]);if((O||k)&&(O&&e.setState({edges:x.filter($=>!q.includes($.id))}),k&&(L.forEach($=>{g.delete($.id)}),e.setState({nodeInternals:new Map(g)}))),q.length>0&&(I==null||I(U),C&&C(q.map($=>({id:$,type:"remove"})))),L.length>0&&(M==null||M(L),T)){const $=L.map(V=>({id:V.id,type:"remove"}));T($)}}},[]),f=_.useCallback(v=>{const S=pW(v),g=S?null:e.getState().nodeInternals.get(v.id);return!S&&!g?[null,null,S]:[S?v:NT(g),g,S]},[]),p=_.useCallback((v,S=!0,g)=>{const[w,x,k]=f(v);return w?(g||e.getState().getNodes()).filter(O=>{if(!k&&(O.id===x.id||!O.positionAbsolute))return!1;const M=NT(O),I=qy(M,w);return S&&I>0||I>=w.width*w.height}):[]},[]),y=_.useCallback((v,S,g=!0)=>{const[w]=f(v);if(!w)return!1;const x=qy(w,S);return g&&x>0||x>=w.width*w.height},[]);return _.useMemo(()=>({...t,getNodes:n,getNode:r,getEdges:i,getEdge:s,setNodes:o,setEdges:a,addNodes:l,addEdges:c,toObject:u,deleteElements:h,getIntersectingNodes:p,isNodeIntersecting:y}),[t,n,r,i,s,o,a,l,c,u,h,p,y])}const YW={actInsideInputWithModifier:!1};var QW=({deleteKeyCode:t,multiSelectionKeyCode:e})=>{const n=St(),{deleteElements:r}=kp(),i=eu(t,YW),s=eu(e);_.useEffect(()=>{if(i){const{edges:o,getNodes:a}=n.getState(),l=a().filter(u=>u.selected),c=o.filter(u=>u.selected);r({nodes:l,edges:c}),n.setState({nodesSelectionActive:!1})}},[i]),_.useEffect(()=>{n.setState({multiSelectionActive:s})},[s])};function XW(t){const e=St();_.useEffect(()=>{let n;const r=()=>{var s,o;if(!t.current)return;const i=Aw(t.current);(i.height===0||i.width===0)&&((o=(s=e.getState()).onError)==null||o.call(s,"004",_i.error004())),e.setState({width:i.width||500,height:i.height||500})};return r(),window.addEventListener("resize",r),t.current&&(n=new ResizeObserver(()=>r()),n.observe(t.current)),()=>{window.removeEventListener("resize",r),n&&t.current&&n.unobserve(t.current)}},[])}const Lw={position:"absolute",width:"100%",height:"100%",top:0,left:0},JW=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,Md=t=>({x:t.x,y:t.y,zoom:t.k}),Oo=(t,e)=>t.target.closest(`.${e}`),BT=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),zT=t=>{const e=t.ctrlKey&&xf()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e},ZW=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection,d3ZoomHandler:t.d3ZoomHandler,userSelectionActive:t.userSelectionActive}),eq=({onMove:t,onMoveStart:e,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:i=!0,zoomOnPinch:s=!0,panOnScroll:o=!1,panOnScrollSpeed:a=.5,panOnScrollMode:l=Gs.Free,zoomOnDoubleClick:c=!0,elementsSelectable:u,panOnDrag:h=!0,defaultViewport:f,translateExtent:p,minZoom:y,maxZoom:v,zoomActivationKeyCode:S,preventScrolling:g=!0,children:w,noWheelClassName:x,noPanClassName:k})=>{const O=_.useRef(),M=St(),I=_.useRef(!1),T=_.useRef(!1),C=_.useRef(null),A=_.useRef({x:0,y:0,zoom:0}),{d3Zoom:N,d3Selection:L,d3ZoomHandler:P,userSelectionActive:D}=ze(ZW,Dt),H=eu(S),U=_.useRef(0),q=_.useRef(!1),$=_.useRef();return XW(C),_.useEffect(()=>{if(C.current){const V=C.current.getBoundingClientRect(),j=u2().scaleExtent([y,v]).translateExtent(p),F=Qn(C.current).call(j),B=ai.translate(f.x,f.y).scale(Ua(f.zoom,y,v)),G=[[0,0],[V.width,V.height]],Y=j.constrain()(B,G,p);j.transform(F,Y),j.wheelDelta(zT),M.setState({d3Zoom:j,d3Selection:F,d3ZoomHandler:F.on("wheel.zoom"),transform:[Y.x,Y.y,Y.k],domNode:C.current.closest(".react-flow")})}},[]),_.useEffect(()=>{L&&N&&(o&&!H&&!D?L.on("wheel.zoom",V=>{if(Oo(V,x))return!1;V.preventDefault(),V.stopImmediatePropagation();const j=L.property("__zoom").k||1;if(V.ctrlKey&&s){const pe=dr(V),ue=zT(V),te=j*Math.pow(2,ue);N.scaleTo(L,te,pe,V);return}const F=V.deltaMode===1?20:1;let B=l===Gs.Vertical?0:V.deltaX*F,G=l===Gs.Horizontal?0:V.deltaY*F;!xf()&&V.shiftKey&&l!==Gs.Vertical&&(B=V.deltaY*F,G=0),N.translateBy(L,-(B/j)*a,-(G/j)*a,{internal:!0});const Y=Md(L.property("__zoom")),{onViewportChangeStart:Z,onViewportChange:ne,onViewportChangeEnd:ae}=M.getState();clearTimeout($.current),q.current||(q.current=!0,e==null||e(V,Y),Z==null||Z(Y)),q.current&&(t==null||t(V,Y),ne==null||ne(Y),$.current=setTimeout(()=>{n==null||n(V,Y),ae==null||ae(Y),q.current=!1},150))},{passive:!1}):typeof P<"u"&&L.on("wheel.zoom",function(V,j){if(!g&&V.type==="wheel"&&!V.ctrlKey||Oo(V,x))return null;V.preventDefault(),P.call(this,V,j)},{passive:!1}))},[D,o,l,L,N,P,H,s,g,x,e,t,n]),_.useEffect(()=>{N&&N.on("start",V=>{var B,G;if(!V.sourceEvent||V.sourceEvent.internal)return null;U.current=(B=V.sourceEvent)==null?void 0:B.button;const{onViewportChangeStart:j}=M.getState(),F=Md(V.transform);I.current=!0,A.current=F,((G=V.sourceEvent)==null?void 0:G.type)==="mousedown"&&M.setState({paneDragging:!0}),j==null||j(F),e==null||e(V.sourceEvent,F)})},[N,e]),_.useEffect(()=>{N&&(D&&!I.current?N.on("zoom",null):D||N.on("zoom",V=>{var F;const{onViewportChange:j}=M.getState();if(M.setState({transform:[V.transform.x,V.transform.y,V.transform.k]}),T.current=!!(r&&BT(h,U.current??0)),(t||j)&&!((F=V.sourceEvent)!=null&&F.internal)){const B=Md(V.transform);j==null||j(B),t==null||t(V.sourceEvent,B)}}))},[D,N,t,h,r]),_.useEffect(()=>{N&&N.on("end",V=>{if(!V.sourceEvent||V.sourceEvent.internal)return null;const{onViewportChangeEnd:j}=M.getState();if(I.current=!1,M.setState({paneDragging:!1}),r&&BT(h,U.current??0)&&!T.current&&r(V.sourceEvent),T.current=!1,(n||j)&&JW(A.current,V.transform)){const F=Md(V.transform);A.current=F,clearTimeout(O.current),O.current=setTimeout(()=>{j==null||j(F),n==null||n(V.sourceEvent,F)},o?150:0)}})},[N,o,h,n,r]),_.useEffect(()=>{N&&N.filter(V=>{const j=H||i,F=s&&V.ctrlKey;if((h===!0||Array.isArray(h)&&h.includes(1))&&V.button===1&&V.type==="mousedown"&&(Oo(V,"react-flow__node")||Oo(V,"react-flow__edge")))return!0;if(!h&&!j&&!o&&!c&&!s||D||!c&&V.type==="dblclick"||Oo(V,x)&&V.type==="wheel"||Oo(V,k)&&(V.type!=="wheel"||o&&V.type==="wheel"&&!H)||!s&&V.ctrlKey&&V.type==="wheel"||!j&&!o&&!F&&V.type==="wheel"||!h&&(V.type==="mousedown"||V.type==="touchstart")||Array.isArray(h)&&!h.includes(V.button)&&V.type==="mousedown")return!1;const B=Array.isArray(h)&&h.includes(V.button)||!V.button||V.button<=1;return(!V.ctrlKey||V.type==="wheel")&&B})},[D,N,i,s,o,c,h,u,H]),W.createElement("div",{className:"react-flow__renderer",ref:C,style:Lw},w)},tq=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function nq(){const{userSelectionActive:t,userSelectionRect:e}=ze(tq,Dt);return t&&e?W.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}function HT(t,e){const n=e.parentNode||e.parentId,r=t.find(i=>i.id===n);if(r){const i=e.position.x+e.width-r.width,s=e.position.y+e.height-r.height;if(i>0||s>0||e.position.x<0||e.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,i>0&&(r.style.width+=i),s>0&&(r.style.height+=s),e.position.x<0){const o=Math.abs(e.position.x);r.position.x=r.position.x-o,r.style.width+=o,e.position.x=0}if(e.position.y<0){const o=Math.abs(e.position.y);r.position.y=r.position.y-o,r.style.height+=o,e.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function $2(t,e){if(t.some(r=>r.type==="reset"))return t.filter(r=>r.type==="reset").map(r=>r.item);const n=t.filter(r=>r.type==="add").map(r=>r.item);return e.reduce((r,i)=>{const s=t.filter(a=>a.id===i.id);if(s.length===0)return r.push(i),r;const o={...i};for(const a of s)if(a)switch(a.type){case"select":{o.selected=a.selected;break}case"position":{typeof a.position<"u"&&(o.position=a.position),typeof a.positionAbsolute<"u"&&(o.positionAbsolute=a.positionAbsolute),typeof a.dragging<"u"&&(o.dragging=a.dragging),o.expandParent&&HT(r,o);break}case"dimensions":{typeof a.dimensions<"u"&&(o.width=a.dimensions.width,o.height=a.dimensions.height),typeof a.updateStyle<"u"&&(o.style={...o.style||{},...a.dimensions}),typeof a.resizing=="boolean"&&(o.resizing=a.resizing),o.expandParent&&HT(r,o);break}case"remove":return r}return r.push(o),r},n)}function B2(t,e){return $2(t,e)}function rq(t,e){return $2(t,e)}const Mi=(t,e)=>({id:t,type:"select",selected:e});function ia(t,e){return t.reduce((n,r)=>{const i=e.includes(r.id);return!r.selected&&i?(r.selected=!0,n.push(Mi(r.id,!0))):r.selected&&!i&&(r.selected=!1,n.push(Mi(r.id,!1))),n},[])}const Wm=(t,e)=>n=>{n.target===e.current&&(t==null||t(n))},iq=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,dragging:t.paneDragging}),z2=_.memo(({isSelecting:t,selectionMode:e=Zc.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:i,onPaneClick:s,onPaneContextMenu:o,onPaneScroll:a,onPaneMouseEnter:l,onPaneMouseMove:c,onPaneMouseLeave:u,children:h})=>{const f=_.useRef(null),p=St(),y=_.useRef(0),v=_.useRef(0),S=_.useRef(),{userSelectionActive:g,elementsSelectable:w,dragging:x}=ze(iq,Dt),k=()=>{p.setState({userSelectionActive:!1,userSelectionRect:null}),y.current=0,v.current=0},O=P=>{s==null||s(P),p.getState().resetSelectedElements(),p.setState({nodesSelectionActive:!1})},M=P=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){P.preventDefault();return}o==null||o(P)},I=a?P=>a(P):void 0,T=P=>{const{resetSelectedElements:D,domNode:H}=p.getState();if(S.current=H==null?void 0:H.getBoundingClientRect(),!w||!t||P.button!==0||P.target!==f.current||!S.current)return;const{x:U,y:q}=cs(P,S.current);D(),p.setState({userSelectionRect:{width:0,height:0,startX:U,startY:q,x:U,y:q}}),r==null||r(P)},C=P=>{const{userSelectionRect:D,nodeInternals:H,edges:U,transform:q,onNodesChange:$,onEdgesChange:V,nodeOrigin:j,getNodes:F}=p.getState();if(!t||!S.current||!D)return;p.setState({userSelectionActive:!0,nodesSelectionActive:!1});const B=cs(P,S.current),G=D.startX??0,Y=D.startY??0,Z={...D,x:B.x<G?B.x:G,y:B.y<Y?B.y:Y,width:Math.abs(B.x-G),height:Math.abs(B.y-Y)},ne=F(),ae=T2(H,Z,q,e===Zc.Partial,!0,j),pe=S2(ae,U).map(te=>te.id),ue=ae.map(te=>te.id);if(y.current!==ue.length){y.current=ue.length;const te=ia(ne,ue);te.length&&($==null||$(te))}if(v.current!==pe.length){v.current=pe.length;const te=ia(U,pe);te.length&&(V==null||V(te))}p.setState({userSelectionRect:Z})},A=P=>{if(P.button!==0)return;const{userSelectionRect:D}=p.getState();!g&&D&&P.target===f.current&&(O==null||O(P)),p.setState({nodesSelectionActive:y.current>0}),k(),i==null||i(P)},N=P=>{g&&(p.setState({nodesSelectionActive:y.current>0}),i==null||i(P)),k()},L=w&&(t||g);return W.createElement("div",{className:Ht(["react-flow__pane",{dragging:x,selection:t}]),onClick:L?void 0:Wm(O,f),onContextMenu:Wm(M,f),onWheel:Wm(I,f),onMouseEnter:L?void 0:l,onMouseDown:L?T:void 0,onMouseMove:L?C:c,onMouseUp:L?A:void 0,onMouseLeave:L?N:u,ref:f,style:Lw},h,W.createElement(nq,null))});z2.displayName="Pane";function H2(t,e){const n=t.parentNode||t.parentId;if(!n)return!1;const r=e.get(n);return r?r.selected?!0:H2(r,e):!1}function WT(t,e,n){let r=t;do{if(r!=null&&r.matches(e))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function sq(t,e,n,r){return Array.from(t.values()).filter(i=>(i.selected||i.id===r)&&(!i.parentNode||i.parentId||!H2(i,t))&&(i.draggable||e&&typeof i.draggable>"u")).map(i=>{var s,o;return{id:i.id,position:i.position||{x:0,y:0},positionAbsolute:i.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((s=i.positionAbsolute)==null?void 0:s.x)??0),y:n.y-(((o=i.positionAbsolute)==null?void 0:o.y)??0)},delta:{x:0,y:0},extent:i.extent,parentNode:i.parentNode||i.parentId,parentId:i.parentNode||i.parentId,width:i.width,height:i.height,expandParent:i.expandParent}})}function oq(t,e){return!e||e==="parent"?e:[e[0],[e[1][0]-(t.width||0),e[1][1]-(t.height||0)]]}function W2(t,e,n,r,i=[0,0],s){const o=oq(t,t.extent||r);let a=o;const l=t.parentNode||t.parentId;if(t.extent==="parent"&&!t.expandParent)if(l&&t.width&&t.height){const h=n.get(l),{x:f,y:p}=to(h,i).positionAbsolute;a=h&&Jn(f)&&Jn(p)&&Jn(h.width)&&Jn(h.height)?[[f+t.width*i[0],p+t.height*i[1]],[f+h.width-t.width+t.width*i[0],p+h.height-t.height+t.height*i[1]]]:a}else s==null||s("005",_i.error005()),a=o;else if(t.extent&&l&&t.extent!=="parent"){const h=n.get(l),{x:f,y:p}=to(h,i).positionAbsolute;a=[[t.extent[0][0]+f,t.extent[0][1]+p],[t.extent[1][0]+f,t.extent[1][1]+p]]}let c={x:0,y:0};if(l){const h=n.get(l);c=to(h,i).positionAbsolute}const u=a&&a!=="parent"?Pw(e,a):e;return{position:{x:u.x-c.x,y:u.y-c.y},positionAbsolute:u}}function qm({nodeId:t,dragItems:e,nodeInternals:n}){const r=e.map(i=>({...n.get(i.id),position:i.position,positionAbsolute:i.positionAbsolute}));return[t?r.find(i=>i.id===t):r[0],r]}const qT=(t,e,n,r)=>{const i=e.querySelectorAll(t);if(!i||!i.length)return null;const s=Array.from(i),o=e.getBoundingClientRect(),a={x:o.width*r[0],y:o.height*r[1]};return s.map(l=>{const c=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),position:l.getAttribute("data-handlepos"),x:(c.left-o.left-a.x)/n,y:(c.top-o.top-a.y)/n,...Aw(l)}})};function Al(t,e,n){return n===void 0?n:r=>{const i=e().nodeInternals.get(t);i&&n(r,{...i})}}function Jy({id:t,store:e,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:s,multiSelectionActive:o,nodeInternals:a,onError:l}=e.getState(),c=a.get(t);if(!c){l==null||l("012",_i.error012(t));return}e.setState({nodesSelectionActive:!1}),c.selected?(n||c.selected&&o)&&(s({nodes:[c],edges:[]}),requestAnimationFrame(()=>{var u;return(u=r==null?void 0:r.current)==null?void 0:u.blur()})):i([t])}function aq(){const t=St();return _.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:i,snapToGrid:s}=t.getState(),o=n.touches?n.touches[0].clientX:n.clientX,a=n.touches?n.touches[0].clientY:n.clientY,l={x:(o-r[0])/r[2],y:(a-r[1])/r[2]};return{xSnapped:s?i[0]*Math.round(l.x/i[0]):l.x,ySnapped:s?i[1]*Math.round(l.y/i[1]):l.y,...l}},[])}function Km(t){return(e,n,r)=>t==null?void 0:t(e,r)}function q2({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:s,selectNodesOnDrag:o}){const a=St(),[l,c]=_.useState(!1),u=_.useRef([]),h=_.useRef({x:null,y:null}),f=_.useRef(0),p=_.useRef(null),y=_.useRef({x:0,y:0}),v=_.useRef(null),S=_.useRef(!1),g=_.useRef(!1),w=_.useRef(!1),x=aq();return _.useEffect(()=>{if(t!=null&&t.current){const k=Qn(t.current),O=({x:T,y:C})=>{const{nodeInternals:A,onNodeDrag:N,onSelectionDrag:L,updateNodePositions:P,nodeExtent:D,snapGrid:H,snapToGrid:U,nodeOrigin:q,onError:$}=a.getState();h.current={x:T,y:C};let V=!1,j={x:0,y:0,x2:0,y2:0};if(u.current.length>1&&D){const B=Cp(u.current,q);j=Jc(B)}if(u.current=u.current.map(B=>{const G={x:T-B.distance.x,y:C-B.distance.y};U&&(G.x=H[0]*Math.round(G.x/H[0]),G.y=H[1]*Math.round(G.y/H[1]));const Y=[[D[0][0],D[0][1]],[D[1][0],D[1][1]]];u.current.length>1&&D&&!B.extent&&(Y[0][0]=B.positionAbsolute.x-j.x+D[0][0],Y[1][0]=B.positionAbsolute.x+(B.width??0)-j.x2+D[1][0],Y[0][1]=B.positionAbsolute.y-j.y+D[0][1],Y[1][1]=B.positionAbsolute.y+(B.height??0)-j.y2+D[1][1]);const Z=W2(B,G,A,Y,q,$);return V=V||B.position.x!==Z.position.x||B.position.y!==Z.position.y,B.position=Z.position,B.positionAbsolute=Z.positionAbsolute,B}),!V)return;P(u.current,!0,!0),c(!0);const F=i?N:Km(L);if(F&&v.current){const[B,G]=qm({nodeId:i,dragItems:u.current,nodeInternals:A});F(v.current,B,G)}},M=()=>{if(!p.current)return;const[T,C]=h2(y.current,p.current);if(T!==0||C!==0){const{transform:A,panBy:N}=a.getState();h.current.x=(h.current.x??0)-T/A[2],h.current.y=(h.current.y??0)-C/A[2],N({x:T,y:C})&&O(h.current)}f.current=requestAnimationFrame(M)},I=T=>{var q;const{nodeInternals:C,multiSelectionActive:A,nodesDraggable:N,unselectNodesAndEdges:L,onNodeDragStart:P,onSelectionDragStart:D}=a.getState();g.current=!0;const H=i?P:Km(D);(!o||!s)&&!A&&i&&((q=C.get(i))!=null&&q.selected||L()),i&&s&&o&&Jy({id:i,store:a,nodeRef:t});const U=x(T);if(h.current=U,u.current=sq(C,N,U,i),H&&u.current){const[$,V]=qm({nodeId:i,dragItems:u.current,nodeInternals:C});H(T.sourceEvent,$,V)}};if(e)k.on(".drag",null);else{const T=v7().on("start",C=>{const{domNode:A,nodeDragThreshold:N}=a.getState();N===0&&I(C),w.current=!1;const L=x(C);h.current=L,p.current=(A==null?void 0:A.getBoundingClientRect())||null,y.current=cs(C.sourceEvent,p.current)}).on("drag",C=>{var P,D;const A=x(C),{autoPanOnNodeDrag:N,nodeDragThreshold:L}=a.getState();if(C.sourceEvent.type==="touchmove"&&C.sourceEvent.touches.length>1&&(w.current=!0),!w.current){if(!S.current&&g.current&&N&&(S.current=!0,M()),!g.current){const H=A.xSnapped-(((P=h==null?void 0:h.current)==null?void 0:P.x)??0),U=A.ySnapped-(((D=h==null?void 0:h.current)==null?void 0:D.y)??0);Math.sqrt(H*H+U*U)>L&&I(C)}(h.current.x!==A.xSnapped||h.current.y!==A.ySnapped)&&u.current&&g.current&&(v.current=C.sourceEvent,y.current=cs(C.sourceEvent,p.current),O(A))}}).on("end",C=>{if(!(!g.current||w.current)&&(c(!1),S.current=!1,g.current=!1,cancelAnimationFrame(f.current),u.current)){const{updateNodePositions:A,nodeInternals:N,onNodeDragStop:L,onSelectionDragStop:P}=a.getState(),D=i?L:Km(P);if(A(u.current,!1,!1),D){const[H,U]=qm({nodeId:i,dragItems:u.current,nodeInternals:N});D(C.sourceEvent,H,U)}}}).filter(C=>{const A=C.target;return!C.button&&(!n||!WT(A,`.${n}`,t))&&(!r||WT(A,r,t))});return k.call(T),()=>{k.on(".drag",null)}}}},[t,e,n,r,s,a,i,o,x]),l}function K2(){const t=St();return _.useCallback(n=>{const{nodeInternals:r,nodeExtent:i,updateNodePositions:s,getNodes:o,snapToGrid:a,snapGrid:l,onError:c,nodesDraggable:u}=t.getState(),h=o().filter(w=>w.selected&&(w.draggable||u&&typeof w.draggable>"u")),f=a?l[0]:5,p=a?l[1]:5,y=n.isShiftPressed?4:1,v=n.x*f*y,S=n.y*p*y,g=h.map(w=>{if(w.positionAbsolute){const x={x:w.positionAbsolute.x+v,y:w.positionAbsolute.y+S};a&&(x.x=l[0]*Math.round(x.x/l[0]),x.y=l[1]*Math.round(x.y/l[1]));const{positionAbsolute:k,position:O}=W2(w,x,r,i,void 0,c);w.position=O,w.positionAbsolute=k}return w});s(g,!0,!1)},[])}const ya={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Pl=t=>{const e=({id:n,type:r,data:i,xPos:s,yPos:o,xPosOrigin:a,yPosOrigin:l,selected:c,onClick:u,onMouseEnter:h,onMouseMove:f,onMouseLeave:p,onContextMenu:y,onDoubleClick:v,style:S,className:g,isDraggable:w,isSelectable:x,isConnectable:k,isFocusable:O,selectNodesOnDrag:M,sourcePosition:I,targetPosition:T,hidden:C,resizeObserver:A,dragHandle:N,zIndex:L,isParent:P,noDragClassName:D,noPanClassName:H,initialized:U,disableKeyboardA11y:q,ariaLabel:$,rfId:V,hasHandleBounds:j})=>{const F=St(),B=_.useRef(null),G=_.useRef(null),Y=_.useRef(I),Z=_.useRef(T),ne=_.useRef(r),ae=x||w||u||h||f||p,pe=K2(),ue=Al(n,F.getState,h),te=Al(n,F.getState,f),we=Al(n,F.getState,p),_e=Al(n,F.getState,y),Fe=Al(n,F.getState,v),De=Ce=>{const{nodeDragThreshold:le}=F.getState();if(x&&(!M||!w||le>0)&&Jy({id:n,store:F,nodeRef:B}),u){const it=F.getState().nodeInternals.get(n);it&&u(Ce,{...it})}},Ae=Ce=>{if(!Ky(Ce)&&!q)if(g2.includes(Ce.key)&&x){const le=Ce.key==="Escape";Jy({id:n,store:F,unselect:le,nodeRef:B})}else w&&c&&Object.prototype.hasOwnProperty.call(ya,Ce.key)&&(F.setState({ariaLiveMessage:`Moved selected node ${Ce.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~s}, y: ${~~o}`}),pe({x:ya[Ce.key].x,y:ya[Ce.key].y,isShiftPressed:Ce.shiftKey}))};_.useEffect(()=>()=>{G.current&&(A==null||A.unobserve(G.current),G.current=null)},[]),_.useEffect(()=>{if(B.current&&!C){const Ce=B.current;(!U||!j||G.current!==Ce)&&(G.current&&(A==null||A.unobserve(G.current)),A==null||A.observe(Ce),G.current=Ce)}},[C,U,j]),_.useEffect(()=>{const Ce=ne.current!==r,le=Y.current!==I,it=Z.current!==T;B.current&&(Ce||le||it)&&(Ce&&(ne.current=r),le&&(Y.current=I),it&&(Z.current=T),F.getState().updateNodeDimensions([{id:n,nodeElement:B.current,forceUpdate:!0}]))},[n,r,I,T]);const Qe=q2({nodeRef:B,disabled:C||!w,noDragClassName:D,handleSelector:N,nodeId:n,isSelectable:x,selectNodesOnDrag:M});return C?null:W.createElement("div",{className:Ht(["react-flow__node",`react-flow__node-${r}`,{[H]:w},g,{selected:c,selectable:x,parent:P,dragging:Qe}]),ref:B,style:{zIndex:L,transform:`translate(${a}px,${l}px)`,pointerEvents:ae?"all":"none",visibility:U?"visible":"hidden",...S},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:ue,onMouseMove:te,onMouseLeave:we,onContextMenu:_e,onClick:De,onDoubleClick:Fe,onKeyDown:O?Ae:void 0,tabIndex:O?0:void 0,role:O?"button":void 0,"aria-describedby":q?void 0:`${O2}-${V}`,"aria-label":$},W.createElement(xW,{value:n},W.createElement(t,{id:n,data:i,type:r,xPos:s,yPos:o,selected:c,isConnectable:k,sourcePosition:I,targetPosition:T,dragging:Qe,dragHandle:N,zIndex:L})))};return e.displayName="NodeWrapper",_.memo(e)};const lq=t=>{const e=t.getNodes().filter(n=>n.selected);return{...Cp(e,t.nodeOrigin),transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`,userSelectionActive:t.userSelectionActive}};function cq({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const r=St(),{width:i,height:s,x:o,y:a,transformString:l,userSelectionActive:c}=ze(lq,Dt),u=K2(),h=_.useRef(null);if(_.useEffect(()=>{var y;n||(y=h.current)==null||y.focus({preventScroll:!0})},[n]),q2({nodeRef:h}),c||!i||!s)return null;const f=t?y=>{const v=r.getState().getNodes().filter(S=>S.selected);t(y,v)}:void 0,p=y=>{Object.prototype.hasOwnProperty.call(ya,y.key)&&u({x:ya[y.key].x,y:ya[y.key].y,isShiftPressed:y.shiftKey})};return W.createElement("div",{className:Ht(["react-flow__nodesselection","react-flow__container",e]),style:{transform:l}},W.createElement("div",{ref:h,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:n?void 0:-1,onKeyDown:n?void 0:p,style:{width:i,height:s,top:a,left:o}}))}var uq=_.memo(cq);const dq=t=>t.nodesSelectionActive,G2=({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,deleteKeyCode:a,onMove:l,onMoveStart:c,onMoveEnd:u,selectionKeyCode:h,selectionOnDrag:f,selectionMode:p,onSelectionStart:y,onSelectionEnd:v,multiSelectionKeyCode:S,panActivationKeyCode:g,zoomActivationKeyCode:w,elementsSelectable:x,zoomOnScroll:k,zoomOnPinch:O,panOnScroll:M,panOnScrollSpeed:I,panOnScrollMode:T,zoomOnDoubleClick:C,panOnDrag:A,defaultViewport:N,translateExtent:L,minZoom:P,maxZoom:D,preventScrolling:H,onSelectionContextMenu:U,noWheelClassName:q,noPanClassName:$,disableKeyboardA11y:V})=>{const j=ze(dq),F=eu(h),B=eu(g),G=B||A,Y=B||M,Z=F||f&&G!==!0;return QW({deleteKeyCode:a,multiSelectionKeyCode:S}),W.createElement(eq,{onMove:l,onMoveStart:c,onMoveEnd:u,onPaneContextMenu:s,elementsSelectable:x,zoomOnScroll:k,zoomOnPinch:O,panOnScroll:Y,panOnScrollSpeed:I,panOnScrollMode:T,zoomOnDoubleClick:C,panOnDrag:!F&&G,defaultViewport:N,translateExtent:L,minZoom:P,maxZoom:D,zoomActivationKeyCode:w,preventScrolling:H,noWheelClassName:q,noPanClassName:$},W.createElement(z2,{onSelectionStart:y,onSelectionEnd:v,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,panOnDrag:G,isSelecting:!!Z,selectionMode:p},t,j&&W.createElement(uq,{onSelectionContextMenu:U,noPanClassName:$,disableKeyboardA11y:V})))};G2.displayName="FlowRenderer";var hq=_.memo(G2);function fq(t){return ze(_.useCallback(n=>t?T2(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[t]))}function pq(t){const e={input:Pl(t.input||N2),default:Pl(t.default||Xy),output:Pl(t.output||M2),group:Pl(t.group||Ow)},n={},r=Object.keys(t).filter(i=>!["input","default","output","group"].includes(i)).reduce((i,s)=>(i[s]=Pl(t[s]||Xy),i),n);return{...e,...r}}const mq=({x:t,y:e,width:n,height:r,origin:i})=>!n||!r?{x:t,y:e}:i[0]<0||i[1]<0||i[0]>1||i[1]>1?{x:t,y:e}:{x:t-n*i[0],y:e-r*i[1]},gq=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,updateNodeDimensions:t.updateNodeDimensions,onError:t.onError}),Y2=t=>{const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,updateNodeDimensions:s,onError:o}=ze(gq,Dt),a=fq(t.onlyRenderVisibleElements),l=_.useRef(),c=_.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const u=new ResizeObserver(h=>{const f=h.map(p=>({id:p.target.getAttribute("data-id"),nodeElement:p.target,forceUpdate:!0}));s(f)});return l.current=u,u},[]);return _.useEffect(()=>()=>{var u;(u=l==null?void 0:l.current)==null||u.disconnect()},[]),W.createElement("div",{className:"react-flow__nodes",style:Lw},a.map(u=>{var O,M,I;let h=u.type||"default";t.nodeTypes[h]||(o==null||o("003",_i.error003(h)),h="default");const f=t.nodeTypes[h]||t.nodeTypes.default,p=!!(u.draggable||e&&typeof u.draggable>"u"),y=!!(u.selectable||i&&typeof u.selectable>"u"),v=!!(u.connectable||n&&typeof u.connectable>"u"),S=!!(u.focusable||r&&typeof u.focusable>"u"),g=t.nodeExtent?Pw(u.positionAbsolute,t.nodeExtent):u.positionAbsolute,w=(g==null?void 0:g.x)??0,x=(g==null?void 0:g.y)??0,k=mq({x:w,y:x,width:u.width??0,height:u.height??0,origin:t.nodeOrigin});return W.createElement(f,{key:u.id,id:u.id,className:u.className,style:u.style,type:h,data:u.data,sourcePosition:u.sourcePosition||ce.Bottom,targetPosition:u.targetPosition||ce.Top,hidden:u.hidden,xPos:w,yPos:x,xPosOrigin:k.x,yPosOrigin:k.y,selectNodesOnDrag:t.selectNodesOnDrag,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,selected:!!u.selected,isDraggable:p,isSelectable:y,isConnectable:v,isFocusable:S,resizeObserver:c,dragHandle:u.dragHandle,zIndex:((O=u[lt])==null?void 0:O.z)??0,isParent:!!((M=u[lt])!=null&&M.isParent),noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,initialized:!!u.width&&!!u.height,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,ariaLabel:u.ariaLabel,hasHandleBounds:!!((I=u[lt])!=null&&I.handleBounds)})}))};Y2.displayName="NodeRenderer";var yq=_.memo(Y2);const vq=(t,e,n)=>n===ce.Left?t-e:n===ce.Right?t+e:t,wq=(t,e,n)=>n===ce.Top?t-e:n===ce.Bottom?t+e:t,KT="react-flow__edgeupdater",GT=({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:s,onMouseOut:o,type:a})=>W.createElement("circle",{onMouseDown:i,onMouseEnter:s,onMouseOut:o,className:Ht([KT,`${KT}-${a}`]),cx:vq(e,r,t),cy:wq(n,r,t),r,stroke:"transparent",fill:"transparent"}),_q=()=>!0;var Lo=t=>{const e=({id:n,className:r,type:i,data:s,onClick:o,onEdgeDoubleClick:a,selected:l,animated:c,label:u,labelStyle:h,labelShowBg:f,labelBgStyle:p,labelBgPadding:y,labelBgBorderRadius:v,style:S,source:g,target:w,sourceX:x,sourceY:k,targetX:O,targetY:M,sourcePosition:I,targetPosition:T,elementsSelectable:C,hidden:A,sourceHandleId:N,targetHandleId:L,onContextMenu:P,onMouseEnter:D,onMouseMove:H,onMouseLeave:U,reconnectRadius:q,onReconnect:$,onReconnectStart:V,onReconnectEnd:j,markerEnd:F,markerStart:B,rfId:G,ariaLabel:Y,isFocusable:Z,isReconnectable:ne,pathOptions:ae,interactionWidth:pe,disableKeyboardA11y:ue})=>{const te=_.useRef(null),[we,_e]=_.useState(!1),[Fe,De]=_.useState(!1),Ae=St(),Qe=_.useMemo(()=>`url('#${Yy(B,G)}')`,[B,G]),Ce=_.useMemo(()=>`url('#${Yy(F,G)}')`,[F,G]);if(A)return null;const le=Le=>{var mn;const{edges:ft,addSelectedEdges:$n,unselectNodesAndEdges:Bn,multiSelectionActive:sn}=Ae.getState(),pn=ft.find(zn=>zn.id===n);pn&&(C&&(Ae.setState({nodesSelectionActive:!1}),pn.selected&&sn?(Bn({nodes:[],edges:[pn]}),(mn=te.current)==null||mn.blur()):$n([n])),o&&o(Le,pn))},it=kl(n,Ae.getState,a),st=kl(n,Ae.getState,P),In=kl(n,Ae.getState,D),Cn=kl(n,Ae.getState,H),kn=kl(n,Ae.getState,U),Wt=(Le,ft)=>{if(Le.button!==0)return;const{edges:$n,isValidConnection:Bn}=Ae.getState(),sn=ft?w:g,pn=(ft?L:N)||null,mn=ft?"target":"source",zn=Bn||_q,Ti=ft,Er=$n.find(He=>He.id===n);De(!0),V==null||V(Le,Er,mn);const sr=He=>{De(!1),j==null||j(He,Er,mn)};k2({event:Le,handleId:pn,nodeId:sn,onConnect:He=>$==null?void 0:$(Er,He),isTarget:Ti,getState:Ae.getState,setState:Ae.setState,isValidConnection:zn,edgeUpdaterType:mn,onReconnectEnd:sr})},rr=Le=>Wt(Le,!0),Ue=Le=>Wt(Le,!1),Me=()=>_e(!0),bt=()=>_e(!1),rn=!C&&!o,ir=Le=>{var ft;if(!ue&&g2.includes(Le.key)&&C){const{unselectNodesAndEdges:$n,addSelectedEdges:Bn,edges:sn}=Ae.getState();Le.key==="Escape"?((ft=te.current)==null||ft.blur(),$n({edges:[sn.find(mn=>mn.id===n)]})):Bn([n])}};return W.createElement("g",{className:Ht(["react-flow__edge",`react-flow__edge-${i}`,r,{selected:l,animated:c,inactive:rn,updating:we}]),onClick:le,onDoubleClick:it,onContextMenu:st,onMouseEnter:In,onMouseMove:Cn,onMouseLeave:kn,onKeyDown:Z?ir:void 0,tabIndex:Z?0:void 0,role:Z?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":Y===null?void 0:Y||`Edge from ${g} to ${w}`,"aria-describedby":Z?`${L2}-${G}`:void 0,ref:te},!Fe&&W.createElement(t,{id:n,source:g,target:w,selected:l,animated:c,label:u,labelStyle:h,labelShowBg:f,labelBgStyle:p,labelBgPadding:y,labelBgBorderRadius:v,data:s,style:S,sourceX:x,sourceY:k,targetX:O,targetY:M,sourcePosition:I,targetPosition:T,sourceHandleId:N,targetHandleId:L,markerStart:Qe,markerEnd:Ce,pathOptions:ae,interactionWidth:pe}),ne&&W.createElement(W.Fragment,null,(ne==="source"||ne===!0)&&W.createElement(GT,{position:I,centerX:x,centerY:k,radius:q,onMouseDown:rr,onMouseEnter:Me,onMouseOut:bt,type:"source"}),(ne==="target"||ne===!0)&&W.createElement(GT,{position:T,centerX:O,centerY:M,radius:q,onMouseDown:Ue,onMouseEnter:Me,onMouseOut:bt,type:"target"})))};return e.displayName="EdgeWrapper",_.memo(e)};function xq(t){const e={default:Lo(t.default||Tf),straight:Lo(t.bezier||Dw),step:Lo(t.step||Nw),smoothstep:Lo(t.step||Ip),simplebezier:Lo(t.simplebezier||Rw)},n={},r=Object.keys(t).filter(i=>!["default","bezier"].includes(i)).reduce((i,s)=>(i[s]=Lo(t[s]||Tf),i),n);return{...e,...r}}function YT(t,e,n=null){const r=((n==null?void 0:n.x)||0)+e.x,i=((n==null?void 0:n.y)||0)+e.y,s=(n==null?void 0:n.width)||e.width,o=(n==null?void 0:n.height)||e.height;switch(t){case ce.Top:return{x:r+s/2,y:i};case ce.Right:return{x:r+s,y:i+o/2};case ce.Bottom:return{x:r+s/2,y:i+o};case ce.Left:return{x:r,y:i+o/2}}}function QT(t,e){return t?t.length===1||!e?t[0]:e&&t.find(n=>n.id===e)||null:null}const Eq=(t,e,n,r,i,s)=>{const o=YT(n,t,e),a=YT(s,r,i);return{sourceX:o.x,sourceY:o.y,targetX:a.x,targetY:a.y}};function Tq({sourcePos:t,targetPos:e,sourceWidth:n,sourceHeight:r,targetWidth:i,targetHeight:s,width:o,height:a,transform:l}){const c={x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x+n,e.x+i),y2:Math.max(t.y+r,e.y+s)};c.x===c.x2&&(c.x2+=1),c.y===c.y2&&(c.y2+=1);const u=Jc({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:o/l[2],height:a/l[2]}),h=Math.max(0,Math.min(u.x2,c.x2)-Math.max(u.x,c.x)),f=Math.max(0,Math.min(u.y2,c.y2)-Math.max(u.y,c.y));return Math.ceil(h*f)>0}function XT(t){var r,i,s,o,a;const e=((r=t==null?void 0:t[lt])==null?void 0:r.handleBounds)||null,n=e&&(t==null?void 0:t.width)&&(t==null?void 0:t.height)&&typeof((i=t==null?void 0:t.positionAbsolute)==null?void 0:i.x)<"u"&&typeof((s=t==null?void 0:t.positionAbsolute)==null?void 0:s.y)<"u";return[{x:((o=t==null?void 0:t.positionAbsolute)==null?void 0:o.x)||0,y:((a=t==null?void 0:t.positionAbsolute)==null?void 0:a.y)||0,width:(t==null?void 0:t.width)||0,height:(t==null?void 0:t.height)||0},e,!!n]}const Sq=[{level:0,isMaxLevel:!0,edges:[]}];function bq(t,e,n=!1){let r=-1;const i=t.reduce((o,a)=>{var u,h;const l=Jn(a.zIndex);let c=l?a.zIndex:0;if(n){const f=e.get(a.target),p=e.get(a.source),y=a.selected||(f==null?void 0:f.selected)||(p==null?void 0:p.selected),v=Math.max(((u=p==null?void 0:p[lt])==null?void 0:u.z)||0,((h=f==null?void 0:f[lt])==null?void 0:h.z)||0,1e3);c=(l?a.zIndex:0)+(y?v:0)}return o[c]?o[c].push(a):o[c]=[a],r=c>r?c:r,o},{}),s=Object.entries(i).map(([o,a])=>{const l=+o;return{edges:a,level:l,isMaxLevel:l===r}});return s.length===0?Sq:s}function Iq(t,e,n){const r=ze(_.useCallback(i=>t?i.edges.filter(s=>{const o=e.get(s.source),a=e.get(s.target);return(o==null?void 0:o.width)&&(o==null?void 0:o.height)&&(a==null?void 0:a.width)&&(a==null?void 0:a.height)&&Tq({sourcePos:o.positionAbsolute||{x:0,y:0},targetPos:a.positionAbsolute||{x:0,y:0},sourceWidth:o.width,sourceHeight:o.height,targetWidth:a.width,targetHeight:a.height,width:i.width,height:i.height,transform:i.transform})}):i.edges,[t,e]));return bq(r,e,n)}const Cq=({color:t="none",strokeWidth:e=1})=>W.createElement("polyline",{style:{stroke:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),kq=({color:t="none",strokeWidth:e=1})=>W.createElement("polyline",{style:{stroke:t,fill:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),JT={[Ef.Arrow]:Cq,[Ef.ArrowClosed]:kq};function Aq(t){const e=St();return _.useMemo(()=>{var i,s;return Object.prototype.hasOwnProperty.call(JT,t)?JT[t]:((s=(i=e.getState()).onError)==null||s.call(i,"009",_i.error009(t)),null)},[t])}const Pq=({id:t,type:e,color:n,width:r=12.5,height:i=12.5,markerUnits:s="strokeWidth",strokeWidth:o,orient:a="auto-start-reverse"})=>{const l=Aq(e);return l?W.createElement("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:a,refX:"0",refY:"0"},W.createElement(l,{color:n,strokeWidth:o})):null},Rq=({defaultColor:t,rfId:e})=>n=>{const r=[];return n.edges.reduce((i,s)=>([s.markerStart,s.markerEnd].forEach(o=>{if(o&&typeof o=="object"){const a=Yy(o,e);r.includes(a)||(i.push({id:a,color:o.color||t,...o}),r.push(a))}}),i),[]).sort((i,s)=>i.id.localeCompare(s.id))},Q2=({defaultColor:t,rfId:e})=>{const n=ze(_.useCallback(Rq({defaultColor:t,rfId:e}),[t,e]),(r,i)=>!(r.length!==i.length||r.some((s,o)=>s.id!==i[o].id)));return W.createElement("defs",null,n.map(r=>W.createElement(Pq,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};Q2.displayName="MarkerDefinitions";var Nq=_.memo(Q2);const Dq=t=>({nodesConnectable:t.nodesConnectable,edgesFocusable:t.edgesFocusable,edgesUpdatable:t.edgesUpdatable,elementsSelectable:t.elementsSelectable,width:t.width,height:t.height,connectionMode:t.connectionMode,nodeInternals:t.nodeInternals,onError:t.onError}),X2=({defaultMarkerColor:t,onlyRenderVisibleElements:e,elevateEdgesOnSelect:n,rfId:r,edgeTypes:i,noPanClassName:s,onEdgeContextMenu:o,onEdgeMouseEnter:a,onEdgeMouseMove:l,onEdgeMouseLeave:c,onEdgeClick:u,onEdgeDoubleClick:h,onReconnect:f,onReconnectStart:p,onReconnectEnd:y,reconnectRadius:v,children:S,disableKeyboardA11y:g})=>{const{edgesFocusable:w,edgesUpdatable:x,elementsSelectable:k,width:O,height:M,connectionMode:I,nodeInternals:T,onError:C}=ze(Dq,Dt),A=Iq(e,T,n);return O?W.createElement(W.Fragment,null,A.map(({level:N,edges:L,isMaxLevel:P})=>W.createElement("svg",{key:N,style:{zIndex:N},width:O,height:M,className:"react-flow__edges react-flow__container"},P&&W.createElement(Nq,{defaultColor:t,rfId:r}),W.createElement("g",null,L.map(D=>{const[H,U,q]=XT(T.get(D.source)),[$,V,j]=XT(T.get(D.target));if(!q||!j)return null;let F=D.type||"default";i[F]||(C==null||C("011",_i.error011(F)),F="default");const B=i[F]||i.default,G=I===mo.Strict?V.target:(V.target??[]).concat(V.source??[]),Y=QT(U.source,D.sourceHandle),Z=QT(G,D.targetHandle),ne=(Y==null?void 0:Y.position)||ce.Bottom,ae=(Z==null?void 0:Z.position)||ce.Top,pe=!!(D.focusable||w&&typeof D.focusable>"u"),ue=D.reconnectable||D.updatable,te=typeof f<"u"&&(ue||x&&typeof ue>"u");if(!Y||!Z)return C==null||C("008",_i.error008(Y,D)),null;const{sourceX:we,sourceY:_e,targetX:Fe,targetY:De}=Eq(H,Y,ne,$,Z,ae);return W.createElement(B,{key:D.id,id:D.id,className:Ht([D.className,s]),type:F,data:D.data,selected:!!D.selected,animated:!!D.animated,hidden:!!D.hidden,label:D.label,labelStyle:D.labelStyle,labelShowBg:D.labelShowBg,labelBgStyle:D.labelBgStyle,labelBgPadding:D.labelBgPadding,labelBgBorderRadius:D.labelBgBorderRadius,style:D.style,source:D.source,target:D.target,sourceHandleId:D.sourceHandle,targetHandleId:D.targetHandle,markerEnd:D.markerEnd,markerStart:D.markerStart,sourceX:we,sourceY:_e,targetX:Fe,targetY:De,sourcePosition:ne,targetPosition:ae,elementsSelectable:k,onContextMenu:o,onMouseEnter:a,onMouseMove:l,onMouseLeave:c,onClick:u,onEdgeDoubleClick:h,onReconnect:f,onReconnectStart:p,onReconnectEnd:y,reconnectRadius:v,rfId:r,ariaLabel:D.ariaLabel,isFocusable:pe,isReconnectable:te,pathOptions:"pathOptions"in D?D.pathOptions:void 0,interactionWidth:D.interactionWidth,disableKeyboardA11y:g})})))),S):null};X2.displayName="EdgeRenderer";var Mq=_.memo(X2);const Vq=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function Oq({children:t}){const e=ze(Vq);return W.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:e}},t)}function Lq(t){const e=kp(),n=_.useRef(!1);_.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const jq={[ce.Left]:ce.Right,[ce.Right]:ce.Left,[ce.Top]:ce.Bottom,[ce.Bottom]:ce.Top},J2=({nodeId:t,handleType:e,style:n,type:r=zi.Bezier,CustomComponent:i,connectionStatus:s})=>{var M,I,T;const{fromNode:o,handleId:a,toX:l,toY:c,connectionMode:u}=ze(_.useCallback(C=>({fromNode:C.nodeInternals.get(t),handleId:C.connectionHandleId,toX:(C.connectionPosition.x-C.transform[0])/C.transform[2],toY:(C.connectionPosition.y-C.transform[1])/C.transform[2],connectionMode:C.connectionMode}),[t]),Dt),h=(M=o==null?void 0:o[lt])==null?void 0:M.handleBounds;let f=h==null?void 0:h[e];if(u===mo.Loose&&(f=f||(h==null?void 0:h[e==="source"?"target":"source"])),!o||!f)return null;const p=a?f.find(C=>C.id===a):f[0],y=p?p.x+p.width/2:(o.width??0)/2,v=p?p.y+p.height/2:o.height??0,S=(((I=o.positionAbsolute)==null?void 0:I.x)??0)+y,g=(((T=o.positionAbsolute)==null?void 0:T.y)??0)+v,w=p==null?void 0:p.position,x=w?jq[w]:null;if(!w||!x)return null;if(i)return W.createElement(i,{connectionLineType:r,connectionLineStyle:n,fromNode:o,fromHandle:p,fromX:S,fromY:g,toX:l,toY:c,fromPosition:w,toPosition:x,connectionStatus:s});let k="";const O={sourceX:S,sourceY:g,sourcePosition:w,targetX:l,targetY:c,targetPosition:x};return r===zi.Bezier?[k]=x2(O):r===zi.Step?[k]=Gy({...O,borderRadius:0}):r===zi.SmoothStep?[k]=Gy(O):r===zi.SimpleBezier?[k]=_2(O):k=`M${S},${g} ${l},${c}`,W.createElement("path",{d:k,fill:"none",className:"react-flow__connection-path",style:n})};J2.displayName="ConnectionLine";const Fq=t=>({nodeId:t.connectionNodeId,handleType:t.connectionHandleType,nodesConnectable:t.nodesConnectable,connectionStatus:t.connectionStatus,width:t.width,height:t.height});function Uq({containerStyle:t,style:e,type:n,component:r}){const{nodeId:i,handleType:s,nodesConnectable:o,width:a,height:l,connectionStatus:c}=ze(Fq,Dt);return!(i&&s&&a&&o)?null:W.createElement("svg",{style:t,width:a,height:l,className:"react-flow__edges react-flow__connectionline react-flow__container"},W.createElement("g",{className:Ht(["react-flow__connection",c])},W.createElement(J2,{nodeId:i,handleType:s,style:e,type:n,CustomComponent:r,connectionStatus:c})))}function ZT(t,e){return _.useRef(null),St(),_.useMemo(()=>e(t),[t])}const Z2=({nodeTypes:t,edgeTypes:e,onMove:n,onMoveStart:r,onMoveEnd:i,onInit:s,onNodeClick:o,onEdgeClick:a,onNodeDoubleClick:l,onEdgeDoubleClick:c,onNodeMouseEnter:u,onNodeMouseMove:h,onNodeMouseLeave:f,onNodeContextMenu:p,onSelectionContextMenu:y,onSelectionStart:v,onSelectionEnd:S,connectionLineType:g,connectionLineStyle:w,connectionLineComponent:x,connectionLineContainerStyle:k,selectionKeyCode:O,selectionOnDrag:M,selectionMode:I,multiSelectionKeyCode:T,panActivationKeyCode:C,zoomActivationKeyCode:A,deleteKeyCode:N,onlyRenderVisibleElements:L,elementsSelectable:P,selectNodesOnDrag:D,defaultViewport:H,translateExtent:U,minZoom:q,maxZoom:$,preventScrolling:V,defaultMarkerColor:j,zoomOnScroll:F,zoomOnPinch:B,panOnScroll:G,panOnScrollSpeed:Y,panOnScrollMode:Z,zoomOnDoubleClick:ne,panOnDrag:ae,onPaneClick:pe,onPaneMouseEnter:ue,onPaneMouseMove:te,onPaneMouseLeave:we,onPaneScroll:_e,onPaneContextMenu:Fe,onEdgeContextMenu:De,onEdgeMouseEnter:Ae,onEdgeMouseMove:Qe,onEdgeMouseLeave:Ce,onReconnect:le,onReconnectStart:it,onReconnectEnd:st,reconnectRadius:In,noDragClassName:Cn,noWheelClassName:kn,noPanClassName:Wt,elevateEdgesOnSelect:rr,disableKeyboardA11y:Ue,nodeOrigin:Me,nodeExtent:bt,rfId:rn})=>{const ir=ZT(t,pq),Le=ZT(e,xq);return Lq(s),W.createElement(hq,{onPaneClick:pe,onPaneMouseEnter:ue,onPaneMouseMove:te,onPaneMouseLeave:we,onPaneContextMenu:Fe,onPaneScroll:_e,deleteKeyCode:N,selectionKeyCode:O,selectionOnDrag:M,selectionMode:I,onSelectionStart:v,onSelectionEnd:S,multiSelectionKeyCode:T,panActivationKeyCode:C,zoomActivationKeyCode:A,elementsSelectable:P,onMove:n,onMoveStart:r,onMoveEnd:i,zoomOnScroll:F,zoomOnPinch:B,zoomOnDoubleClick:ne,panOnScroll:G,panOnScrollSpeed:Y,panOnScrollMode:Z,panOnDrag:ae,defaultViewport:H,translateExtent:U,minZoom:q,maxZoom:$,onSelectionContextMenu:y,preventScrolling:V,noDragClassName:Cn,noWheelClassName:kn,noPanClassName:Wt,disableKeyboardA11y:Ue},W.createElement(Oq,null,W.createElement(Mq,{edgeTypes:Le,onEdgeClick:a,onEdgeDoubleClick:c,onlyRenderVisibleElements:L,onEdgeContextMenu:De,onEdgeMouseEnter:Ae,onEdgeMouseMove:Qe,onEdgeMouseLeave:Ce,onReconnect:le,onReconnectStart:it,onReconnectEnd:st,reconnectRadius:In,defaultMarkerColor:j,noPanClassName:Wt,elevateEdgesOnSelect:!!rr,disableKeyboardA11y:Ue,rfId:rn},W.createElement(Uq,{style:w,type:g,component:x,containerStyle:k})),W.createElement("div",{className:"react-flow__edgelabel-renderer"}),W.createElement(yq,{nodeTypes:ir,onNodeClick:o,onNodeDoubleClick:l,onNodeMouseEnter:u,onNodeMouseMove:h,onNodeMouseLeave:f,onNodeContextMenu:p,selectNodesOnDrag:D,onlyRenderVisibleElements:L,noPanClassName:Wt,noDragClassName:Cn,disableKeyboardA11y:Ue,nodeOrigin:Me,nodeExtent:bt,rfId:rn})))};Z2.displayName="GraphView";var $q=_.memo(Z2);const Zy=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],ki={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Zy,nodeExtent:Zy,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:mo.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:mW,isValidConnection:void 0},Bq=()=>Pz((t,e)=>({...ki,setNodes:n=>{const{nodeInternals:r,nodeOrigin:i,elevateNodesOnSelect:s}=e();t({nodeInternals:Hm(n,r,i,s)})},getNodes:()=>Array.from(e().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=e();t({edges:n.map(i=>({...r,...i}))})},setDefaultNodesAndEdges:(n,r)=>{const i=typeof n<"u",s=typeof r<"u",o=i?Hm(n,new Map,e().nodeOrigin,e().elevateNodesOnSelect):new Map;t({nodeInternals:o,edges:s?r:[],hasDefaultNodes:i,hasDefaultEdges:s})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:i,fitViewOnInit:s,fitViewOnInitDone:o,fitViewOnInitOptions:a,domNode:l,nodeOrigin:c}=e(),u=l==null?void 0:l.querySelector(".react-flow__viewport");if(!u)return;const h=window.getComputedStyle(u),{m22:f}=new window.DOMMatrixReadOnly(h.transform),p=n.reduce((v,S)=>{const g=i.get(S.id);if(g!=null&&g.hidden)i.set(g.id,{...g,[lt]:{...g[lt],handleBounds:void 0}});else if(g){const w=Aw(S.nodeElement);!!(w.width&&w.height&&(g.width!==w.width||g.height!==w.height||S.forceUpdate))&&(i.set(g.id,{...g,[lt]:{...g[lt],handleBounds:{source:qT(".source",S.nodeElement,f,c),target:qT(".target",S.nodeElement,f,c)}},...w}),v.push({id:g.id,type:"dimensions",dimensions:w}))}return v},[]);F2(i,c);const y=o||s&&!o&&U2(e,{initial:!0,...a});t({nodeInternals:new Map(i),fitViewOnInitDone:y}),(p==null?void 0:p.length)>0&&(r==null||r(p))},updateNodePositions:(n,r=!0,i=!1)=>{const{triggerNodeChanges:s}=e(),o=n.map(a=>{const l={id:a.id,type:"position",dragging:i};return r&&(l.positionAbsolute=a.positionAbsolute,l.position=a.position),l});s(o)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:i,hasDefaultNodes:s,nodeOrigin:o,getNodes:a,elevateNodesOnSelect:l}=e();if(n!=null&&n.length){if(s){const c=B2(n,a()),u=Hm(c,i,o,l);t({nodeInternals:u})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:i,getNodes:s}=e();let o,a=null;r?o=n.map(l=>Mi(l,!0)):(o=ia(s(),n),a=ia(i,[])),Dd({changedNodes:o,changedEdges:a,get:e,set:t})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:i,getNodes:s}=e();let o,a=null;r?o=n.map(l=>Mi(l,!0)):(o=ia(i,n),a=ia(s(),[])),Dd({changedNodes:a,changedEdges:o,get:e,set:t})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:i,getNodes:s}=e(),o=n||s(),a=r||i,l=o.map(u=>(u.selected=!1,Mi(u.id,!1))),c=a.map(u=>Mi(u.id,!1));Dd({changedNodes:l,changedEdges:c,get:e,set:t})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:i}=e();r==null||r.scaleExtent([n,i]),t({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:i}=e();r==null||r.scaleExtent([i,n]),t({maxZoom:n})},setTranslateExtent:n=>{var r;(r=e().d3Zoom)==null||r.translateExtent(n),t({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=e(),s=r().filter(a=>a.selected).map(a=>Mi(a.id,!1)),o=n.filter(a=>a.selected).map(a=>Mi(a.id,!1));Dd({changedNodes:s,changedEdges:o,get:e,set:t})},setNodeExtent:n=>{const{nodeInternals:r}=e();r.forEach(i=>{i.positionAbsolute=Pw(i.position,n)}),t({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:i,height:s,d3Zoom:o,d3Selection:a,translateExtent:l}=e();if(!o||!a||!n.x&&!n.y)return!1;const c=ai.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),u=[[0,0],[i,s]],h=o==null?void 0:o.constrain()(c,u,l);return o.transform(a,h),r[0]!==h.x||r[1]!==h.y||r[2]!==h.k},cancelConnection:()=>t({connectionNodeId:ki.connectionNodeId,connectionHandleId:ki.connectionHandleId,connectionHandleType:ki.connectionHandleType,connectionStatus:ki.connectionStatus,connectionStartHandle:ki.connectionStartHandle,connectionEndHandle:ki.connectionEndHandle}),reset:()=>t({...ki})}),Object.is),jw=({children:t})=>{const e=_.useRef(null);return e.current||(e.current=Bq()),W.createElement(lW,{value:e.current},t)};jw.displayName="ReactFlowProvider";const eR=({children:t})=>_.useContext(bp)?W.createElement(W.Fragment,null,t):W.createElement(jw,null,t);eR.displayName="ReactFlowWrapper";const zq={input:N2,default:Xy,output:M2,group:Ow},Hq={default:Tf,straight:Dw,step:Nw,smoothstep:Ip,simplebezier:Rw},Wq=[0,0],qq=[15,15],Kq={x:0,y:0,zoom:1},Gq={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},tR=_.forwardRef(({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:s=zq,edgeTypes:o=Hq,onNodeClick:a,onEdgeClick:l,onInit:c,onMove:u,onMoveStart:h,onMoveEnd:f,onConnect:p,onConnectStart:y,onConnectEnd:v,onClickConnectStart:S,onClickConnectEnd:g,onNodeMouseEnter:w,onNodeMouseMove:x,onNodeMouseLeave:k,onNodeContextMenu:O,onNodeDoubleClick:M,onNodeDragStart:I,onNodeDrag:T,onNodeDragStop:C,onNodesDelete:A,onEdgesDelete:N,onSelectionChange:L,onSelectionDragStart:P,onSelectionDrag:D,onSelectionDragStop:H,onSelectionContextMenu:U,onSelectionStart:q,onSelectionEnd:$,connectionMode:V=mo.Strict,connectionLineType:j=zi.Bezier,connectionLineStyle:F,connectionLineComponent:B,connectionLineContainerStyle:G,deleteKeyCode:Y="Backspace",selectionKeyCode:Z="Shift",selectionOnDrag:ne=!1,selectionMode:ae=Zc.Full,panActivationKeyCode:pe="Space",multiSelectionKeyCode:ue=xf()?"Meta":"Control",zoomActivationKeyCode:te=xf()?"Meta":"Control",snapToGrid:we=!1,snapGrid:_e=qq,onlyRenderVisibleElements:Fe=!1,selectNodesOnDrag:De=!0,nodesDraggable:Ae,nodesConnectable:Qe,nodesFocusable:Ce,nodeOrigin:le=Wq,edgesFocusable:it,edgesUpdatable:st,elementsSelectable:In,defaultViewport:Cn=Kq,minZoom:kn=.5,maxZoom:Wt=2,translateExtent:rr=Zy,preventScrolling:Ue=!0,nodeExtent:Me,defaultMarkerColor:bt="#b1b1b7",zoomOnScroll:rn=!0,zoomOnPinch:ir=!0,panOnScroll:Le=!1,panOnScrollSpeed:ft=.5,panOnScrollMode:$n=Gs.Free,zoomOnDoubleClick:Bn=!0,panOnDrag:sn=!0,onPaneClick:pn,onPaneMouseEnter:mn,onPaneMouseMove:zn,onPaneMouseLeave:Ti,onPaneScroll:Er,onPaneContextMenu:sr,children:Xe,onEdgeContextMenu:He,onEdgeDoubleClick:Je,onEdgeMouseEnter:An,onEdgeMouseMove:vt,onEdgeMouseLeave:It,onEdgeUpdate:Ct,onEdgeUpdateStart:or,onEdgeUpdateEnd:Se,onReconnect:Pn,onReconnectStart:kt,onReconnectEnd:Mt,reconnectRadius:Fr=10,edgeUpdaterRadius:Ur=10,onNodesChange:Vt,onEdgesChange:$r,noDragClassName:Cs="nodrag",noWheelClassName:bo="nowheel",noPanClassName:nl="nopan",fitView:rl=!1,fitViewOptions:Io,connectOnClick:Tr=!0,attributionPosition:Vu,proOptions:Ou,defaultEdgeOptions:il,elevateNodesOnSelect:sl=!0,elevateEdgesOnSelect:Lu=!1,disableKeyboardA11y:ol=!1,autoPanOnConnect:Np=!0,autoPanOnNodeDrag:Co=!0,connectionRadius:ju=20,isValidConnection:al,onError:ks,style:Br,id:ko,nodeDragThreshold:Dp,...Fu},Uu)=>{const Ao=ko||"1";return W.createElement("div",{...Fu,style:{...Br,...Gq},ref:Uu,className:Ht(["react-flow",i]),"data-testid":"rf__wrapper",id:ko},W.createElement(eR,null,W.createElement($q,{onInit:c,onMove:u,onMoveStart:h,onMoveEnd:f,onNodeClick:a,onEdgeClick:l,onNodeMouseEnter:w,onNodeMouseMove:x,onNodeMouseLeave:k,onNodeContextMenu:O,onNodeDoubleClick:M,nodeTypes:s,edgeTypes:o,connectionLineType:j,connectionLineStyle:F,connectionLineComponent:B,connectionLineContainerStyle:G,selectionKeyCode:Z,selectionOnDrag:ne,selectionMode:ae,deleteKeyCode:Y,multiSelectionKeyCode:ue,panActivationKeyCode:pe,zoomActivationKeyCode:te,onlyRenderVisibleElements:Fe,selectNodesOnDrag:De,defaultViewport:Cn,translateExtent:rr,minZoom:kn,maxZoom:Wt,preventScrolling:Ue,zoomOnScroll:rn,zoomOnPinch:ir,zoomOnDoubleClick:Bn,panOnScroll:Le,panOnScrollSpeed:ft,panOnScrollMode:$n,panOnDrag:sn,onPaneClick:pn,onPaneMouseEnter:mn,onPaneMouseMove:zn,onPaneMouseLeave:Ti,onPaneScroll:Er,onPaneContextMenu:sr,onSelectionContextMenu:U,onSelectionStart:q,onSelectionEnd:$,onEdgeContextMenu:He,onEdgeDoubleClick:Je,onEdgeMouseEnter:An,onEdgeMouseMove:vt,onEdgeMouseLeave:It,onReconnect:Pn??Ct,onReconnectStart:kt??or,onReconnectEnd:Mt??Se,reconnectRadius:Fr??Ur,defaultMarkerColor:bt,noDragClassName:Cs,noWheelClassName:bo,noPanClassName:nl,elevateEdgesOnSelect:Lu,rfId:Ao,disableKeyboardA11y:ol,nodeOrigin:le,nodeExtent:Me}),W.createElement(jW,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:p,onConnectStart:y,onConnectEnd:v,onClickConnectStart:S,onClickConnectEnd:g,nodesDraggable:Ae,nodesConnectable:Qe,nodesFocusable:Ce,edgesFocusable:it,edgesUpdatable:st,elementsSelectable:In,elevateNodesOnSelect:sl,minZoom:kn,maxZoom:Wt,nodeExtent:Me,onNodesChange:Vt,onEdgesChange:$r,snapToGrid:we,snapGrid:_e,connectionMode:V,translateExtent:rr,connectOnClick:Tr,defaultEdgeOptions:il,fitView:rl,fitViewOptions:Io,onNodesDelete:A,onEdgesDelete:N,onNodeDragStart:I,onNodeDrag:T,onNodeDragStop:C,onSelectionDrag:D,onSelectionDragStart:P,onSelectionDragStop:H,noPanClassName:nl,nodeOrigin:le,rfId:Ao,autoPanOnConnect:Np,autoPanOnNodeDrag:Co,onError:ks,connectionRadius:ju,isValidConnection:al,nodeDragThreshold:Dp}),W.createElement(OW,{onSelectionChange:L}),Xe,W.createElement(uW,{proOptions:Ou,position:Vu}),W.createElement(zW,{rfId:Ao,disableKeyboardA11y:ol})))});tR.displayName="ReactFlow";function nR(t){return e=>{const[n,r]=_.useState(e),i=_.useCallback(s=>r(o=>t(s,o)),[]);return[n,r,i]}}const Yq=nR(B2),Qq=nR(rq),Xq=()=>{const{theme:t,toggleTheme:e}=u9();return b.jsx(re.button,{onClick:e,className:"relative p-2 rounded-lg bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},title:`Switch to ${t==="light"?"dark":"light"} mode`,children:b.jsx(vi,{mode:"wait",children:t==="light"?b.jsx(re.div,{initial:{opacity:0,rotate:-90,scale:.8},animate:{opacity:1,rotate:0,scale:1},exit:{opacity:0,rotate:90,scale:.8},transition:{duration:.2,ease:"easeInOut"},children:b.jsx(ez,{className:"w-5 h-5 text-amber-500"})},"sun"):b.jsx(re.div,{initial:{opacity:0,rotate:90,scale:.8},animate:{opacity:1,rotate:0,scale:1},exit:{opacity:0,rotate:-90,scale:.8},transition:{duration:.2,ease:"easeInOut"},children:b.jsx(KB,{className:"w-5 h-5 text-blue-400"})},"moon")})})};function Jq(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return _.useMemo(()=>r=>{e.forEach(i=>i(r))},e)}const Ap=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Za(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function Fw(t){return"nodeType"in t}function bn(t){var e,n;return t?Za(t)?t:Fw(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function Uw(t){const{Document:e}=bn(t);return t instanceof e}function Nu(t){return Za(t)?!1:t instanceof bn(t).HTMLElement}function rR(t){return t instanceof bn(t).SVGElement}function el(t){return t?Za(t)?t.document:Fw(t)?Uw(t)?t:Nu(t)||rR(t)?t.ownerDocument:document:document:document}const Lr=Ap?_.useLayoutEffect:_.useEffect;function $w(t){const e=_.useRef(t);return Lr(()=>{e.current=t}),_.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function Zq(){const t=_.useRef(null),e=_.useCallback((r,i)=>{t.current=setInterval(r,i)},[]),n=_.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function tu(t,e){e===void 0&&(e=[t]);const n=_.useRef(t);return Lr(()=>{n.current!==t&&(n.current=t)},e),n}function Du(t,e){const n=_.useRef();return _.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function Sf(t){const e=$w(t),n=_.useRef(null),r=_.useCallback(i=>{i!==n.current&&(e==null||e(i,n.current)),n.current=i},[]);return[n,r]}function e0(t){const e=_.useRef();return _.useEffect(()=>{e.current=t},[t]),e.current}let Gm={};function Mu(t,e){return _.useMemo(()=>{if(e)return e;const n=Gm[t]==null?0:Gm[t]+1;return Gm[t]=n,t+"-"+n},[t,e])}function iR(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((s,o)=>{const a=Object.entries(o);for(const[l,c]of a){const u=s[l];u!=null&&(s[l]=u+t*c)}return s},{...e})}}const va=iR(1),bf=iR(-1);function eK(t){return"clientX"in t&&"clientY"in t}function Bw(t){if(!t)return!1;const{KeyboardEvent:e}=bn(t.target);return e&&t instanceof e}function tK(t){if(!t)return!1;const{TouchEvent:e}=bn(t.target);return e&&t instanceof e}function t0(t){if(tK(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return eK(t)?{x:t.clientX,y:t.clientY}:null}const nu=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[nu.Translate.toString(t),nu.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),eS="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function nK(t){return t.matches(eS)?t:t.querySelector(eS)}const rK={display:"none"};function iK(t){let{id:e,value:n}=t;return W.createElement("div",{id:e,style:rK},n)}function sK(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return W.createElement("div",{id:e,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function oK(){const[t,e]=_.useState("");return{announce:_.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const sR=_.createContext(null);function aK(t){const e=_.useContext(sR);_.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function lK(){const[t]=_.useState(()=>new Set),e=_.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[_.useCallback(r=>{let{type:i,event:s}=r;t.forEach(o=>{var a;return(a=o[i])==null?void 0:a.call(o,s)})},[t]),e]}const cK={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},uK={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function dK(t){let{announcements:e=uK,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=cK}=t;const{announce:s,announcement:o}=oK(),a=Mu("DndLiveRegion"),[l,c]=_.useState(!1);if(_.useEffect(()=>{c(!0)},[]),aK(_.useMemo(()=>({onDragStart(h){let{active:f}=h;s(e.onDragStart({active:f}))},onDragMove(h){let{active:f,over:p}=h;e.onDragMove&&s(e.onDragMove({active:f,over:p}))},onDragOver(h){let{active:f,over:p}=h;s(e.onDragOver({active:f,over:p}))},onDragEnd(h){let{active:f,over:p}=h;s(e.onDragEnd({active:f,over:p}))},onDragCancel(h){let{active:f,over:p}=h;s(e.onDragCancel({active:f,over:p}))}}),[s,e])),!l)return null;const u=W.createElement(W.Fragment,null,W.createElement(iK,{id:r,value:i.draggable}),W.createElement(sK,{id:a,announcement:o}));return n?Bs.createPortal(u,n):u}var _t;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(_t||(_t={}));function If(){}function hK(t,e){return _.useMemo(()=>({sensor:t,options:{}}),[t,e])}function fK(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return _.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const _r=Object.freeze({x:0,y:0});function pK(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function mK(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function gK(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function yK(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function tS(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const vK=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=tS(e,e.left,e.top),s=[];for(const o of r){const{id:a}=o,l=n.get(a);if(l){const c=pK(tS(l),i);s.push({id:a,data:{droppableContainer:o,value:c}})}}return s.sort(mK)};function wK(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),i=Math.min(e.left+e.width,t.left+t.width),s=Math.min(e.top+e.height,t.top+t.height),o=i-r,a=s-n;if(r<i&&n<s){const l=e.width*e.height,c=t.width*t.height,u=o*a,h=u/(l+c-u);return Number(h.toFixed(4))}return 0}const _K=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=[];for(const s of r){const{id:o}=s,a=n.get(o);if(a){const l=wK(a,e);l>0&&i.push({id:o,data:{droppableContainer:s,value:l}})}}return i.sort(gK)};function xK(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function oR(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:_r}function EK(t){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return i.reduce((o,a)=>({...o,top:o.top+t*a.y,bottom:o.bottom+t*a.y,left:o.left+t*a.x,right:o.right+t*a.x}),{...n})}}const TK=EK(1);function SK(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function bK(t,e,n){const r=SK(e);if(!r)return t;const{scaleX:i,scaleY:s,x:o,y:a}=r,l=t.left-o-(1-i)*parseFloat(n),c=t.top-a-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),u=i?t.width/i:t.width,h=s?t.height/s:t.height;return{width:u,height:h,top:c,right:l+u,bottom:c+h,left:l}}const IK={ignoreTransform:!1};function tl(t,e){e===void 0&&(e=IK);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:c,transformOrigin:u}=bn(t).getComputedStyle(t);c&&(n=bK(n,c,u))}const{top:r,left:i,width:s,height:o,bottom:a,right:l}=n;return{top:r,left:i,width:s,height:o,bottom:a,right:l}}function nS(t){return tl(t,{ignoreTransform:!0})}function CK(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function kK(t,e){return e===void 0&&(e=bn(t).getComputedStyle(t)),e.position==="fixed"}function AK(t,e){e===void 0&&(e=bn(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=e[i];return typeof s=="string"?n.test(s):!1})}function zw(t,e){const n=[];function r(i){if(e!=null&&n.length>=e||!i)return n;if(Uw(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!Nu(i)||rR(i)||n.includes(i))return n;const s=bn(t).getComputedStyle(i);return i!==t&&AK(i,s)&&n.push(i),kK(i,s)?n:r(i.parentNode)}return t?r(t):n}function aR(t){const[e]=zw(t,1);return e??null}function Ym(t){return!Ap||!t?null:Za(t)?t:Fw(t)?Uw(t)||t===el(t).scrollingElement?window:Nu(t)?t:null:null}function lR(t){return Za(t)?t.scrollX:t.scrollLeft}function cR(t){return Za(t)?t.scrollY:t.scrollTop}function n0(t){return{x:lR(t),y:cR(t)}}var Rt;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Rt||(Rt={}));function uR(t){return!Ap||!t?!1:t===document.scrollingElement}function dR(t){const e={x:0,y:0},n=uR(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},i=t.scrollTop<=e.y,s=t.scrollLeft<=e.x,o=t.scrollTop>=r.y,a=t.scrollLeft>=r.x;return{isTop:i,isLeft:s,isBottom:o,isRight:a,maxScroll:r,minScroll:e}}const PK={x:.2,y:.2};function RK(t,e,n,r,i){let{top:s,left:o,right:a,bottom:l}=n;r===void 0&&(r=10),i===void 0&&(i=PK);const{isTop:c,isBottom:u,isLeft:h,isRight:f}=dR(t),p={x:0,y:0},y={x:0,y:0},v={height:e.height*i.y,width:e.width*i.x};return!c&&s<=e.top+v.height?(p.y=Rt.Backward,y.y=r*Math.abs((e.top+v.height-s)/v.height)):!u&&l>=e.bottom-v.height&&(p.y=Rt.Forward,y.y=r*Math.abs((e.bottom-v.height-l)/v.height)),!f&&a>=e.right-v.width?(p.x=Rt.Forward,y.x=r*Math.abs((e.right-v.width-a)/v.width)):!h&&o<=e.left+v.width&&(p.x=Rt.Backward,y.x=r*Math.abs((e.left+v.width-o)/v.width)),{direction:p,speed:y}}function NK(t){if(t===document.scrollingElement){const{innerWidth:s,innerHeight:o}=window;return{top:0,left:0,right:s,bottom:o,width:s,height:o}}const{top:e,left:n,right:r,bottom:i}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:i,width:t.clientWidth,height:t.clientHeight}}function hR(t){return t.reduce((e,n)=>va(e,n0(n)),_r)}function DK(t){return t.reduce((e,n)=>e+lR(n),0)}function MK(t){return t.reduce((e,n)=>e+cR(n),0)}function VK(t,e){if(e===void 0&&(e=tl),!t)return;const{top:n,left:r,bottom:i,right:s}=e(t);aR(t)&&(i<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const OK=[["x",["left","right"],DK],["y",["top","bottom"],MK]];class Hw{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=zw(n),i=hR(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[s,o,a]of OK)for(const l of o)Object.defineProperty(this,l,{get:()=>{const c=a(r),u=i[s]-c;return this.rect[l]+u},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class hc{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var i;(i=this.target)==null||i.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function LK(t){const{EventTarget:e}=bn(t);return t instanceof e?t:el(t)}function Qm(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var Kn;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Kn||(Kn={}));function rS(t){t.preventDefault()}function jK(t){t.stopPropagation()}var Ne;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(Ne||(Ne={}));const fR={start:[Ne.Space,Ne.Enter],cancel:[Ne.Esc],end:[Ne.Space,Ne.Enter,Ne.Tab]},FK=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case Ne.Right:return{...n,x:n.x+25};case Ne.Left:return{...n,x:n.x-25};case Ne.Down:return{...n,y:n.y+25};case Ne.Up:return{...n,y:n.y-25}}};class pR{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new hc(el(n)),this.windowListeners=new hc(bn(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Kn.Resize,this.handleCancel),this.windowListeners.add(Kn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Kn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&VK(r),n(_r)}handleKeyDown(e){if(Bw(e)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:s=fR,coordinateGetter:o=FK,scrollBehavior:a="smooth"}=i,{code:l}=e;if(s.end.includes(l)){this.handleEnd(e);return}if(s.cancel.includes(l)){this.handleCancel(e);return}const{collisionRect:c}=r.current,u=c?{x:c.left,y:c.top}:_r;this.referenceCoordinates||(this.referenceCoordinates=u);const h=o(e,{active:n,context:r.current,currentCoordinates:u});if(h){const f=bf(h,u),p={x:0,y:0},{scrollableAncestors:y}=r.current;for(const v of y){const S=e.code,{isTop:g,isRight:w,isLeft:x,isBottom:k,maxScroll:O,minScroll:M}=dR(v),I=NK(v),T={x:Math.min(S===Ne.Right?I.right-I.width/2:I.right,Math.max(S===Ne.Right?I.left:I.left+I.width/2,h.x)),y:Math.min(S===Ne.Down?I.bottom-I.height/2:I.bottom,Math.max(S===Ne.Down?I.top:I.top+I.height/2,h.y))},C=S===Ne.Right&&!w||S===Ne.Left&&!x,A=S===Ne.Down&&!k||S===Ne.Up&&!g;if(C&&T.x!==h.x){const N=v.scrollLeft+f.x,L=S===Ne.Right&&N<=O.x||S===Ne.Left&&N>=M.x;if(L&&!f.y){v.scrollTo({left:N,behavior:a});return}L?p.x=v.scrollLeft-N:p.x=S===Ne.Right?v.scrollLeft-O.x:v.scrollLeft-M.x,p.x&&v.scrollBy({left:-p.x,behavior:a});break}else if(A&&T.y!==h.y){const N=v.scrollTop+f.y,L=S===Ne.Down&&N<=O.y||S===Ne.Up&&N>=M.y;if(L&&!f.x){v.scrollTo({top:N,behavior:a});return}L?p.y=v.scrollTop-N:p.y=S===Ne.Down?v.scrollTop-O.y:v.scrollTop-M.y,p.y&&v.scrollBy({top:-p.y,behavior:a});break}}this.handleMove(e,va(bf(h,this.referenceCoordinates),p))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}pR.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=fR,onActivation:i}=e,{active:s}=n;const{code:o}=t.nativeEvent;if(r.start.includes(o)){const a=s.activatorNode.current;return a&&t.target!==a?!1:(t.preventDefault(),i==null||i({event:t.nativeEvent}),!0)}return!1}}];function iS(t){return!!(t&&"distance"in t)}function sS(t){return!!(t&&"delay"in t)}class Ww{constructor(e,n,r){var i;r===void 0&&(r=LK(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:s}=e,{target:o}=s;this.props=e,this.events=n,this.document=el(o),this.documentListeners=new hc(this.document),this.listeners=new hc(r),this.windowListeners=new hc(bn(o)),this.initialCoordinates=(i=t0(s))!=null?i:_r,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Kn.Resize,this.handleCancel),this.windowListeners.add(Kn.DragStart,rS),this.windowListeners.add(Kn.VisibilityChange,this.handleCancel),this.windowListeners.add(Kn.ContextMenu,rS),this.documentListeners.add(Kn.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(sS(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(iS(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:i}=this.props;i(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(Kn.Click,jK,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Kn.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:i,props:s}=this,{onMove:o,options:{activationConstraint:a}}=s;if(!i)return;const l=(n=t0(e))!=null?n:_r,c=bf(i,l);if(!r&&a){if(iS(a)){if(a.tolerance!=null&&Qm(c,a.tolerance))return this.handleCancel();if(Qm(c,a.distance))return this.handleStart()}if(sS(a)&&Qm(c,a.tolerance))return this.handleCancel();this.handlePending(a,c);return}e.cancelable&&e.preventDefault(),o(l)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===Ne.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const UK={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class qw extends Ww{constructor(e){const{event:n}=e,r=el(n.target);super(e,UK,r)}}qw.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const $K={move:{name:"mousemove"},end:{name:"mouseup"}};var r0;(function(t){t[t.RightClick=2]="RightClick"})(r0||(r0={}));class BK extends Ww{constructor(e){super(e,$K,el(e.event.target))}}BK.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===r0.RightClick?!1:(r==null||r({event:n}),!0)}}];const Xm={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class zK extends Ww{constructor(e){super(e,Xm)}static setup(){return window.addEventListener(Xm.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Xm.move.name,e)};function e(){}}}zK.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:i}=n;return i.length>1?!1:(r==null||r({event:n}),!0)}}];var fc;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(fc||(fc={}));var Cf;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Cf||(Cf={}));function HK(t){let{acceleration:e,activator:n=fc.Pointer,canScroll:r,draggingRect:i,enabled:s,interval:o=5,order:a=Cf.TreeOrder,pointerCoordinates:l,scrollableAncestors:c,scrollableAncestorRects:u,delta:h,threshold:f}=t;const p=qK({delta:h,disabled:!s}),[y,v]=Zq(),S=_.useRef({x:0,y:0}),g=_.useRef({x:0,y:0}),w=_.useMemo(()=>{switch(n){case fc.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case fc.DraggableRect:return i}},[n,i,l]),x=_.useRef(null),k=_.useCallback(()=>{const M=x.current;if(!M)return;const I=S.current.x*g.current.x,T=S.current.y*g.current.y;M.scrollBy(I,T)},[]),O=_.useMemo(()=>a===Cf.TreeOrder?[...c].reverse():c,[a,c]);_.useEffect(()=>{if(!s||!c.length||!w){v();return}for(const M of O){if((r==null?void 0:r(M))===!1)continue;const I=c.indexOf(M),T=u[I];if(!T)continue;const{direction:C,speed:A}=RK(M,T,w,e,f);for(const N of["x","y"])p[N][C[N]]||(A[N]=0,C[N]=0);if(A.x>0||A.y>0){v(),x.current=M,y(k,o),S.current=A,g.current=C;return}}S.current={x:0,y:0},g.current={x:0,y:0},v()},[e,k,r,v,s,o,JSON.stringify(w),JSON.stringify(p),y,c,O,u,JSON.stringify(f)])}const WK={x:{[Rt.Backward]:!1,[Rt.Forward]:!1},y:{[Rt.Backward]:!1,[Rt.Forward]:!1}};function qK(t){let{delta:e,disabled:n}=t;const r=e0(e);return Du(i=>{if(n||!r||!i)return WK;const s={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[Rt.Backward]:i.x[Rt.Backward]||s.x===-1,[Rt.Forward]:i.x[Rt.Forward]||s.x===1},y:{[Rt.Backward]:i.y[Rt.Backward]||s.y===-1,[Rt.Forward]:i.y[Rt.Forward]||s.y===1}}},[n,e,r])}function KK(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return Du(i=>{var s;return e==null?null:(s=r??i)!=null?s:null},[r,e])}function GK(t,e){return _.useMemo(()=>t.reduce((n,r)=>{const{sensor:i}=r,s=i.activators.map(o=>({eventName:o.eventName,handler:e(o.handler,r)}));return[...n,...s]},[]),[t,e])}var ru;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(ru||(ru={}));var i0;(function(t){t.Optimized="optimized"})(i0||(i0={}));const oS=new Map;function YK(t,e){let{dragging:n,dependencies:r,config:i}=e;const[s,o]=_.useState(null),{frequency:a,measure:l,strategy:c}=i,u=_.useRef(t),h=S(),f=tu(h),p=_.useCallback(function(g){g===void 0&&(g=[]),!f.current&&o(w=>w===null?g:w.concat(g.filter(x=>!w.includes(x))))},[f]),y=_.useRef(null),v=Du(g=>{if(h&&!n)return oS;if(!g||g===oS||u.current!==t||s!=null){const w=new Map;for(let x of t){if(!x)continue;if(s&&s.length>0&&!s.includes(x.id)&&x.rect.current){w.set(x.id,x.rect.current);continue}const k=x.node.current,O=k?new Hw(l(k),k):null;x.rect.current=O,O&&w.set(x.id,O)}return w}return g},[t,s,n,h,l]);return _.useEffect(()=>{u.current=t},[t]),_.useEffect(()=>{h||p()},[n,h]),_.useEffect(()=>{s&&s.length>0&&o(null)},[JSON.stringify(s)]),_.useEffect(()=>{h||typeof a!="number"||y.current!==null||(y.current=setTimeout(()=>{p(),y.current=null},a))},[a,h,p,...r]),{droppableRects:v,measureDroppableContainers:p,measuringScheduled:s!=null};function S(){switch(c){case ru.Always:return!1;case ru.BeforeDragging:return n;default:return!n}}}function mR(t,e){return Du(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function QK(t,e){return mR(t,e)}function XK(t){let{callback:e,disabled:n}=t;const r=$w(e),i=_.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(r)},[r,n]);return _.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function Pp(t){let{callback:e,disabled:n}=t;const r=$w(e),i=_.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(r)},[n]);return _.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function JK(t){return new Hw(tl(t),t)}function aS(t,e,n){e===void 0&&(e=JK);const[r,i]=_.useState(null);function s(){i(l=>{if(!t)return null;if(t.isConnected===!1){var c;return(c=l??n)!=null?c:null}const u=e(t);return JSON.stringify(l)===JSON.stringify(u)?l:u})}const o=XK({callback(l){if(t)for(const c of l){const{type:u,target:h}=c;if(u==="childList"&&h instanceof HTMLElement&&h.contains(t)){s();break}}}}),a=Pp({callback:s});return Lr(()=>{s(),t?(a==null||a.observe(t),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),o==null||o.disconnect())},[t]),r}function ZK(t){const e=mR(t);return oR(t,e)}const lS=[];function eG(t){const e=_.useRef(t),n=Du(r=>t?r&&r!==lS&&t&&e.current&&t.parentNode===e.current.parentNode?r:zw(t):lS,[t]);return _.useEffect(()=>{e.current=t},[t]),n}function tG(t){const[e,n]=_.useState(null),r=_.useRef(t),i=_.useCallback(s=>{const o=Ym(s.target);o&&n(a=>a?(a.set(o,n0(o)),new Map(a)):null)},[]);return _.useEffect(()=>{const s=r.current;if(t!==s){o(s);const a=t.map(l=>{const c=Ym(l);return c?(c.addEventListener("scroll",i,{passive:!0}),[c,n0(c)]):null}).filter(l=>l!=null);n(a.length?new Map(a):null),r.current=t}return()=>{o(t),o(s)};function o(a){a.forEach(l=>{const c=Ym(l);c==null||c.removeEventListener("scroll",i)})}},[i,t]),_.useMemo(()=>t.length?e?Array.from(e.values()).reduce((s,o)=>va(s,o),_r):hR(t):_r,[t,e])}function cS(t,e){e===void 0&&(e=[]);const n=_.useRef(null);return _.useEffect(()=>{n.current=null},e),_.useEffect(()=>{const r=t!==_r;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?bf(t,n.current):_r}function nG(t){_.useEffect(()=>{if(!Ap)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n==null||n()}},t.map(e=>{let{sensor:n}=e;return n}))}function rG(t,e){return _.useMemo(()=>t.reduce((n,r)=>{let{eventName:i,handler:s}=r;return n[i]=o=>{s(o,e)},n},{}),[t,e])}function gR(t){return _.useMemo(()=>t?CK(t):null,[t])}const uS=[];function iG(t,e){e===void 0&&(e=tl);const[n]=t,r=gR(n?bn(n):null),[i,s]=_.useState(uS);function o(){s(()=>t.length?t.map(l=>uR(l)?r:new Hw(e(l),l)):uS)}const a=Pp({callback:o});return Lr(()=>{a==null||a.disconnect(),o(),t.forEach(l=>a==null?void 0:a.observe(l))},[t]),i}function sG(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return Nu(e)?e:t}function oG(t){let{measure:e}=t;const[n,r]=_.useState(null),i=_.useCallback(c=>{for(const{target:u}of c)if(Nu(u)){r(h=>{const f=e(u);return h?{...h,width:f.width,height:f.height}:f});break}},[e]),s=Pp({callback:i}),o=_.useCallback(c=>{const u=sG(c);s==null||s.disconnect(),u&&(s==null||s.observe(u)),r(u?e(u):null)},[e,s]),[a,l]=Sf(o);return _.useMemo(()=>({nodeRef:a,rect:n,setRef:l}),[n,a,l])}const aG=[{sensor:qw,options:{}},{sensor:pR,options:{}}],lG={current:{}},dh={draggable:{measure:nS},droppable:{measure:nS,strategy:ru.WhileDragging,frequency:i0.Optimized},dragOverlay:{measure:tl}};class pc extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const cG={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new pc,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:If},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:dh,measureDroppableContainers:If,windowRect:null,measuringScheduled:!1},uG={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:If,draggableNodes:new Map,over:null,measureDroppableContainers:If},Rp=_.createContext(uG),yR=_.createContext(cG);function dG(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new pc}}}function hG(t,e){switch(e.type){case _t.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case _t.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case _t.DragEnd:case _t.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case _t.RegisterDroppable:{const{element:n}=e,{id:r}=n,i=new pc(t.droppable.containers);return i.set(r,n),{...t,droppable:{...t.droppable,containers:i}}}case _t.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=e,s=t.droppable.containers.get(n);if(!s||r!==s.key)return t;const o=new pc(t.droppable.containers);return o.set(n,{...s,disabled:i}),{...t,droppable:{...t.droppable,containers:o}}}case _t.UnregisterDroppable:{const{id:n,key:r}=e,i=t.droppable.containers.get(n);if(!i||r!==i.key)return t;const s=new pc(t.droppable.containers);return s.delete(n),{...t,droppable:{...t.droppable,containers:s}}}default:return t}}function fG(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:i}=_.useContext(Rp),s=e0(r),o=e0(n==null?void 0:n.id);return _.useEffect(()=>{if(!e&&!r&&s&&o!=null){if(!Bw(s)||document.activeElement===s.target)return;const a=i.get(o);if(!a)return;const{activatorNode:l,node:c}=a;if(!l.current&&!c.current)return;requestAnimationFrame(()=>{for(const u of[l.current,c.current]){if(!u)continue;const h=nK(u);if(h){h.focus();break}}})}},[r,e,i,o,s]),null}function pG(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((i,s)=>s({transform:i,...r}),n):n}function mG(t){return _.useMemo(()=>({draggable:{...dh.draggable,...t==null?void 0:t.draggable},droppable:{...dh.droppable,...t==null?void 0:t.droppable},dragOverlay:{...dh.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function gG(t){let{activeNode:e,measure:n,initialRect:r,config:i=!0}=t;const s=_.useRef(!1),{x:o,y:a}=typeof i=="boolean"?{x:i,y:i}:i;Lr(()=>{if(!o&&!a||!e){s.current=!1;return}if(s.current||!r)return;const c=e==null?void 0:e.node.current;if(!c||c.isConnected===!1)return;const u=n(c),h=oR(u,r);if(o||(h.x=0),a||(h.y=0),s.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const f=aR(c);f&&f.scrollBy({top:h.y,left:h.x})}},[e,o,a,r,n])}const vR=_.createContext({..._r,scaleX:1,scaleY:1});var Vi;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Vi||(Vi={}));const yG=_.memo(function(e){var n,r,i,s;let{id:o,accessibility:a,autoScroll:l=!0,children:c,sensors:u=aG,collisionDetection:h=_K,measuring:f,modifiers:p,...y}=e;const v=_.useReducer(hG,void 0,dG),[S,g]=v,[w,x]=lK(),[k,O]=_.useState(Vi.Uninitialized),M=k===Vi.Initialized,{draggable:{active:I,nodes:T,translate:C},droppable:{containers:A}}=S,N=I!=null?T.get(I):null,L=_.useRef({initial:null,translated:null}),P=_.useMemo(()=>{var Xe;return I!=null?{id:I,data:(Xe=N==null?void 0:N.data)!=null?Xe:lG,rect:L}:null},[I,N]),D=_.useRef(null),[H,U]=_.useState(null),[q,$]=_.useState(null),V=tu(y,Object.values(y)),j=Mu("DndDescribedBy",o),F=_.useMemo(()=>A.getEnabled(),[A]),B=mG(f),{droppableRects:G,measureDroppableContainers:Y,measuringScheduled:Z}=YK(F,{dragging:M,dependencies:[C.x,C.y],config:B.droppable}),ne=KK(T,I),ae=_.useMemo(()=>q?t0(q):null,[q]),pe=sr(),ue=QK(ne,B.draggable.measure);gG({activeNode:I!=null?T.get(I):null,config:pe.layoutShiftCompensation,initialRect:ue,measure:B.draggable.measure});const te=aS(ne,B.draggable.measure,ue),we=aS(ne?ne.parentElement:null),_e=_.useRef({activatorEvent:null,active:null,activeNode:ne,collisionRect:null,collisions:null,droppableRects:G,draggableNodes:T,draggingNode:null,draggingNodeRect:null,droppableContainers:A,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Fe=A.getNodeFor((n=_e.current.over)==null?void 0:n.id),De=oG({measure:B.dragOverlay.measure}),Ae=(r=De.nodeRef.current)!=null?r:ne,Qe=M?(i=De.rect)!=null?i:te:null,Ce=!!(De.nodeRef.current&&De.rect),le=ZK(Ce?null:te),it=gR(Ae?bn(Ae):null),st=eG(M?Fe??ne:null),In=iG(st),Cn=pG(p,{transform:{x:C.x-le.x,y:C.y-le.y,scaleX:1,scaleY:1},activatorEvent:q,active:P,activeNodeRect:te,containerNodeRect:we,draggingNodeRect:Qe,over:_e.current.over,overlayNodeRect:De.rect,scrollableAncestors:st,scrollableAncestorRects:In,windowRect:it}),kn=ae?va(ae,C):null,Wt=tG(st),rr=cS(Wt),Ue=cS(Wt,[te]),Me=va(Cn,rr),bt=Qe?TK(Qe,Cn):null,rn=P&&bt?h({active:P,collisionRect:bt,droppableRects:G,droppableContainers:F,pointerCoordinates:kn}):null,ir=yK(rn,"id"),[Le,ft]=_.useState(null),$n=Ce?Cn:va(Cn,Ue),Bn=xK($n,(s=Le==null?void 0:Le.rect)!=null?s:null,te),sn=_.useRef(null),pn=_.useCallback((Xe,He)=>{let{sensor:Je,options:An}=He;if(D.current==null)return;const vt=T.get(D.current);if(!vt)return;const It=Xe.nativeEvent,Ct=new Je({active:D.current,activeNode:vt,event:It,options:An,context:_e,onAbort(Se){if(!T.get(Se))return;const{onDragAbort:kt}=V.current,Mt={id:Se};kt==null||kt(Mt),w({type:"onDragAbort",event:Mt})},onPending(Se,Pn,kt,Mt){if(!T.get(Se))return;const{onDragPending:Ur}=V.current,Vt={id:Se,constraint:Pn,initialCoordinates:kt,offset:Mt};Ur==null||Ur(Vt),w({type:"onDragPending",event:Vt})},onStart(Se){const Pn=D.current;if(Pn==null)return;const kt=T.get(Pn);if(!kt)return;const{onDragStart:Mt}=V.current,Fr={activatorEvent:It,active:{id:Pn,data:kt.data,rect:L}};Bs.unstable_batchedUpdates(()=>{Mt==null||Mt(Fr),O(Vi.Initializing),g({type:_t.DragStart,initialCoordinates:Se,active:Pn}),w({type:"onDragStart",event:Fr}),U(sn.current),$(It)})},onMove(Se){g({type:_t.DragMove,coordinates:Se})},onEnd:or(_t.DragEnd),onCancel:or(_t.DragCancel)});sn.current=Ct;function or(Se){return async function(){const{active:kt,collisions:Mt,over:Fr,scrollAdjustedTranslate:Ur}=_e.current;let Vt=null;if(kt&&Ur){const{cancelDrop:$r}=V.current;Vt={activatorEvent:It,active:kt,collisions:Mt,delta:Ur,over:Fr},Se===_t.DragEnd&&typeof $r=="function"&&await Promise.resolve($r(Vt))&&(Se=_t.DragCancel)}D.current=null,Bs.unstable_batchedUpdates(()=>{g({type:Se}),O(Vi.Uninitialized),ft(null),U(null),$(null),sn.current=null;const $r=Se===_t.DragEnd?"onDragEnd":"onDragCancel";if(Vt){const Cs=V.current[$r];Cs==null||Cs(Vt),w({type:$r,event:Vt})}})}}},[T]),mn=_.useCallback((Xe,He)=>(Je,An)=>{const vt=Je.nativeEvent,It=T.get(An);if(D.current!==null||!It||vt.dndKit||vt.defaultPrevented)return;const Ct={active:It};Xe(Je,He.options,Ct)===!0&&(vt.dndKit={capturedBy:He.sensor},D.current=An,pn(Je,He))},[T,pn]),zn=GK(u,mn);nG(u),Lr(()=>{te&&k===Vi.Initializing&&O(Vi.Initialized)},[te,k]),_.useEffect(()=>{const{onDragMove:Xe}=V.current,{active:He,activatorEvent:Je,collisions:An,over:vt}=_e.current;if(!He||!Je)return;const It={active:He,activatorEvent:Je,collisions:An,delta:{x:Me.x,y:Me.y},over:vt};Bs.unstable_batchedUpdates(()=>{Xe==null||Xe(It),w({type:"onDragMove",event:It})})},[Me.x,Me.y]),_.useEffect(()=>{const{active:Xe,activatorEvent:He,collisions:Je,droppableContainers:An,scrollAdjustedTranslate:vt}=_e.current;if(!Xe||D.current==null||!He||!vt)return;const{onDragOver:It}=V.current,Ct=An.get(ir),or=Ct&&Ct.rect.current?{id:Ct.id,rect:Ct.rect.current,data:Ct.data,disabled:Ct.disabled}:null,Se={active:Xe,activatorEvent:He,collisions:Je,delta:{x:vt.x,y:vt.y},over:or};Bs.unstable_batchedUpdates(()=>{ft(or),It==null||It(Se),w({type:"onDragOver",event:Se})})},[ir]),Lr(()=>{_e.current={activatorEvent:q,active:P,activeNode:ne,collisionRect:bt,collisions:rn,droppableRects:G,draggableNodes:T,draggingNode:Ae,draggingNodeRect:Qe,droppableContainers:A,over:Le,scrollableAncestors:st,scrollAdjustedTranslate:Me},L.current={initial:Qe,translated:bt}},[P,ne,rn,bt,T,Ae,Qe,G,A,Le,st,Me]),HK({...pe,delta:C,draggingRect:bt,pointerCoordinates:kn,scrollableAncestors:st,scrollableAncestorRects:In});const Ti=_.useMemo(()=>({active:P,activeNode:ne,activeNodeRect:te,activatorEvent:q,collisions:rn,containerNodeRect:we,dragOverlay:De,draggableNodes:T,droppableContainers:A,droppableRects:G,over:Le,measureDroppableContainers:Y,scrollableAncestors:st,scrollableAncestorRects:In,measuringConfiguration:B,measuringScheduled:Z,windowRect:it}),[P,ne,te,q,rn,we,De,T,A,G,Le,Y,st,In,B,Z,it]),Er=_.useMemo(()=>({activatorEvent:q,activators:zn,active:P,activeNodeRect:te,ariaDescribedById:{draggable:j},dispatch:g,draggableNodes:T,over:Le,measureDroppableContainers:Y}),[q,zn,P,te,g,j,T,Le,Y]);return W.createElement(sR.Provider,{value:x},W.createElement(Rp.Provider,{value:Er},W.createElement(yR.Provider,{value:Ti},W.createElement(vR.Provider,{value:Bn},c)),W.createElement(fG,{disabled:(a==null?void 0:a.restoreFocus)===!1})),W.createElement(dK,{...a,hiddenTextDescribedById:j}));function sr(){const Xe=(H==null?void 0:H.autoScrollEnabled)===!1,He=typeof l=="object"?l.enabled===!1:l===!1,Je=M&&!Xe&&!He;return typeof l=="object"?{...l,enabled:Je}:{enabled:Je}}}),vG=_.createContext(null),dS="button",wG="Draggable";function _G(t){let{id:e,data:n,disabled:r=!1,attributes:i}=t;const s=Mu(wG),{activators:o,activatorEvent:a,active:l,activeNodeRect:c,ariaDescribedById:u,draggableNodes:h,over:f}=_.useContext(Rp),{role:p=dS,roleDescription:y="draggable",tabIndex:v=0}=i??{},S=(l==null?void 0:l.id)===e,g=_.useContext(S?vR:vG),[w,x]=Sf(),[k,O]=Sf(),M=rG(o,e),I=tu(n);Lr(()=>(h.set(e,{id:e,key:s,node:w,activatorNode:k,data:I}),()=>{const C=h.get(e);C&&C.key===s&&h.delete(e)}),[h,e]);const T=_.useMemo(()=>({role:p,tabIndex:v,"aria-disabled":r,"aria-pressed":S&&p===dS?!0:void 0,"aria-roledescription":y,"aria-describedby":u.draggable}),[r,p,v,S,y,u.draggable]);return{active:l,activatorEvent:a,activeNodeRect:c,attributes:T,isDragging:S,listeners:r?void 0:M,node:w,over:f,setNodeRef:x,setActivatorNodeRef:O,transform:g}}function xG(){return _.useContext(yR)}const EG="Droppable",TG={timeout:25};function SG(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:i}=t;const s=Mu(EG),{active:o,dispatch:a,over:l,measureDroppableContainers:c}=_.useContext(Rp),u=_.useRef({disabled:n}),h=_.useRef(!1),f=_.useRef(null),p=_.useRef(null),{disabled:y,updateMeasurementsFor:v,timeout:S}={...TG,...i},g=tu(v??r),w=_.useCallback(()=>{if(!h.current){h.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{c(Array.isArray(g.current)?g.current:[g.current]),p.current=null},S)},[S]),x=Pp({callback:w,disabled:y||!o}),k=_.useCallback((T,C)=>{x&&(C&&(x.unobserve(C),h.current=!1),T&&x.observe(T))},[x]),[O,M]=Sf(k),I=tu(e);return _.useEffect(()=>{!x||!O.current||(x.disconnect(),h.current=!1,x.observe(O.current))},[O,x]),_.useEffect(()=>(a({type:_t.RegisterDroppable,element:{id:r,key:s,disabled:n,node:O,rect:f,data:I}}),()=>a({type:_t.UnregisterDroppable,key:s,id:r})),[r]),_.useEffect(()=>{n!==u.current.disabled&&(a({type:_t.SetDroppableDisabled,id:r,key:s,disabled:n}),u.current.disabled=n)},[r,s,n,a]),{active:o,rect:f,isOver:(l==null?void 0:l.id)===r,node:O,over:l,setNodeRef:M}}function Kw(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function bG(t,e){return t.reduce((n,r,i)=>{const s=e.get(r);return s&&(n[i]=s),n},Array(t.length))}function Vd(t){return t!==null&&t>=0}function IG(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function CG(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const wR=t=>{let{rects:e,activeIndex:n,overIndex:r,index:i}=t;const s=Kw(e,r,n),o=e[i],a=s[i];return!a||!o?null:{x:a.left-o.left,y:a.top-o.top,scaleX:a.width/o.width,scaleY:a.height/o.height}},Od={scaleX:1,scaleY:1},kG=t=>{var e;let{activeIndex:n,activeNodeRect:r,index:i,rects:s,overIndex:o}=t;const a=(e=s[n])!=null?e:r;if(!a)return null;if(i===n){const c=s[o];return c?{x:0,y:n<o?c.top+c.height-(a.top+a.height):c.top-a.top,...Od}:null}const l=AG(s,i,n);return i>n&&i<=o?{x:0,y:-a.height-l,...Od}:i<n&&i>=o?{x:0,y:a.height+l,...Od}:{x:0,y:0,...Od}};function AG(t,e,n){const r=t[e],i=t[e-1],s=t[e+1];return r?n<e?i?r.top-(i.top+i.height):s?s.top-(r.top+r.height):0:s?s.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const _R="Sortable",xR=W.createContext({activeIndex:-1,containerId:_R,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:wR,disabled:{draggable:!1,droppable:!1}});function PG(t){let{children:e,id:n,items:r,strategy:i=wR,disabled:s=!1}=t;const{active:o,dragOverlay:a,droppableRects:l,over:c,measureDroppableContainers:u}=xG(),h=Mu(_R,n),f=a.rect!==null,p=_.useMemo(()=>r.map(M=>typeof M=="object"&&"id"in M?M.id:M),[r]),y=o!=null,v=o?p.indexOf(o.id):-1,S=c?p.indexOf(c.id):-1,g=_.useRef(p),w=!IG(p,g.current),x=S!==-1&&v===-1||w,k=CG(s);Lr(()=>{w&&y&&u(p)},[w,p,y,u]),_.useEffect(()=>{g.current=p},[p]);const O=_.useMemo(()=>({activeIndex:v,containerId:h,disabled:k,disableTransforms:x,items:p,overIndex:S,useDragOverlay:f,sortedRects:bG(p,l),strategy:i}),[v,h,k.draggable,k.droppable,x,p,S,l,f,i]);return W.createElement(xR.Provider,{value:O},e)}const RG=t=>{let{id:e,items:n,activeIndex:r,overIndex:i}=t;return Kw(n,r,i).indexOf(e)},NG=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:i,items:s,newIndex:o,previousItems:a,previousContainerId:l,transition:c}=t;return!c||!r||a!==s&&i===o?!1:n?!0:o!==i&&e===l},DG={duration:200,easing:"ease"},ER="transform",MG=nu.Transition.toString({property:ER,duration:0,easing:"linear"}),VG={roleDescription:"sortable"};function OG(t){let{disabled:e,index:n,node:r,rect:i}=t;const[s,o]=_.useState(null),a=_.useRef(n);return Lr(()=>{if(!e&&n!==a.current&&r.current){const l=i.current;if(l){const c=tl(r.current,{ignoreTransform:!0}),u={x:l.left-c.left,y:l.top-c.top,scaleX:l.width/c.width,scaleY:l.height/c.height};(u.x||u.y)&&o(u)}}n!==a.current&&(a.current=n)},[e,n,r,i]),_.useEffect(()=>{s&&o(null)},[s]),s}function LG(t){let{animateLayoutChanges:e=NG,attributes:n,disabled:r,data:i,getNewIndex:s=RG,id:o,strategy:a,resizeObserverConfig:l,transition:c=DG}=t;const{items:u,containerId:h,activeIndex:f,disabled:p,disableTransforms:y,sortedRects:v,overIndex:S,useDragOverlay:g,strategy:w}=_.useContext(xR),x=jG(r,p),k=u.indexOf(o),O=_.useMemo(()=>({sortable:{containerId:h,index:k,items:u},...i}),[h,i,k,u]),M=_.useMemo(()=>u.slice(u.indexOf(o)),[u,o]),{rect:I,node:T,isOver:C,setNodeRef:A}=SG({id:o,data:O,disabled:x.droppable,resizeObserverConfig:{updateMeasurementsFor:M,...l}}),{active:N,activatorEvent:L,activeNodeRect:P,attributes:D,setNodeRef:H,listeners:U,isDragging:q,over:$,setActivatorNodeRef:V,transform:j}=_G({id:o,data:O,attributes:{...VG,...n},disabled:x.draggable}),F=Jq(A,H),B=!!N,G=B&&!y&&Vd(f)&&Vd(S),Y=!g&&q,Z=Y&&G?j:null,ae=G?Z??(a??w)({rects:v,activeNodeRect:P,activeIndex:f,overIndex:S,index:k}):null,pe=Vd(f)&&Vd(S)?s({id:o,items:u,activeIndex:f,overIndex:S}):k,ue=N==null?void 0:N.id,te=_.useRef({activeId:ue,items:u,newIndex:pe,containerId:h}),we=u!==te.current.items,_e=e({active:N,containerId:h,isDragging:q,isSorting:B,id:o,index:k,items:u,newIndex:te.current.newIndex,previousItems:te.current.items,previousContainerId:te.current.containerId,transition:c,wasDragging:te.current.activeId!=null}),Fe=OG({disabled:!_e,index:k,node:T,rect:I});return _.useEffect(()=>{B&&te.current.newIndex!==pe&&(te.current.newIndex=pe),h!==te.current.containerId&&(te.current.containerId=h),u!==te.current.items&&(te.current.items=u)},[B,pe,h,u]),_.useEffect(()=>{if(ue===te.current.activeId)return;if(ue!=null&&te.current.activeId==null){te.current.activeId=ue;return}const Ae=setTimeout(()=>{te.current.activeId=ue},50);return()=>clearTimeout(Ae)},[ue]),{active:N,activeIndex:f,attributes:D,data:O,rect:I,index:k,newIndex:pe,items:u,isOver:C,isSorting:B,isDragging:q,listeners:U,node:T,overIndex:S,over:$,setNodeRef:F,setActivatorNodeRef:V,setDroppableNodeRef:A,setDraggableNodeRef:H,transform:Fe??ae,transition:De()};function De(){if(Fe||we&&te.current.newIndex===k)return MG;if(!(Y&&!Bw(L)||!c)&&(B||_e))return nu.Transition.toString({...c,property:ER})}}function jG(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t==null?void 0:t.draggable)!=null?n:e.draggable,droppable:(r=t==null?void 0:t.droppable)!=null?r:e.droppable}}Ne.Down,Ne.Right,Ne.Up,Ne.Left;const FG=({project:t,onRename:e,onClose:n})=>{const[r,i]=_.useState(t.name),s=()=>{r.trim()&&r!==t.name&&e(t.id,r.trim()),n()},o=b.jsx("div",{className:"fixed inset-0 z-[9999] flex items-start justify-center pt-24 bg-white/10 backdrop-blur-md",children:b.jsxs(re.div,{initial:{scale:.9,opacity:0,y:10},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:10},className:"bg-white dark:bg-gray-800 p-6 rounded-xl w-full max-w-md shadow-xl border dark:border-gray-700",children:[b.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-800 dark:text-white",children:"Rename Project"}),b.jsx("input",{type:"text",value:r,onChange:a=>i(a.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white mb-4",autoFocus:!0}),b.jsxs("div",{className:"flex justify-end gap-2",children:[b.jsxs("button",{onClick:n,className:"flex items-center gap-1 px-3 py-1.5 text-sm text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600",children:[b.jsx(qc,{className:"w-4 h-4"})," Cancel"]}),b.jsxs("button",{onClick:s,className:"flex items-center gap-1 px-3 py-1.5 text-sm bg-blue-600 hover:bg-blue-700 text-white rounded-lg",children:[b.jsx(RP,{className:"w-4 h-4"})," Save"]})]})]})});return Bs.createPortal(o,document.body)},UG=({project:t,currentProject:e,onClick:n,onRenameStart:r,onDelete:i})=>{const{attributes:s,listeners:o,setNodeRef:a,transform:l,transition:c,isDragging:u}=LG({id:t.id}),h=l?{...l,x:0}:null,f={transform:nu.Transform.toString(h),transition:c,zIndex:u?50:"auto"};return b.jsxs(re.div,{ref:a,style:f,onClick:()=>n(t.id),className:"flex items-center justify-between px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors cursor-pointer",children:[b.jsxs("div",{className:"flex items-center space-x-2 flex-1",children:[b.jsx("span",{...s,...o,onClick:p=>p.stopPropagation(),className:"cursor-grab text-gray-400 hover:text-gray-600",children:b.jsx(UB,{className:"w-4 h-4"})}),b.jsx(_w,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),b.jsx("span",{className:"truncate",children:t.name})]}),b.jsxs("div",{className:"flex items-center space-x-2",children:[(e==null?void 0:e.id)===t.id&&b.jsx(zl,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),b.jsx(XB,{onClick:p=>{p.stopPropagation(),r(t)},className:"w-4 h-4 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 cursor-pointer"}),b.jsx(xw,{onClick:p=>{p.stopPropagation(),confirm(`Are you sure you want to delete project "${t.name}"?`)&&i(t.id)},className:"w-4 h-4 text-red-500 hover:text-red-700 cursor-pointer"})]})]})},$G=()=>{const{currentProject:t,projects:e,switchProject:n,createProject:r,updateProjectName:i,deleteProject:s}=Qv(),[o,a]=_.useState(!1),[l,c]=_.useState(!1),[u,h]=_.useState(""),[f,p]=_.useState(e),[y,v]=_.useState(null),S=_.useRef(null),g=_.useRef(null),w=fK(hK(qw));_.useEffect(()=>{p(e)},[e]),_.useEffect(()=>{const M=I=>{o&&S.current&&!S.current.contains(I.target)&&a(!1)};return document.addEventListener("mousedown",M),()=>{document.removeEventListener("mousedown",M)}},[o]);const x=async M=>{if(M.preventDefault(),!!u.trim())try{await r(u.trim()),h(""),c(!1),a(!1)}catch(I){console.error("Error creating project:",I)}},k=M=>{const{active:I,over:T}=M;if(I.id!==(T==null?void 0:T.id)){const C=f.findIndex(L=>L.id===I.id),A=f.findIndex(L=>L.id===(T==null?void 0:T.id)),N=Kw(f,C,A);p(N)}},O=()=>{g.current&&(g.current.scrollTop=0,g.current.scrollLeft=0)};return b.jsxs("div",{ref:S,className:"relative w-full max-w-sm",children:[b.jsxs(re.button,{onClick:()=>a(!o),whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full flex items-center justify-between px-4 py-2 bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition-colors",children:[b.jsxs("div",{className:"flex items-center space-x-2 min-w-0",children:[b.jsx(_w,{className:"w-4 h-4 text-blue-600 dark:text-blue-400 flex-shrink-0"}),b.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:(t==null?void 0:t.name)||"Select Project"})]}),b.jsx(kP,{className:`w-4 h-4 text-gray-500 transition-transform ${o?"rotate-180":""}`})]}),b.jsx(vi,{children:o&&b.jsx(re.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},className:"absolute top-full mt-2 w-full bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-gray-200 dark:border-gray-700 overflow-hidden z-50",children:b.jsxs("div",{ref:g,onMouseLeave:O,onPointerLeave:O,onScrollCapture:()=>{g.current&&(clearTimeout(g.current._scrollResetTimer),g.current._scrollResetTimer=setTimeout(()=>{var M;(M=g.current)!=null&&M.matches(":hover")||O()},1e3))},className:"max-h-72 overflow-y-auto pr-1.5 scrollbar-thin scrollbar-thumb-gray-400 dark:scrollbar-thumb-gray-600",children:[b.jsx(yG,{sensors:w,collisionDetection:vK,onDragEnd:k,children:b.jsx(PG,{items:f,strategy:kG,children:b.jsx("div",{className:"p-2",children:f.map(M=>b.jsx(UG,{project:M,currentProject:t,onClick:I=>{n(I),a(!1)},onRenameStart:I=>v(I),onDelete:I=>s(I)},M.id))})})}),b.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 p-2",children:l?b.jsxs("form",{onSubmit:x,className:"space-y-2",children:[b.jsx("input",{type:"text",value:u,onChange:M=>h(M.target.value),placeholder:"Project name",className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",autoFocus:!0}),b.jsxs("div",{className:"flex space-x-2",children:[b.jsx("button",{type:"submit",className:"flex-1 px-3 py-1.5 text-xs bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Create"}),b.jsx("button",{type:"button",onClick:()=>{c(!1),h("")},className:"flex-1 px-3 py-1.5 text-xs border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"})]})]}):b.jsxs(re.button,{onClick:()=>c(!0),whileHover:{scale:1.02},className:"w-full flex items-center px-3 py-2 text-sm text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",children:[b.jsx(pf,{className:"w-4 h-4 mr-2"}),"Create New Project"]})})]})})}),b.jsx(vi,{children:y&&b.jsx(FG,{project:y,onRename:(M,I)=>i(M,I),onClose:()=>v(null)})})]})},BG=({isOpen:t,onClose:e,notifications:n})=>{const{removeNotification:r,markAsRead:i}=dp(),s=u=>{switch(u){case"success":return b.jsx(VB,{className:"w-5 h-5 text-green-500"});case"warning":return b.jsx(ff,{className:"w-5 h-5 text-amber-500"});case"error":return b.jsx(ff,{className:"w-5 h-5 text-red-500"});default:return b.jsx(cT,{className:"w-5 h-5 text-blue-500"})}},o=u=>(typeof u=="string"?new Date(u):u).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),a=u=>{u.read||i(u.id)},l=(u,h)=>{u.stopPropagation(),r(h)},c=(n||[]).filter(u=>u.visibility==="toast"||u.visibility==="both").slice(0,3).reverse();return _.useEffect(()=>{const u=c.map(h=>setTimeout(()=>{r(h.id)},5e3));return()=>{u.forEach(clearTimeout)}},[c,r]),b.jsxs(b.Fragment,{children:[b.jsx(vi,{children:c.map((u,h)=>b.jsx(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.3},className:"fixed right-6 z-[9999]",style:{top:84+h*72},children:b.jsxs(re.div,{className:"relative overflow-hidden bg-white/70 dark:bg-gray-800/70 backdrop-blur-md border border-gray-200 dark:border-gray-700 text-sm text-gray-900 dark:text-white px-4 pt-3 pb-5 rounded-xl shadow-md flex flex-col space-y-2 w-80 hover:opacity-90 transition-all",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[b.jsxs("div",{className:"flex items-start space-x-3",children:[s(u.type),b.jsxs("div",{className:"flex-1",children:[b.jsx("p",{className:"font-semibold",children:u.title}),b.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300",children:u.message})]})]}),b.jsx(re.div,{initial:{scaleX:1},animate:{scaleX:0},transition:{duration:5,ease:"linear"},className:"h-1 w-full bg-green-500 rounded-b-xl origin-left absolute left-0 bottom-0"})]})},u.id))}),b.jsx(vi,{children:t&&b.jsxs(re.div,{initial:{opacity:0,scale:.9,y:-20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:-20},transition:{duration:.2},className:"fixed top-16 right-6 w-80 max-h-[400px] bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border overflow-hidden flex flex-col",onClick:u=>u.stopPropagation(),children:[b.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700/50",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Notifications"}),b.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[n.length," total"]})]}),b.jsx("button",{onClick:e,className:"p-1.5 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors","aria-label":"Close notifications panel",children:b.jsx(qc,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"})})]}),b.jsx("div",{className:"overflow-y-auto h-full pb-16 pr-1.5 scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-100 dark:scrollbar-thumb-gray-600 dark:scrollbar-track-gray-800",style:{scrollbarGutter:"stable"},children:n.length===0?b.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500 dark:text-gray-400 p-6",children:[b.jsx("div",{className:"w-12 h-12 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mb-3",children:b.jsx(cT,{className:"w-6 h-6 opacity-50"})}),b.jsx("p",{className:"font-medium",children:"No notifications"}),b.jsx("p",{className:"text-xs text-center mt-1",children:"You're all caught up!"})]}):b.jsx("div",{className:"p-3 space-y-2",children:n.filter(u=>u.visibility==="panel"||u.visibility==="both").slice(0,10).map(u=>b.jsxs(re.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`group relative p-3 rounded-lg border transition-all cursor-pointer ${u.read?"bg-gray-50 dark:bg-gray-700/50 border-gray-200 dark:border-gray-600":"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-700"} hover:shadow-sm`,onClick:()=>a(u),children:[b.jsxs("div",{className:"flex items-start space-x-2",children:[b.jsx("div",{className:"flex-shrink-0 mt-0.5",children:s(u.type)}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("p",{className:`text-xs font-semibold leading-tight ${u.read?"text-gray-700 dark:text-gray-300":"text-gray-900 dark:text-white"}`,children:u.title}),b.jsx("p",{className:`text-xs mt-1 leading-tight line-clamp-2 ${u.read?"text-gray-500 dark:text-gray-400":"text-gray-600 dark:text-gray-300"}`,children:u.message}),b.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-400 dark:text-gray-500 mt-1",children:[b.jsx(ww,{className:"w-3 h-3"}),b.jsx("span",{children:o(u.createdAt)})]})]}),b.jsx("button",{onClick:h=>l(h,u.id),className:"flex-shrink-0 p-1 hover:bg-red-100 dark:hover:bg-red-900/20 rounded transition-colors opacity-0 group-hover:opacity-100","aria-label":"Delete notification",children:b.jsx(xw,{className:"w-3 h-3 text-red-500"})})]}),!u.read&&b.jsx("div",{className:"absolute top-2 right-2 w-1.5 h-1.5 bg-blue-500 rounded-full"})]},u.id))})})]})})]})},zG=({isOpen:t,onClose:e})=>{const n=[{icon:b.jsx(GB,{className:"w-5 h-5 text-blue-500"}),title:"Create Tasks",description:"Double-click anywhere on the canvas to create a new task at that position"},{icon:b.jsx(YB,{className:"w-5 h-5 text-green-500"}),title:"Move Tasks",description:"Drag tasks around the canvas to organize your workflow layout"},{icon:b.jsx(BB,{className:"w-5 h-5 text-purple-500"}),title:"Connect Dependencies",description:"Drag from one task to another to create dependency connections"},{icon:b.jsx(vw,{className:"w-5 h-5 text-orange-500"}),title:"Calendar Navigation",description:"Use the bottom-left calendar to switch between different days and view day-specific tasks"},{icon:b.jsx(_w,{className:"w-5 h-5 text-indigo-500"}),title:"Project Management",description:"Switch between projects using the center dropdown - each project has independent calendars and tasks"}];return b.jsx(vi,{children:t&&b.jsx(re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:e,children:b.jsxs(re.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:r=>r.stopPropagation(),className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-hidden",children:[b.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Quick Tips & Help"}),b.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:b.jsx(qc,{className:"w-6 h-6 text-gray-500"})})]}),b.jsxs("div",{className:"p-6 overflow-y-auto",children:[b.jsx("div",{className:"space-y-6",children:n.map((r,i)=>b.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:i*.1},className:"flex items-start space-x-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[b.jsx("div",{className:"flex-shrink-0 p-2 bg-white dark:bg-gray-600 rounded-lg",children:r.icon}),b.jsxs("div",{children:[b.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:r.title}),b.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:r.description})]})]},i))}),b.jsxs("div",{className:"mt-8 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[b.jsx("h3",{className:"font-semibold text-blue-900 dark:text-blue-300 mb-2",children:"Need More Help?"}),b.jsx("p",{className:"text-blue-700 dark:text-blue-400 text-sm mb-3",children:"Visit our comprehensive documentation for detailed guides and tutorials."}),b.jsxs(re.a,{href:"#",whileHover:{scale:1.02},whileTap:{scale:.98},className:"inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition-colors",children:[b.jsx(FB,{className:"w-4 h-4 mr-2"}),"View Documentation"]})]})]})]})})})},HG=()=>{const{currentUser:t,logout:e}=Eo();Qv();const{notifications:n,unreadCount:r}=dp(),[i,s]=_.useState(!1),[o,a]=_.useState(!1),[l,c]=_.useState(!1),[u,h]=_.useState(new Date);_.useEffect(()=>{const y=setInterval(()=>{h(new Date)},1e3);return()=>clearInterval(y)},[]);const f=async()=>{try{await e(),cn.success("Logged out successfully")}catch{cn.error("Failed to logout")}},p=y=>{const v={month:"long",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",timeZone:"Europe/Istanbul"};return y.toLocaleDateString("en-US",v)};return b.jsxs(b.Fragment,{children:[b.jsxs(re.nav,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:"fixed top-0 left-0 right-0 z-50 bg-white/90 dark:bg-gray-900/90 backdrop-blur-lg border-b border-gray-200/50 dark:border-gray-700/50",children:[b.jsx("div",{className:"max-w-full px-6 py-3",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx(re.div,{whileHover:{scale:1.02},className:"flex items-center space-x-4",children:b.jsxs("div",{className:"flex items-center",children:[b.jsx("img",{src:"./512W.png",alt:"Planit Logo",className:"w-12 h-12 object-contain dark:block hidden"}),b.jsx("img",{src:"./512B.png",alt:"Planit Logo",className:"w-12 h-12 object-contain dark:hidden block"}),b.jsxs("div",{children:[b.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Planit"}),b.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-500 dark:text-gray-400",children:[b.jsx(vw,{className:"w-3 h-3"}),b.jsx("span",{children:p(u)})]})]})]})}),b.jsx("div",{className:"flex-1 flex justify-center max-w-md mx-8",children:b.jsx($G,{})}),b.jsxs("div",{className:"flex items-center space-x-3",children:[b.jsx(Xq,{}),b.jsxs(re.button,{onClick:()=>a(!o),whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",children:[b.jsx(DB,{className:"w-5 h-5"}),r>0&&b.jsx(re.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center font-medium",children:r>9?"9+":r})]}),b.jsxs("div",{className:"relative",children:[b.jsxs(re.button,{onClick:()=>s(!i),whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center space-x-2 p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",children:[b.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:b.jsx(nz,{className:"w-4 h-4 text-white"})}),b.jsx(kP,{className:`w-4 h-4 transition-transform ${i?"rotate-180":""}`})]}),b.jsx(vi,{children:i&&b.jsxs(re.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},className:"absolute right-0 mt-2 w-64 bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[b.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:[b.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Signed in as"}),b.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 truncate",children:t==null?void 0:t.email})]}),b.jsxs("div",{className:"p-2",children:[b.jsxs("button",{className:"w-full flex items-center px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:[b.jsx(JB,{className:"w-4 h-4 mr-3"}),"Account Settings"]}),b.jsxs("button",{onClick:()=>{c(!0),s(!1)},className:"w-full flex items-center px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:[b.jsx($B,{className:"w-4 h-4 mr-3"}),"Help / Quick Tips"]}),b.jsxs(re.button,{onClick:f,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full flex items-center px-3 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:[b.jsx(HB,{className:"w-4 h-4 mr-3"}),"Sign Out"]})]})]})})]})]})]})}),b.jsx(BG,{isOpen:o,onClose:()=>a(!1),notifications:n})]}),b.jsx(zG,{isOpen:l,onClose:()=>c(!1)})]})};function WG(){return W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},W.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function qG(){return W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},W.createElement("path",{d:"M0 0h32v4.2H0z"}))}function KG(){return W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},W.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function GG(){return W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},W.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function YG(){return W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},W.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const ql=({children:t,className:e,...n})=>W.createElement("button",{type:"button",className:Ht(["react-flow__controls-button",e]),...n},t);ql.displayName="ControlButton";const QG=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom}),TR=({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:s,onZoomOut:o,onFitView:a,onInteractiveChange:l,className:c,children:u,position:h="bottom-left"})=>{const f=St(),[p,y]=_.useState(!1),{isInteractive:v,minZoomReached:S,maxZoomReached:g}=ze(QG,Dt),{zoomIn:w,zoomOut:x,fitView:k}=kp();if(_.useEffect(()=>{y(!0)},[]),!p)return null;const O=()=>{w(),s==null||s()},M=()=>{x(),o==null||o()},I=()=>{k(i),a==null||a()},T=()=>{f.setState({nodesDraggable:!v,nodesConnectable:!v,elementsSelectable:!v}),l==null||l(!v)};return W.createElement(kw,{className:Ht(["react-flow__controls",c]),position:h,style:t,"data-testid":"rf__controls"},e&&W.createElement(W.Fragment,null,W.createElement(ql,{onClick:O,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:g},W.createElement(WG,null)),W.createElement(ql,{onClick:M,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:S},W.createElement(qG,null))),n&&W.createElement(ql,{className:"react-flow__controls-fitview",onClick:I,title:"fit view","aria-label":"fit view"},W.createElement(KG,null)),r&&W.createElement(ql,{className:"react-flow__controls-interactive",onClick:T,title:"toggle interactivity","aria-label":"toggle interactivity"},v?W.createElement(YG,null):W.createElement(GG,null)),u)};TR.displayName="Controls";var XG=_.memo(TR);const SR=({id:t,x:e,y:n,width:r,height:i,style:s,color:o,strokeColor:a,strokeWidth:l,className:c,borderRadius:u,shapeRendering:h,onClick:f,selected:p})=>{const{background:y,backgroundColor:v}=s||{},S=o||y||v;return W.createElement("rect",{className:Ht(["react-flow__minimap-node",{selected:p},c]),x:e,y:n,rx:u,ry:u,width:r,height:i,fill:S,stroke:a,strokeWidth:l,shapeRendering:h,onClick:f?g=>f(g,t):void 0})};SR.displayName="MiniMapNode";var JG=_.memo(SR);const ZG=t=>t.nodeOrigin,eY=t=>t.getNodes().filter(e=>!e.hidden&&e.width&&e.height),Jm=t=>t instanceof Function?t:()=>t;function tY({nodeStrokeColor:t="transparent",nodeColor:e="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i=2,nodeComponent:s=JG,onClick:o}){const a=ze(eY,Dt),l=ze(ZG),c=Jm(e),u=Jm(t),h=Jm(n),f=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return W.createElement(W.Fragment,null,a.map(p=>{const{x:y,y:v}=to(p,l).positionAbsolute;return W.createElement(s,{key:p.id,x:y,y:v,width:p.width,height:p.height,style:p.style,selected:p.selected,className:h(p),color:c(p),borderRadius:r,strokeColor:u(p),strokeWidth:i,shapeRendering:f,onClick:o,id:p.id})}))}var nY=_.memo(tY);const rY=200,iY=150,sY=t=>{const e=t.getNodes(),n={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:n,boundingRect:e.length>0?fW(Cp(e,t.nodeOrigin),n):n,rfId:t.rfId}},oY="react-flow__minimap-desc";function bR({style:t,className:e,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:i="",nodeBorderRadius:s=5,nodeStrokeWidth:o=2,nodeComponent:a,maskColor:l="rgb(240, 240, 240, 0.6)",maskStrokeColor:c="none",maskStrokeWidth:u=1,position:h="bottom-right",onClick:f,onNodeClick:p,pannable:y=!1,zoomable:v=!1,ariaLabel:S="React Flow mini map",inversePan:g=!1,zoomStep:w=10,offsetScale:x=5}){const k=St(),O=_.useRef(null),{boundingRect:M,viewBB:I,rfId:T}=ze(sY,Dt),C=(t==null?void 0:t.width)??rY,A=(t==null?void 0:t.height)??iY,N=M.width/C,L=M.height/A,P=Math.max(N,L),D=P*C,H=P*A,U=x*P,q=M.x-(D-M.width)/2-U,$=M.y-(H-M.height)/2-U,V=D+U*2,j=H+U*2,F=`${oY}-${T}`,B=_.useRef(0);B.current=P,_.useEffect(()=>{if(O.current){const Z=Qn(O.current),ne=ue=>{const{transform:te,d3Selection:we,d3Zoom:_e}=k.getState();if(ue.sourceEvent.type!=="wheel"||!we||!_e)return;const Fe=-ue.sourceEvent.deltaY*(ue.sourceEvent.deltaMode===1?.05:ue.sourceEvent.deltaMode?1:.002)*w,De=te[2]*Math.pow(2,Fe);_e.scaleTo(we,De)},ae=ue=>{const{transform:te,d3Selection:we,d3Zoom:_e,translateExtent:Fe,width:De,height:Ae}=k.getState();if(ue.sourceEvent.type!=="mousemove"||!we||!_e)return;const Qe=B.current*Math.max(1,te[2])*(g?-1:1),Ce={x:te[0]-ue.sourceEvent.movementX*Qe,y:te[1]-ue.sourceEvent.movementY*Qe},le=[[0,0],[De,Ae]],it=ai.translate(Ce.x,Ce.y).scale(te[2]),st=_e.constrain()(it,le,Fe);_e.transform(we,st)},pe=u2().on("zoom",y?ae:null).on("zoom.wheel",v?ne:null);return Z.call(pe),()=>{Z.on("zoom",null)}}},[y,v,g,w]);const G=f?Z=>{const ne=dr(Z);f(Z,{x:ne[0],y:ne[1]})}:void 0,Y=p?(Z,ne)=>{const ae=k.getState().nodeInternals.get(ne);p(Z,ae)}:void 0;return W.createElement(kw,{position:h,style:t,className:Ht(["react-flow__minimap",e]),"data-testid":"rf__minimap"},W.createElement("svg",{width:C,height:A,viewBox:`${q} ${$} ${V} ${j}`,role:"img","aria-labelledby":F,ref:O,onClick:G},S&&W.createElement("title",{id:F},S),W.createElement(nY,{onClick:Y,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:s,nodeClassName:i,nodeStrokeWidth:o,nodeComponent:a}),W.createElement("path",{className:"react-flow__minimap-mask",d:`M${q-U},${$-U}h${V+U*2}v${j+U*2}h${-V-U*2}z
        M${I.x},${I.y}h${I.width}v${I.height}h${-I.width}z`,fill:l,fillRule:"evenodd",stroke:c,strokeWidth:u,pointerEvents:"none"})))}bR.displayName="MiniMap";var aY=_.memo(bR),er;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(er||(er={}));function lY({color:t,dimensions:e,lineWidth:n}){return W.createElement("path",{stroke:t,strokeWidth:n,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`})}function cY({color:t,radius:e}){return W.createElement("circle",{cx:e,cy:e,r:e,fill:t})}const uY={[er.Dots]:"#91919a",[er.Lines]:"#eee",[er.Cross]:"#e2e2e2"},dY={[er.Dots]:1,[er.Lines]:1,[er.Cross]:6},hY=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function IR({id:t,variant:e=er.Dots,gap:n=20,size:r,lineWidth:i=1,offset:s=2,color:o,style:a,className:l}){const c=_.useRef(null),{transform:u,patternId:h}=ze(hY,Dt),f=o||uY[e],p=r||dY[e],y=e===er.Dots,v=e===er.Cross,S=Array.isArray(n)?n:[n,n],g=[S[0]*u[2]||1,S[1]*u[2]||1],w=p*u[2],x=v?[w,w]:g,k=y?[w/s,w/s]:[x[0]/s,x[1]/s];return W.createElement("svg",{className:Ht(["react-flow__background",l]),style:{...a,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:c,"data-testid":"rf__background"},W.createElement("pattern",{id:h+t,x:u[0]%g[0],y:u[1]%g[1],width:g[0],height:g[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${k[0]},-${k[1]})`},y?W.createElement(cY,{color:f,radius:w/s}):W.createElement(lY,{dimensions:x,color:f,lineWidth:i})),W.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${h+t})`}))}IR.displayName="Background";var fY=_.memo(IR);function CR(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=CR(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Zm(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=CR(t))&&(r&&(r+=" "),r+=e);return r}const kR=_.memo(({data:t,selected:e})=>{const{id:n,title:r,description:i,priority:s,completed:o,onToggleComplete:a,onEdit:l,onDelete:c}=t,u=p=>{p.target.closest("button[data-checkbox]")||(p.preventDefault(),p.stopPropagation(),l(t))},h={High:"border-red-400 bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20",Medium:"border-yellow-400 bg-gradient-to-br from-yellow-50 to-yellow-100 dark:from-yellow-900/20 dark:to-yellow-800/20",Low:"border-green-400 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20"},f={High:b.jsx(AP,{className:"w-4 h-4 text-red-500"}),Medium:b.jsx(ff,{className:"w-4 h-4 text-yellow-500"}),Low:b.jsx(ww,{className:"w-4 h-4 text-green-500"})};return b.jsxs(re.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},whileHover:{scale:1.02},onDoubleClick:u,className:Zm("w-[300px] rounded-xl border-2 shadow-lg backdrop-blur-sm relative cursor-move",o?"border-green-400 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 opacity-75":h[s],"hover:shadow-xl transition-all duration-200",e&&"ring-2 ring-blue-500 ring-offset-2 dark:ring-offset-gray-900"),children:[b.jsx($a,{type:"target",position:ce.Left,id:"left",className:"w-4 h-4 bg-blue-500 border-2 border-white shadow-md !cursor-crosshair !left-[-8px] !top-[50%] !transform !-translate-y-1/2"}),b.jsx($a,{type:"source",position:ce.Right,id:"right",className:"w-4 h-4 bg-blue-500 border-2 border-white shadow-md !cursor-crosshair !right-[-8px] !top-[50%] !transform !-translate-y-1/2"}),b.jsxs("div",{className:"p-5",children:[b.jsxs("div",{className:"flex items-start justify-between mb-3",children:[b.jsx(re.button,{onClick:p=>{p.stopPropagation(),a(n)},"data-checkbox":!0,className:"flex-shrink-0 mr-3 mt-1",whileHover:{scale:1.1},whileTap:{scale:.9},children:o?b.jsx(MB,{className:"w-6 h-6 text-green-600"}):b.jsx(jB,{className:"w-6 h-6 text-gray-400 hover:text-gray-600 transition-colors"})}),b.jsxs("div",{className:"flex items-center space-x-2",children:[f[s],b.jsx("span",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wide",children:s})]})]}),b.jsxs("div",{className:"mb-4",children:[b.jsx("h3",{className:Zm("font-bold text-gray-900 dark:text-white mb-2 text-lg leading-tight",o&&"line-through text-gray-500"),children:r}),i&&b.jsx("p",{className:Zm("text-sm text-gray-600 dark:text-gray-400 leading-relaxed",o&&"line-through"),children:i})]}),b.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-200 dark:border-gray-600",children:[b.jsxs(re.button,{onClick:p=>{p.stopPropagation(),l(t)},whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center px-3 py-1.5 text-xs font-medium text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",children:[b.jsx(QB,{className:"w-3 h-3 mr-1"}),"Edit"]}),b.jsxs(re.button,{onClick:p=>{p.stopPropagation(),c(n)},whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center px-3 py-1.5 text-xs font-medium text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:[b.jsx(xw,{className:"w-3 h-3 mr-1"}),"Delete"]})]})]})]})});kR.displayName="TodoNode";const pY=({onCreateTask:t})=>b.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col items-center justify-center h-full text-center p-8",children:[b.jsx(re.div,{initial:{scale:.8},animate:{scale:1},transition:{delay:.2},className:"mb-8",children:b.jsx("div",{className:"w-24 h-24 mx-auto mb-6 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:b.jsx(uT,{className:"w-12 h-12 text-white"})})}),b.jsx(re.h2,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Welcome to Planit"}),b.jsx(re.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"text-lg text-gray-600 dark:text-gray-400 mb-8 max-w-md",children:"Start building your task workflow by creating your first task. Connect tasks with dependencies to visualize your project flow."}),b.jsx(re.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"space-y-4",children:b.jsxs(re.button,{onClick:t,whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center px-8 py-4 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold rounded-xl shadow-lg transition-all duration-200",children:[b.jsx(pf,{className:"w-5 h-5 mr-2"}),"Create First Task"]})}),b.jsxs(re.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.7},className:"mt-12 grid grid-cols-1 md:grid-cols-3 gap-6 max-w-2xl",children:[b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"w-12 h-12 mx-auto mb-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center",children:b.jsx(pf,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),b.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:"Create Tasks"}),b.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Add tasks with priorities and descriptions"})]}),b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"w-12 h-12 mx-auto mb-3 bg-purple-100 dark:bg-purple-900/30 rounded-lg flex items-center justify-center",children:b.jsx(NB,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),b.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:"Connect Dependencies"}),b.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Drag between tasks to create workflows"})]}),b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"w-12 h-12 mx-auto mb-3 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center",children:b.jsx(uT,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),b.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:"Track Progress"}),b.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Visualize your project completion"})]})]})]}),hS=({isOpen:t,onClose:e,onSave:n,onUpdate:r,editingTask:i,position:s})=>{const[o,a]=_.useState({title:"",description:"",priority:"Medium"}),[l,c]=_.useState(""),[u,h]=_.useState(!1),f=["📝","✅","🎯","🚀","💡","🔥","⭐","📊","💼","🏆","🎨","🔧","📱","💻","📚","🎵","🍕","☕","🏃","💪","🌟","🎉","🔔","📅","🌈","🎪","🎭","🎲","🎸","🎤","🎬","📷"];_.useEffect(()=>{if(i){const g=i.title.match(new RegExp("^(\\p{Emoji})\\s*","u")),w=g?g[1]:"",x=i.title.replace(new RegExp("^(\\p{Emoji})\\s*","u"),"");a({title:x,description:i.description,priority:i.priority}),c(w)}else a({title:"",description:"",priority:"Medium"}),c("")},[i,t]);const p=g=>{if(g.preventDefault(),!o.title.trim())return;const w=l?`${l} ${o.title}`:o.title;i?r({...i,...o,title:w}):n({...o,title:w,completed:!1,dependencies:[],position:s||{x:Math.random()*400+100,y:Math.random()*300+100}}),e()},y=g=>{c(g),h(!1)},v={High:b.jsx(AP,{className:"w-4 h-4 text-red-500"}),Medium:b.jsx(ff,{className:"w-4 h-4 text-yellow-500"}),Low:b.jsx(ww,{className:"w-4 h-4 text-green-500"})},S={High:"border-red-200 bg-red-50 dark:bg-red-900/20",Medium:"border-yellow-200 bg-yellow-50 dark:bg-yellow-900/20",Low:"border-green-200 bg-green-50 dark:bg-green-900/20"};return b.jsx(vi,{children:t&&b.jsx(re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:e,children:b.jsxs(re.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:g=>g.stopPropagation(),className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-md",children:[b.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[b.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:i?"Edit Task":"Create New Task"}),b.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:b.jsx(qc,{className:"w-5 h-5 text-gray-500"})})]}),b.jsxs("form",{onSubmit:p,className:"p-6 space-y-6",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Task Title *"}),b.jsxs("div",{className:"flex space-x-3",children:[b.jsxs("div",{className:"relative",children:[b.jsx("button",{type:"button",onClick:()=>h(!u),className:"w-12 h-12 border border-gray-300 dark:border-gray-600 rounded-lg hover:border-gray-400 dark:hover:border-gray-500 flex items-center justify-center text-xl bg-white dark:bg-gray-700 transition-colors",children:l||b.jsx(ZB,{className:"w-5 h-5 text-gray-400"})}),b.jsx(vi,{children:u&&b.jsx(re.div,{initial:{opacity:0,scale:.9,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:-10},className:"absolute top-full mt-2 left-0 w-64 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl shadow-xl z-50 p-3",children:b.jsxs("div",{className:"grid grid-cols-8 gap-2 max-h-48 overflow-y-auto",children:[b.jsx("button",{type:"button",onClick:()=>y(""),className:"w-8 h-8 flex items-center justify-center hover:bg-gray-100 dark:hover:bg-gray-600 rounded-lg transition-colors",title:"No emoji",children:b.jsx(qc,{className:"w-4 h-4 text-gray-400"})}),f.map((g,w)=>b.jsx("button",{type:"button",onClick:()=>y(g),className:"w-8 h-8 flex items-center justify-center hover:bg-gray-100 dark:hover:bg-gray-600 rounded-lg transition-colors text-lg",children:g},w))]})})})]}),b.jsx("input",{type:"text",value:o.title,onChange:g=>a({...o,title:g.target.value}),className:"flex-1 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Enter task title",autoFocus:!0,required:!0})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),b.jsx("textarea",{value:o.description,onChange:g=>a({...o,description:g.target.value}),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white resize-none",rows:3,placeholder:"Enter task description (optional)"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Priority"}),b.jsx("div",{className:"grid grid-cols-3 gap-3",children:["Low","Medium","High"].map(g=>b.jsx("button",{type:"button",onClick:()=>a({...o,priority:g}),className:`p-3 border-2 rounded-lg transition-all ${o.priority===g?S[g]+" border-current":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"}`,children:b.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[v[g],b.jsx("span",{className:"text-sm font-medium",children:g})]})},g))})]}),b.jsxs("div",{className:"flex space-x-3 pt-4",children:[b.jsx(re.button,{type:"button",onClick:e,whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 px-4 py-3 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 font-medium rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),b.jsxs(re.button,{type:"submit",whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 flex items-center justify-center px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors",children:[b.jsx(RP,{className:"w-4 h-4 mr-2"}),i?"Update":"Create"," Task"]})]})]})]})})})},fS=({selectedDate:t,onDateSelect:e})=>{const[n,r]=_.useState(new Date),[i,s]=_.useState(!1),o=y=>new Date(y.getFullYear(),y.getMonth()+1,0).getDate(),a=y=>new Date(y.getFullYear(),y.getMonth(),1).getDay(),l=y=>{r(v=>{const S=new Date(v);return y==="prev"?S.setMonth(v.getMonth()-1):S.setMonth(v.getMonth()+1),S})},c=y=>{const v=new Date;return y.toDateString()===v.toDateString()},u=y=>y.toDateString()===t.toDateString(),h=()=>{const y=o(n),v=a(n),S=[];for(let g=0;g<v;g++)S.push(b.jsx("div",{className:"h-8"},`empty-${g}`));for(let g=1;g<=y;g++){const w=new Date(n.getFullYear(),n.getMonth(),g),x=c(w),k=u(w);S.push(b.jsx(re.button,{onClick:()=>e(w),whileHover:{scale:1.1},whileTap:{scale:.9},className:`
            h-8 w-8 rounded-lg text-sm font-medium transition-colors
            ${k?"bg-blue-600 text-white":x?"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300"}
          `,children:g},g))}return S},f=["January","February","March","April","May","June","July","August","September","October","November","December"],p=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return b.jsxs(re.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:`
        fixed bottom-6 left-6 bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-gray-200 dark:border-gray-700 z-30
        ${i?"w-80":"w-64"}
      `,children:[b.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx(vw,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),b.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white",children:[f[n.getMonth()]," ",n.getFullYear()]})]}),b.jsxs("div",{className:"flex items-center space-x-1",children:[b.jsx(re.button,{onClick:()=>l("prev"),whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:b.jsx(OB,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})}),b.jsx(re.button,{onClick:()=>l("next"),whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:b.jsx(LB,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})}),b.jsx(re.button,{onClick:()=>s(!i),whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded ml-2",children:i?b.jsx(qB,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"}):b.jsx(WB,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})})]})]}),b.jsxs("div",{className:"p-4",children:[b.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:p.map(y=>b.jsx("div",{className:"h-8 flex items-center justify-center",children:b.jsx("span",{className:"text-xs font-medium text-gray-500 dark:text-gray-400",children:y})},y))}),b.jsx("div",{className:"grid grid-cols-7 gap-1",children:h()})]}),b.jsx("div",{className:"px-4 pb-4",children:b.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:["Selected:"," ",t.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]})})]})},mY={todoNode:kR},gY=({onEditTodo:t})=>{const{currentUser:e}=Eo(),{currentProject:n,createProject:r}=Qv(),{addNotification:i}=dp(),[s,o]=_.useState([]),[a,l,c]=Yq([]),[u,h,f]=Qq([]),[p,y]=_.useState(!1),[v,S]=_.useState(null),[g,w]=_.useState(),[x,k]=_.useState(new Date),{screenToFlowPosition:O}=kp(),M=_.useRef(new Map),I=_.useCallback(async(V,j)=>{if(!(!e||!n))try{const F=qn(on,"users",e.uid,"projects",n.id,"todos",V);await Gr(F,{position:j}),console.log(`Position updated for task ${V}:`,j)}catch(F){console.error("Error updating position:",F),setTimeout(async()=>{try{const B=qn(on,"users",e.uid,"projects",n.id,"todos",V);await Gr(B,{position:j})}catch(B){console.error("Retry failed for position update:",B)}},1e3)}},[e,n]);_.useEffect(()=>{if(!e||!n)return;const V=x.toISOString().split("T")[0];return eA(t9(tf(on,"users",e.uid,"projects",n.id,"todos"),n9("dateKey","==",V)),F=>{const B=F.docs.map(G=>{var Z;const Y=G.data();return{id:G.id,...Y,createdAt:((Z=Y.createdAt)==null?void 0:Z.toDate())||new Date,position:Y.position||{x:400,y:300}}});console.log("Loaded todos with positions:",B.map(G=>({id:G.id,title:G.title,position:G.position}))),o(B)},F=>{console.error("Error fetching todos:",F),cn.error("Failed to load todos")})},[e,n,x]);const T=_.useCallback((V,j)=>{let Y=(j==null?void 0:j.x)||400,Z=(j==null?void 0:j.y)||300;Y=Math.round(Y/50)*50,Z=Math.round(Z/50)*50;const ne=(ae,pe)=>V.some(ue=>{if(!ue.position)return!1;const te=Math.abs(ue.position.x-ae),we=Math.abs(ue.position.y-pe);return te<320&&we<200});if(ne(Y,Z)){let ae=50,pe=!1;for(;!pe&&ae<1e3;){for(let ue=0;ue<360;ue+=45){const te=ue*Math.PI/180,we=Math.round((Y+Math.cos(te)*ae)/50)*50,_e=Math.round((Z+Math.sin(te)*ae)/50)*50;if(!ne(we,_e)){Y=we,Z=_e,pe=!0;break}}ae+=50}}return{x:Y,y:Z}},[]);_.useEffect(()=>{if(s.length===0){l([]),h([]),M.current.clear();return}const V=s.map(F=>{const B=M.current.get(F.id),G=a.find(Z=>Z.id===F.id);let Y;return B?Y=B:G!=null&&G.position?(Y=G.position,M.current.set(F.id,G.position)):F.position?(Y=F.position,M.current.set(F.id,F.position)):(Y=T(s,{x:400,y:300}),M.current.set(F.id,Y)),{id:F.id,type:"todoNode",position:Y,data:{...F,onToggleComplete:N,onEdit:P,onDelete:L},draggable:!0,selectable:!0,connectable:!0}}),j=[];s.forEach(F=>{F.dependencies.forEach(B=>{s.some(G=>G.id===B)&&j.push({id:`${B}-${F.id}`,source:B,target:F.id,sourceHandle:"right",targetHandle:"left",type:"smoothstep",animated:!0,style:{stroke:"#3B82F6",strokeWidth:2},markerEnd:{type:"arrowclosed",color:"#3B82F6"}})})}),console.log("Setting nodes with positions:",V.map(F=>({id:F.id,position:F.position}))),l(V),h(j)},[s,T]);const C=_.useCallback(V=>{c(V),V.forEach(j=>{j.type==="position"&&j.position&&(M.current.set(j.id,j.position),j.dragging===!1&&(console.log(`Saving position for ${j.id}:`,j.position),I(j.id,j.position)))})},[c,I]),A=_.useCallback(async V=>{f(V);for(const j of V)if(j.type==="remove"&&e&&n){const[F,B]=j.id.split("-");try{const G=s.find(Y=>Y.id===B);if(G){const Y=G.dependencies.filter(Z=>Z!==F);await Gr(qn(on,"users",e.uid,"projects",n.id,"todos",B),{dependencies:Y,position:G.position}),i({type:"info",title:"Dependency Removed",message:"Task dependency has been removed successfully",visibility:"toast"})}}catch(G){console.error("Error removing dependency:",G),cn.error("Failed to remove dependency")}}},[f,e,n,s,i]),N=async V=>{if(!(!e||!n))try{const j=s.find(F=>F.id===V);if(j){const F=M.current.get(V)||j.position;await Gr(qn(on,"users",e.uid,"projects",n.id,"todos",V),{completed:!j.completed,position:F}),i({type:"success",title:j.completed?"Task Reopened":"Task Completed",message:`${j.title} has been ${j.completed?"marked as incomplete":"completed"}`,visibility:"toast"})}}catch(j){console.error("Error updating todo:",j),cn.error("Failed to update task")}},L=async V=>{if(!(!e||!n))try{const j=s.find(B=>B.id===V);await Jk(qn(on,"users",e.uid,"projects",n.id,"todos",V)),M.current.delete(V);const F=s.filter(B=>B.dependencies.includes(V));for(const B of F){const G=M.current.get(B.id)||B.position;await Gr(qn(on,"users",e.uid,"projects",n.id,"todos",B.id),{dependencies:B.dependencies.filter(Y=>Y!==V),position:G})}i({type:"info",title:"Task Deleted",message:`${j==null?void 0:j.title} has been deleted successfully`,visibility:"toast"})}catch(j){console.error("Error deleting todo:",j),cn.error("Failed to delete task")}},P=V=>{S(V),y(!0),t(V)},D=async V=>{if(!n)try{await r("Planit Project")}catch(j){console.error("Proje oluşturulamadı:",j);return}S(null),w(V),y(!0)},H=async V=>{if(!(!e||!n))try{const j=x.toISOString().split("T")[0],F=T(s,V.position),B=await Zk(tf(on,"users",e.uid,"projects",n.id,"todos"),{...V,position:F,dateKey:j,createdAt:new Date});M.current.set(B.id,F),i({type:"success",title:"Task Created",message:`${V.title} has been created successfully`,visibility:"toast"})}catch(j){console.error("Error creating todo:",j),cn.error("Failed to create task")}},U=async V=>{if(!(!e||!n))try{const j=M.current.get(V.id)||V.position,F={title:V.title,description:V.description,priority:V.priority,position:j};console.log(`Updating task ${V.id} while preserving position:`,F.position),await Gr(qn(on,"users",e.uid,"projects",n.id,"todos",V.id),F),S(null),i({type:"success",title:"Task Updated",message:`${V.title} has been updated successfully`,visibility:"toast"})}catch(j){console.error("Error updating todo:",j),cn.error("Failed to update task")}},q=_.useCallback(async V=>{if(!(!e||!n||!V.source||!V.target)){if(V.source===V.target){cn.error("Cannot connect a task to itself");return}try{const j=s.find(F=>F.id===V.target);if(j){const F=[...j.dependencies];if(F.includes(V.source))cn.info("Dependency already exists");else{F.push(V.source);const B=M.current.get(V.target)||j.position;await Gr(qn(on,"users",e.uid,"projects",n.id,"todos",V.target),{dependencies:F,position:B}),i({type:"success",title:"Dependency Added",message:"Task dependency has been created successfully",visibility:"toast"})}}}catch(j){console.error("Error adding dependency:",j),cn.error("Failed to add dependency")}}},[s,e,n,i]),$=_.useCallback(V=>{V.preventDefault(),V.stopPropagation();const j=O({x:V.clientX,y:V.clientY});console.log("Double-click detected at position:",j),D(j)},[O]);return s.length===0?b.jsxs("div",{className:"h-full w-full relative pt-20",children:[b.jsx(pY,{onCreateTask:D}),b.jsx(hS,{isOpen:p,onClose:()=>y(!1),onSave:H,onUpdate:U,editingTask:v,position:g}),b.jsx(fS,{selectedDate:x,onDateSelect:k})]}):b.jsxs(re.div,{initial:{opacity:0},animate:{opacity:1},className:"h-full w-full relative pt-20",children:[b.jsxs(tR,{nodes:a,edges:u,onNodesChange:C,onEdgesChange:A,onConnect:q,onPaneClick:V=>{const j=Date.now(),F=j-$.lastClickTime;if($.lastClickTime=j,F<300){console.log("Manual double-click detected on pane");const B=O({x:V.clientX,y:V.clientY});D(B)}},nodeTypes:mY,fitView:!0,fitViewOptions:{padding:.2,includeHiddenNodes:!1},className:"bg-gray-50 dark:bg-gray-900",defaultViewport:{x:0,y:0,zoom:.8},minZoom:.1,maxZoom:2,attributionPosition:"bottom-left",nodesDraggable:!0,nodesConnectable:!0,elementsSelectable:!0,selectNodesOnDrag:!1,panOnDrag:!0,zoomOnScroll:!0,zoomOnPinch:!0,panOnScroll:!1,preventScrolling:!0,connectionLineType:"smoothstep",connectionLineStyle:{stroke:"#3B82F6",strokeWidth:2},children:[b.jsx(XG,{className:"bg-white/90 dark:bg-gray-800/90 border border-gray-200 dark:border-gray-700 shadow-lg backdrop-blur-sm",showInteractive:!1}),b.jsx(aY,{className:"bg-white/90 dark:bg-gray-800/90 border border-gray-200 dark:border-gray-700 shadow-lg backdrop-blur-sm",nodeColor:"#3B82F6",maskColor:"rgba(0, 0, 0, 0.1)",pannable:!0,zoomable:!0}),b.jsx(fY,{variant:er.Dots,gap:24,size:1.5,color:"#9CA3AF",className:"opacity-30 dark:opacity-20"})]}),b.jsx(hS,{isOpen:p,onClose:()=>y(!1),onSave:H,onUpdate:U,editingTask:v,position:g}),b.jsx(fS,{selectedDate:x,onDateSelect:k}),b.jsx(re.button,{onClick:()=>D(),whileHover:{scale:1.1},whileTap:{scale:.9},className:"fixed bottom-6 right-60 w-14 h-14 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 border-2 border-gray-200 dark:border-gray-600 hover:border-blue-500 dark:hover:border-blue-400 text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 rounded-xl shadow-lg hover:shadow-xl flex items-center justify-center z-10 backdrop-blur-sm transition-all duration-200",children:b.jsx(pf,{className:"w-6 h-6"})})]})},yY=()=>{Eo();const[t,e]=_.useState(null),n=r=>{e(r)};return b.jsx(jw,{children:b.jsxs(re.div,{initial:{opacity:0},animate:{opacity:1},className:"h-screen bg-gray-50 dark:bg-gray-900 overflow-hidden",children:[b.jsx(HG,{}),b.jsx("div",{className:"h-full",children:b.jsx(gY,{onEditTodo:n})})]})})};function vY(){return b.jsx(d9,{children:b.jsx(c9,{children:b.jsx(h9,{children:b.jsx(f9,{children:b.jsx(pV,{basename:"/Planit/",children:b.jsxs("div",{className:"App",children:[b.jsxs(aV,{children:[b.jsx(Vl,{path:"/login",element:b.jsx(rz,{})}),b.jsx(Vl,{path:"/register",element:b.jsx(iz,{})}),b.jsx(Vl,{path:"/dashboard",element:b.jsx(p9,{children:b.jsx(yY,{})})}),b.jsx(Vl,{path:"/",element:b.jsx(LI,{to:"/dashboard",replace:!0})})]}),b.jsx(aO,{position:"top-right",toastOptions:{duration:3e3,style:{background:"var(--toast-bg)",color:"var(--toast-color)"},className:"dark:bg-gray-800 dark:text-white"}})]})})})})})})}CI(document.getElementById("root")).render(b.jsx(_.StrictMode,{children:b.jsx(vY,{})}));
